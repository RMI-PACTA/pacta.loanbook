[{"path":"https://rmi-pacta.github.io/pacta.loanbook/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 pacta.loanbook authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_interpretation.html","id":"match-success-rate","dir":"Articles","previous_headings":"Coverage Diagnostics","what":"Match Success Rate","title":"Interpretation of Results","text":"Name (metric) Formulae Description Possible action(s)/ impact Use combination metrics Time horizon Geographic relevance Sectoral relevance Plot demo (applicable)","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_interpretation.html","id":"sector-level-technology-mix","dir":"Articles","previous_headings":"PACTA Target Market Share Metrics","what":"Sector-level technology mix","title":"Interpretation of Results","text":"Name (metric) Formulae Description Possible action(s)/ impact Use combination metrics Time horizon Geographic relevance Sectoral relevance Plot demo (applicable)","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_interpretation.html","id":"technology-level-volume-trajectory","dir":"Articles","previous_headings":"PACTA Target Market Share Metrics","what":"Technology-level volume trajectory","title":"Interpretation of Results","text":"Name (metric) Formulae Description Possible action(s)/ impact Use combination metrics Time horizon Geographic relevance Sectoral relevance Plot demo (applicable)","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_interpretation.html","id":"sector-level-emission-intensity","dir":"Articles","previous_headings":"PACTA SDA Metric","what":"Sector-level emission intensity","title":"Interpretation of Results","text":"Name (metric) Formulae Description Possible action(s)/ impact Use combination metrics Time horizon Geographic relevance Sectoral relevance Plot demo (applicable) PREVIOUS CHAPTER: Running Analysis NEXT CHAPTER: Advanced Use Cases","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_overview.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Overview","text":"cookbook provides step--step guide running PACTA Banks analysis using pacta.loanbook package. analysis designed help banks assess alignment loan books Paris Agreement goals. sections cookbook follows: Overview: section provides overview PACTA Banks analysis main steps. Preparatory Steps: Prepare Loanbook, ABCD Scenario input data. Running Analysis: Match raw loan books ABCD data run PACTA Banks analysis. Interpretation Results: Interpret results analysis understand outputs. Advanced Topics: Learn adjust analysis parameters best results advanced research questions.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_overview.html","id":"what-is-the-pacta-for-banks-analysis","dir":"Articles","previous_headings":"Overview","what":"What is the PACTA for Banks analysis?","title":"Overview","text":"PACTA Banks based PACTA methodology, assesses alignment financial portfolios climate goals utilizing forward-looking asset-based company data (ABCD) linked financial assets compares production profiles companies technology emissions pathways climate transition scenarios sector /technology level.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_overview.html","id":"who-are-these-tools-built-for","dir":"Articles","previous_headings":"Overview","what":"Who are these tools built for?","title":"Overview","text":"PACTA Banks analysis primarily designed run banks , minimal additional guidance. However, can also useful tool user, case like run PACTA analysis loan book.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_overview.html","id":"what-can-the-results-of-the-pacta-for-banks-analysis-be-used-for","dir":"Articles","previous_headings":"Overview","what":"What can the results of the PACTA for Banks analysis be used for?","title":"Overview","text":"Banks can use results analysis assess alignment loan books Paris Agreement goals, identify sectors may need take action improve alignment, screen potential climate-related transition risks. results may additionally used identify opportunities climate-aligned investments, well detecting individual counterparties may exposed climate-related transition risks may therefore require dedicated focus risk management process. Users able obtain tabular outputs plots can used use cases. tabular output enables processing alignment results models tools, example input financial risk models, recurring input internal monitoring systems.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_overview.html","id":"what-are-the-main-steps-of-the-analysis","dir":"Articles","previous_headings":"Overview","what":"What are the main steps of the analysis?","title":"Overview","text":"main steps analysis follows: Data preparation: Prepare loan book, ABCD Scenario input data. Matching process: Match raw loan book ABCD data. Prioritization loan book: Prioritize matched loan book analyze coverage. Run PACTA Banks analysis: Run analysis generate plots. cookbook guide steps analysis detail, explain required input data sets software, provide guidance interpret results. NEXT CHAPTER: Preparatory Steps","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_preparatory_steps.html","id":"preparatory-steps","dir":"Articles","previous_headings":"","what":"Preparatory Steps","title":"Preparatory Steps","text":"section provides overview preparatory steps need taken running PACTA Banks analysis. includes information required input data sets required software.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_preparatory_steps.html","id":"required-input-data-sets","dir":"Articles","previous_headings":"Preparatory Steps","what":"Required Input Data Sets","title":"Preparatory Steps","text":"PACTA Banks analysis requires number input data sets run. can obtained external sources, others need prepared user. Furthermore, input data sets optional. main input data sets required analysis following:","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_preparatory_steps.html","id":"asset-based-company-data-abcd","dir":"Articles","previous_headings":"Preparatory Steps > Required Input Data Sets","what":"Asset-based Company Data (ABCD)","title":"Preparatory Steps","text":"required input external source XLSX file data set provides information production profiles emission intensities companies active following real economy sectors: Automotive (light-duty vehicles) manufacturing, aviation, cement production, coal mining, upstream oil & gas extraction, power generation, steel production. ABCD typically obtained third party data providers. However, possible prepare ABCD complement external data set entries may covered box. ABCD data set must XLSX file contains following columns: company_id: <character> name_company: <character> lei: <character> sector: <character> technology: <character> production_unit: <character> year: <integer> production: <numeric> emission_factor: <numeric> plant_location: <character> is_ultimate_owner: <logical> emission_factor_unit: <character> detail necessary structure dataset, see data dictionary abcd. PACTA data agnostic allows using data provider offers appropriate format, one option obtain ABCD analysis buy data data provider Asset Impact. information obtain ABCD PACTA documentation individual sectors data points can found Asset Impact website.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_preparatory_steps.html","id":"scenario-data","dir":"Articles","previous_headings":"Preparatory Steps > Required Input Data Sets","what":"Scenario Data","title":"Preparatory Steps","text":"required input(s) external source CSV file(s) scenario data set provides information trajectories technologies/fuel types emission intensity pathways (subset ) sectors covered PACTA. sectors technology level trajectories, data set provides TMSR SMSP pathways based Market Share Approach, allocation rule implies companies active sector adjust production way keeps market shares constant solves aggregate climate transition scenario. information calculate TMSR SMSP, see PACTA Banks documentation. target market share scenario data set must CSV file contains following columns: scenario: <character> sector: <character> technology: <character> region: <character> year: <integer> tmsr: <numeric> smsp: <numeric> scenario_source: <character> detail necessary structure dataset, see data dictionary scenario. sectors technology level pathways, PACTA uses Sectoral Decarbonization Approach (SDA), allocation rule implies companies sector converge physical emission intensity future scenario value - e.g. year 2050. implies polluting companies reduce physical emissions intensity drastically companies using cleaner technology. direct implications amount units produced company. information calculating SDA PACTA, please see PACTA Banks documentation. SDA scenario data set must CSV file contains following columns: scenario_source: <character> scenario: <character> sector: <character> region: <character> year: <numeric> emission_factor_unit: <character> emission_factor: <numeric> detail necessary structure dataset, see data dictionary scenario. raw input values scenarios based models external third party organisations - World Energy Outlook International Energy Agency (IEA), Global Energy Climate Outlook Joint Research Center European Commission (JRC), One Earth Climate Model Institute Sustainable Futures (ISF) - input data set PACTA must prepared using additional steps, documented publicly following GitHub repositories: pacta.scenario.data.preparation workflow.scenario.preparation Since RMI taken stewardship PACTA, prepared scenario files can also accessed CSV downloads “Methodology Supporting Documents” section PACTA website. files usually updated annually based latest scenario publications general rule, year publication defines initial year scenario data set. commonly also used start year analysis.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_preparatory_steps.html","id":"raw-loan-book","dir":"Articles","previous_headings":"Preparatory Steps > Required Input Data Sets","what":"Raw Loan Book","title":"Preparatory Steps","text":"required input self-prepared CSV file raw loan book financial data set like analyze. contains information loans provided companies. bank, data required available internal systems. raw loan book must prepared CSV files contain minimum following columns: id_loan: <character> id_direct_loantaker: <character> name_direct_loantaker: <character> id_ultimate_parent: <character> name_ultimate_parent: <character> loan_size_outstanding: <numeric> loan_size_outstanding_currency: <character> loan_size_credit_limit: <numeric> loan_size_credit_limit_currency: <character> sector_classification_system: <character> sector_classification_direct_loantaker: <character> lei_direct_loantaker: <character> isin_direct_loantaker: <character> detail necessary structure dataset, see data dictionary loanbook. detailed descriptions prepare raw loan books, see “Training Materials” section PACTA Banks documentation. “User Guide 2”, “Data Dictionary”, “Loan Book Template” files can helpful preparing data.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_preparatory_steps.html","id":"misclassified-loans-optional","dir":"Articles","previous_headings":"Preparatory Steps > Required Input Data Sets","what":"Misclassified Loans (optional)","title":"Preparatory Steps","text":"optional input self-prepared CSV file user can provide list loans misclassified raw loan book. aim specifically remove false positives, , loans classified scope one PACTA sectors, manual research shows companies actually operate within PACTA scope. false positive may due erroneous data entry raw loan book, example. Removing loans falsely indicated sector calculation match success rate give accurate picture match success rate can really reached.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_preparatory_steps.html","id":"manual-sector-classification-optional","dir":"Articles","previous_headings":"Preparatory Steps > Required Input Data Sets","what":"Manual Sector Classification (optional)","title":"Preparatory Steps","text":"optional input self-prepared CSV file manual sector classification data set must prepared CSV file contain following columns: sector: <character> borderline: <logical> code: <character> code_system: <character> case user obtain sector classification codes classification systems featured sector_classifications (currently following classification systems featured: GICS, ISIC, NACE, NAICS, PSIC, SIC), user can provide manually created sector classification file matching loan book ABCD instead. Generally, manually prepared sector classification file must follow format sector_classifications. recommended use built sector classifications possible, mapping sector classification PACTA sectors can complex time consuming.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_preparatory_steps.html","id":"required-software","dir":"Articles","previous_headings":"Preparatory Steps","what":"Required Software","title":"Preparatory Steps","text":"Using pacta.loanbook package PACTA Banks analysis requires following software installed system:","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_preparatory_steps.html","id":"r-version-4-1-0-or-higher","dir":"Articles","previous_headings":"Preparatory Steps > Required Software","what":"R (version 4.1.0 or higher)","title":"Preparatory Steps","text":"R programming language pacta.loanbook package written . can download R Comprehensive R Archive Network (CRAN).","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_preparatory_steps.html","id":"rstudio-optional","dir":"Articles","previous_headings":"Preparatory Steps > Required Software","what":"RStudio (optional)","title":"Preparatory Steps","text":"RStudio integrated development environment (IDE) R developed Posit. strictly required run analysis, can helpful managing project running analysis. Generally, RStudio widely used among R community probably easiest way interact R tools, pacta.loanbook suite packages. RStudio Desktop open source tool free charge. can download RStudio Posit RStudio website.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_preparatory_steps.html","id":"pacta-loanbook-package","dir":"Articles","previous_headings":"Preparatory Steps > Required Software","what":"{pacta.loanbook} package","title":"Preparatory Steps","text":"pacta.loanbook R package main software tool use run PACTA Banks analysis. can install pacta.loanbook R package CRAN mirror running following command R: can install development versions pacta.loanbook R package GitHub : use pak package simple tool install packages GitHub.","code":"install.packages(\"pacta.loanbook\") # install.packages(\"pak\") pak::pak(\"RMI-PACTA/pacta.loanbook\")"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_preparatory_steps.html","id":"connecting-to-github-from-rstudio","dir":"Articles","previous_headings":"Preparatory Steps > Required Software > {pacta.loanbook} package","what":"Connecting to GitHub from RStudio","title":"Preparatory Steps","text":"Note choose install pacta.loanbook R package GitHub, need : registered GitHub account, git installed locally, set credentials RStudio can communicate GitHub. can find information using following resources: Happy Git GitHub useR great comprehensive resource takes process setting git GitHub RStudio, including registering GitHub account, installing git, connecting RStudio GitHub. Additional information managing GitHub connection within RStudio can found usethis package documentation, example managing git credentials. plan use GitHub install package packages shown , deep understanding git commands, need overwhelmed complexity git.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_preparatory_steps.html","id":"required-r-packages","dir":"Articles","previous_headings":"Preparatory Steps > Required Software","what":"Required R packages","title":"Preparatory Steps","text":"pacta.loanbook R package depends number R packages. dependencies installed automatically install pacta.loanbook R package. required packages : cli, data.table, dplyr, ggplot2, ggrepel, glue, lifecycle, magrittr, purrr, r2dii.analysis, r2dii.data, r2dii.match, r2dii.plot, rlang, rstudioapi, scales, stringdist, stringi, stringr, tibble, tidyr, tidyselect, zoo","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_preparatory_steps.html","id":"how-do-i-install-the-pacta-loanbook-r-package","dir":"Articles","previous_headings":"Preparatory Steps > Required Software > FAQ","what":"How do I install the {pacta.loanbook} R package?","title":"Preparatory Steps","text":"common ways install R packages via CRAN GitHub. Public institutions often restrictions installation packages GitHub, may need install package CRAN. cases, institution may mirror CRAN internal application registry, may need install package . issues installation internal application registry, best reach department. obtain package ways, please reach package maintainers directly exploring options.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_preparatory_steps.html","id":"how-do-i-install-the-required-r-packages","dir":"Articles","previous_headings":"Preparatory Steps > Required Software > FAQ","what":"How do I install the required R packages?","title":"Preparatory Steps","text":"principle, dependencies required run pacta.loanbook R package installed automatically install package. However, encounter issues installation required packages, can install manually running following command R, ... replaced package names list , separated commas:","code":"install.packages(c(...))"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_preparatory_steps.html","id":"checklist-of-preparatory-steps","dir":"Articles","previous_headings":"Preparatory Steps","what":"Checklist of Preparatory Steps","title":"Preparatory Steps","text":"running PACTA Banks analysis, make sure completed following preparatory steps: Asset-based Company Data (ABCD) Scenario Data Raw Loan Book Misclassified Loans Manual Sector Classification R (version 4.1.0 higher) RStudio (optional) pacta.loanbook R package set git GitHub (optional) PREVIOUS CHAPTER: Overview NEXT CHAPTER: Running Analysis","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_running_the_analysis.html","id":"running-the-analysis","dir":"Articles","previous_headings":"","what":"Running the Analysis","title":"Running the Analysis","text":"section provides brief overview main steps required run PACTA Banks analysis. starts high-level overview elaborates step detail . whole process demonstrated code-snippets following environment straight-forward possible.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_running_the_analysis.html","id":"structure-of-the-workflow","dir":"Articles","previous_headings":"Running the Analysis","what":"Structure of the Workflow","title":"Running the Analysis","text":"Assuming prepared /procured required input data sets described section “Preparatory Steps”, implementing PACTA Banks analysis now follows following main steps: Setup: Load necessary packages import data. Matching process: Match counterparties raw input loan book companies asset-based company data. Calculate PACTA metrics: Run PACTA analysis obtain alignment metrics matched loan book relative benchmarks based transition scenarios. Plot PACTA metrics: Visualize results PACTA analysis using standard PACTA plots facilitate interpretation. Fig. 1: Structure Workflow principle, steps sequential. However, practice shown one rarely ever achieves best possible match rate one iteration. Therefore, may required iterate matching process multiple times. cover steps detail now.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_running_the_analysis.html","id":"setup","dir":"Articles","previous_headings":"Running the Analysis","what":"Setup","title":"Running the Analysis","text":"use pacta.loanbook package access important functions ’ll learn . also use example datasets package pacta.loanbook, optional convenient functions packages dplyr, readxl, readr.","code":"library(pacta.loanbook) library(dplyr) library(readxl) library(readr)"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_running_the_analysis.html","id":"import-data","dir":"Articles","previous_headings":"Running the Analysis","what":"Import Data","title":"Running the Analysis","text":"need two datasets begin: loanbook asset-based company dataset (abcd). detail necessary structure datasets, see data dictionaries loanbook abcd. simulate data files prepared, use demo data included pacta.loanbook package create example XLS files using writexl package. Typically, data files stored XLS files computer. example, imported code using readxl package, however, use custom data strictly follow format defined previous section, may need adjust import code /data manipulation R importing.","code":"library(writexl)  writexl::write_xlsx(   x = loanbook_demo,   path = file.path(tempdir(), \"loanbook.xlsx\") )  writexl::write_xlsx(   x = abcd_demo,   path = file.path(tempdir(), \"abcd.xlsx\") ) loanbook <- readxl::read_excel(path = file.path(tempdir(), \"loanbook.xlsx\"))  loanbook #> # A tibble: 283 × 13 #>    id_loan id_direct_loantaker name_direct_loantaker       id_ultimate_parent name_ultimate_parent                   loan_size_outstanding loan_size_outstanding_currency loan_size_credit_limit loan_size_credit_limit_currency sector_classification_system sector_classification_direct_loantaker lei_direct_loantaker isin_direct_loantaker #>    <chr>   <chr>               <chr>                       <chr>              <chr>                                                  <dbl> <chr>                                           <dbl> <chr>                           <chr>                        <chr>                                  <chr>                <lgl>                 #>  1 L1      C294                Vitale Group                UP15               Scholz KGaA                                           225625 EUR                                          18968805 EUR                             NACE                         D35.11                                 NA                   NA                    #>  2 L2      C293                Moen-Moen                   UP84               NA                                                    301721 EUR                                          19727961 EUR                             NACE                         D35.11                                 NA                   NA                    #>  3 L3      C292                Rowe-Rowe                   UP288              Harvey, Harvey and Harvey                             410297 EUR                                          20811147 EUR                             NACE                         D35.11                                 801600ATB1D513IUFZ77 NA                    #>  4 L4      C299                Fadel-Fadel                 UP54               NA                                                    233049 EUR                                          19042869 EUR                             NACE                         D35.11                                 NA                   NA                    #>  5 L5      C305                Ring AG & Co. KGaA          UP104              Conti, Conti e Conti SPA                              406585 EUR                                          20774115 EUR                             NACE                         D35.11                                 NA                   NA                    #>  6 L6      C304                Kassulke-Kassulke           UP83               Farrell, Farrell and Farrell                          185721 EUR                                          18570711 EUR                             NACE                         D35.11                                 108200TUBGG1DR0QR635 NA                    #>  7 L7      C227                Morissette Group            UP134              Weller AG                                             184793 EUR                                          18561453 EUR                             NACE                         D35.11                                 NA                   NA                    #>  8 L8      C303                Barone s.r.l.               UP163              Williamsonn PLC                                       291513 EUR                                          19626123 EUR                             NACE                         D35.11                                 NA                   NA                    #>  9 L9      C301                Werner Werner AG & Co. KGaA UP138              Leone-Leone s.r.l.                                    407513 EUR                                          20783373 EUR                             NACE                         D35.11                                 NA                   NA                    #> 10 L10     C302                De rosa s.r.l.              UP32               Benedetti, Benedetti e Benedetti Group                186649 EUR                                          18579969 EUR                             NACE                         D35.11                                 NA                   NA                    #> # ℹ 273 more rows  abcd <- readxl::read_excel(path = file.path(tempdir(), \"abcd.xlsx\"))  abcd #> # A tibble: 4,972 × 12 #>    company_id name_company                          lei                  sector technology          production_unit  year production emission_factor plant_location is_ultimate_owner emission_factor_unit              #>    <chr>      <chr>                                 <chr>                <chr>  <chr>               <chr>           <dbl>      <dbl>           <dbl> <chr>          <lgl>             <chr>                             #>  1 175        Giordano, Giordano e Giordano e figli 18500033XH6RG332SX89 power  hydrocap            MW               2020    121032.          NA     MY             TRUE              tonnes of CO2 per per hour per MW #>  2 175        Giordano, Giordano e Giordano e figli 18500033XH6RG332SX89 power  hydrocap            MW               2021    119274.          NA     MY             TRUE              tonnes of CO2 per per hour per MW #>  3 175        Giordano, Giordano e Giordano e figli 18500033XH6RG332SX89 power  hydrocap            MW               2022    117515.          NA     MY             TRUE              tonnes of CO2 per per hour per MW #>  4 175        Giordano, Giordano e Giordano e figli 18500033XH6RG332SX89 power  hydrocap            MW               2023    115757.          NA     MY             TRUE              tonnes of CO2 per per hour per MW #>  5 175        Giordano, Giordano e Giordano e figli 18500033XH6RG332SX89 power  hydrocap            MW               2024    113999.          NA     MY             TRUE              tonnes of CO2 per per hour per MW #>  6 175        Giordano, Giordano e Giordano e figli 18500033XH6RG332SX89 power  hydrocap            MW               2025    112240.          NA     MY             TRUE              tonnes of CO2 per per hour per MW #>  7 526        Vitali, Vitali e Vitali s.r.l.        887100CAVZ6Y3KYT3Q90 cement integrated facility tonnes per year  2020   6327858.           0.723 CI             TRUE              tonnes of CO2 per tonne of cement #>  8 526        Vitali, Vitali e Vitali s.r.l.        887100CAVZ6Y3KYT3Q90 cement integrated facility tonnes per year  2021   6569983.           0.735 CI             TRUE              tonnes of CO2 per tonne of cement #>  9 526        Vitali, Vitali e Vitali s.r.l.        887100CAVZ6Y3KYT3Q90 cement integrated facility tonnes per year  2022   6812108.           0.746 CI             TRUE              tonnes of CO2 per tonne of cement #> 10 526        Vitali, Vitali e Vitali s.r.l.        887100CAVZ6Y3KYT3Q90 cement integrated facility tonnes per year  2023   7054232.           0.758 CI             TRUE              tonnes of CO2 per tonne of cement #> # ℹ 4,962 more rows"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_running_the_analysis.html","id":"matching-process","dir":"Articles","previous_headings":"Running the Analysis","what":"Matching Process","title":"Running the Analysis","text":"next step loading required input files run matching process, match loans loanbook data production data abcd. matching process divided three main steps: Apply matching algorithm calculate scores match precision loanbook abcd datasets Manually validate matches loanbook abcd datasets, including selecting appropriate match cases one company abcd receives score higher threshold value Prioritize validated matches level cover steps following sections.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_running_the_analysis.html","id":"score-the-match-precision-between-the-loanbook-and-abcd-datasets","dir":"Articles","previous_headings":"Running the Analysis > Matching Process","what":"Score the match precision between the loanbook and abcd datasets","title":"Running the Analysis","text":"match_name() scores match names loanbook dataset names asset-based company dataset. names come columns name_direct_loantaker name_ultimate_parent loanbook dataset, column name_company asset-based company dataset. loan book data set, possible optionally add number name_intermediate_parent_* columns, * indicates level corporate tree direct_loantaker. raw names internally transformed applying best-practices commonly used name matching algorithms, : Remove special characters Replace language specific characters Abbreviate certain names reduce importance matching Remove corporate suffixes necessary Spell numbers increase importance similarity scored internally-transformed names loanbook names abcd. information scoring algorithm used, see stringdist::stringsim(). basic usage match_name() follows: match_name() defaults scoring matches name strings belong sector. implies potential match shown names loanbook abcd sufficiently similar loan classified sector company activity abcd. Using by_sector = FALSE removes limitation – increasing computation time, number potentially incorrect matches manually validate. cases, recommended keep by_sector = TRUE. However, lifting restriction can helpful cases sector classification loanbook reliable sector classification available . can see removal restriction increases number potential matches. min_score argument allows set minimum threshold score. useful either want filter potential matches precise enough, want add additional potential matches given suggestions seem provide sufficient matching coverage. default value 0.8, can set value 0 1. Since higher score implies closer match company names loanbook abcd, fewer potential matches usually shown. following code shows set threshold 0.9:","code":"matched <- match_name(loanbook, abcd)  matched #> # A tibble: 326 × 22 #>    id_loan id_direct_loantaker name_direct_loantaker       id_ultimate_parent name_ultimate_parent         loan_size_outstanding loan_size_outstanding_currency loan_size_credit_limit loan_size_credit_limit_currency sector_classification_system sector_classification_direct_loantaker lei_direct_loantaker isin_direct_loantaker id_2dii level   sector sector_abcd name  name_abcd score source borderline #>    <chr>   <chr>               <chr>                       <chr>              <chr>                                        <dbl> <chr>                                           <dbl> <chr>                           <chr>                        <chr>                                  <chr>                <lgl>                 <chr>   <chr>   <chr>  <chr>       <chr> <chr>     <dbl> <chr>  <lgl>      #>  1 L1      C294                Vitale Group                UP15               Scholz KGaA                                 225625 EUR                                          18968805 EUR                             NACE                         D35.11                                 NA                   NA                    UP190   ultima… power  power       Scho… Scholz K… 1     loanb… FALSE      #>  2 L3      C292                Rowe-Rowe                   UP288              Harvey, Harvey and Harvey                   410297 EUR                                          20811147 EUR                             NACE                         D35.11                                 801600ATB1D513IUFZ77 NA                    UP101   ultima… power  power       Harv… Harvey, … 1     loanb… FALSE      #>  3 L5      C305                Ring AG & Co. KGaA          UP104              Conti, Conti e Conti SPA                    406585 EUR                                          20774115 EUR                             NACE                         D35.11                                 NA                   NA                    UP39    ultima… power  power       Cont… Conti, C… 1     loanb… FALSE      #>  4 L6      C304                Kassulke-Kassulke           UP83               Farrell, Farrell and Farrell                185721 EUR                                          18570711 EUR                             NACE                         D35.11                                 108200TUBGG1DR0QR635 NA                    DL129   direct… power  power       Kass… Kassulke… 1     loanb… FALSE      #>  5 L6      C304                Kassulke-Kassulke           UP83               Farrell, Farrell and Farrell                185721 EUR                                          18570711 EUR                             NACE                         D35.11                                 108200TUBGG1DR0QR635 NA                    UP63    ultima… power  power       Farr… Farrell,… 1     loanb… FALSE      #>  6 L7      C227                Morissette Group            UP134              Weller AG                                   184793 EUR                                          18561453 EUR                             NACE                         D35.11                                 NA                   NA                    DL179   direct… power  power       Mori… Moretti … 0.911 loanb… FALSE      #>  7 L7      C227                Morissette Group            UP134              Weller AG                                   184793 EUR                                          18561453 EUR                             NACE                         D35.11                                 NA                   NA                    UP224   ultima… power  power       Well… Weller AG 1     loanb… FALSE      #>  8 L8      C303                Barone s.r.l.               UP163              Williamsonn PLC                             291513 EUR                                          19626123 EUR                             NACE                         D35.11                                 NA                   NA                    UP228   ultima… power  power       Will… Williams… 0.987 loanb… FALSE      #>  9 L9      C301                Werner Werner AG & Co. KGaA UP138              Leone-Leone s.r.l.                          407513 EUR                                          20783373 EUR                             NACE                         D35.11                                 NA                   NA                    DL274   direct… power  power       Wern… Wende We… 0.844 loanb… FALSE      #> 10 L9      C301                Werner Werner AG & Co. KGaA UP138              Leone-Leone s.r.l.                          407513 EUR                                          20783373 EUR                             NACE                         D35.11                                 NA                   NA                    UP132   ultima… power  power       Leon… Leone-Le… 1     loanb… FALSE      #> # ℹ 316 more rows match_name(loanbook, abcd, by_sector = FALSE) %>% nrow() #> [1] 656  # Compare to match_name(loanbook, abcd, by_sector = TRUE) %>% nrow() #> [1] 326 match_name(loanbook, abcd, min_score = 0.9) %>%   pull(score) %>%   range() #> [1] 0.9007692 1.0000000"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_running_the_analysis.html","id":"manually-validate-matches","dir":"Articles","previous_headings":"Running the Analysis > Matching Process","what":"Manually validate matches","title":"Running the Analysis","text":"initial calculation scores potential matches, manually inspect suggested matches decide ones keep remove. especially important using text-based matching guarantee similar company names identified algorithm actually refer companies. manual validation step therefore crucial, ensures data quality remainder analysis. validation process automated requires time effort part. often time-consuming part analysis, especially trying improve matching coverage multiple iterations. find brief description manual validation process: Write output match_name() .csv file, example using readr save CSV file: Compare, edit, save data manually: Open matched.csv spreadsheet editor (Excel, Google Sheets, etc.). Compare columns name name_abcd manually determine match valid. information can used conjunction just names ensure two entities match (sector, internal information company structure, etc.) happy match, set score value 1. Otherwise set leave score value anything 1. Save edited file , example, valid_matches.csv. Re-import edited file (validated), example using readr read CSV file: can find detailed information matching process header “PACTA Banks Training Webinar 2” training materials section PACTA Banks website corresponding slide deck.","code":"readr::write_csv(x = matched, file = file.path(tempdir(), \"matched.csv\")) valid_matches <- readr::read_csv(file = file.path(tempdir(), \"valid_matches.csv\"), show_col_types = FALSE)"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_running_the_analysis.html","id":"prioritize-validated-matches-by-level","dir":"Articles","previous_headings":"Running the Analysis > Matching Process","what":"Prioritize validated matches by level","title":"Running the Analysis","text":"validated dataset may multiple matches per loan. Consider case loan given “Acme Power USA”, subsidiary “Acme Power Co.”. may “Acme Power USA” “Acme Power Co.” abcd, two valid matches loan. get best match , use prioritize() – picks rows score 1 level per loan highest priority: default, highest priority refers granular match (direct_loantaker). default priority set internally via prioritize_level(). may use different priority. One way pass function priority. example, use rev() reverse default priority.","code":"some_interesting_columns <- c(\"id_2dii\", \"level\", \"score\")  prioritized_matches <-   valid_matches %>%   prioritize()  prioritized_matches %>% select(all_of(some_interesting_columns)) #> # A tibble: 177 × 3 #>    id_2dii level            score #>    <chr>   <chr>            <dbl> #>  1 DL129   direct_loantaker     1 #>  2 DL144   direct_loantaker     1 #>  3 DL270   direct_loantaker     1 #>  4 DL86    direct_loantaker     1 #>  5 DL5     direct_loantaker     1 #>  6 DL80    direct_loantaker     1 #>  7 DL150   direct_loantaker     1 #>  8 DL3     direct_loantaker     1 #>  9 DL65    direct_loantaker     1 #> 10 DL79    direct_loantaker     1 #> # ℹ 167 more rows prioritize_level(valid_matches) #> [1] \"direct_loantaker\" \"ultimate_parent\" valid_matches %>%   prioritize(priority = rev) %>%   select(all_of(some_interesting_columns)) #> # A tibble: 177 × 3 #>    id_2dii level           score #>    <chr>   <chr>           <dbl> #>  1 UP190   ultimate_parent     1 #>  2 UP101   ultimate_parent     1 #>  3 UP39    ultimate_parent     1 #>  4 UP63    ultimate_parent     1 #>  5 UP224   ultimate_parent     1 #>  6 UP132   ultimate_parent     1 #>  7 UP12    ultimate_parent     1 #>  8 UP20    ultimate_parent     1 #>  9 UP134   ultimate_parent     1 #> 10 UP127   ultimate_parent     1 #> # ℹ 167 more rows"},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_running_the_analysis.html","id":"a-note-on-sector-classification","dir":"Articles","previous_headings":"Running the Analysis > Matching Process > A Note on Sector Classifications and the borderline Flag","what":"A note on sector classification","title":"Running the Analysis","text":"Matches preferred sector loanbook matches sector abcd. loanbook sector determined internally mapping sector classification code loan book PACTA sector, using sector_classification_system sector_classification_direct_loantaker columns. Currently, following options supported sector_classification_system, specified sector_classifications: GICS, ISIC, NACE, NAICS, PSIC, SIC","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_running_the_analysis.html","id":"the-borderline-flag","dir":"Articles","previous_headings":"Running the Analysis > Matching Process > A Note on Sector Classifications and the borderline Flag","what":"The borderline flag","title":"Running the Analysis","text":"issue arises , example, company classified “power transmission” sector. perfect world, companies produce electricity, try match . practice, however, find often overlap, companies may integrated business models span multiple steps supply chain sector classification systems break every code clearly enough map PACTA sectors unambiguously. reason, introduced borderline flag. example , see two classification codes coming NACE classification standard: Notice code D35.11 corresponds power generation. identical match power sector PACTA, thus borderline flag set FALSE. contrast, code D35.14 corresponds distribution electricity. perfect world, set code scope, however still chance companies produce electricity. reason, mapped power borderline = TRUE. Finally, code D35.1 corresponds wider electricity sector, covering “Electric power generation, transmission distribution”. case granularity insufficient unambiguously match code power sector defined PACTA, thus borderline flag set TRUE. practice, company sector code borderline TRUE matched, consider company scope. borderline value TRUE matched, consider scope.","code":"nace_classification %>%    filter(code %in% c(\"D35.11\", \"D35.14\", \"D35.1\")) #> # A tibble: 3 × 6 #>   original_code description                      code  sector borderline version #>   <chr>         <chr>                            <chr> <chr>  <lgl>      <chr>   #> 1 35.1          35.1 Electric power generation,… D35.1 power  TRUE       2.1     #> 2 35.11         35.11 Production of electricity… D35.… power  FALSE      2.1     #> 3 35.14         35.14 Distribution of electrici… D35.… power  TRUE       2.1"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_running_the_analysis.html","id":"optional-prepare-own-sector-classification-mapper","dir":"Articles","previous_headings":"Running the Analysis > Matching Process","what":"Optional: Prepare own sector classification mapper","title":"Running the Analysis","text":"can obtain sector codes one classification systems loan book, strongly recommended using . loans mapped systems, can either run matching without sector classification (see ), can use custom sector classification system. want use custom sector classification system, need create file follows structure sector classification files sector_classifications, , file needs contain following columns (following types): sector: <character> borderline: <logical> code: <character> code_system: <character> Please notice manually preparing custom sector classification file, need decide every code mapping system PACTA sector code maps . requires system relatively granular capture nuances supply chains companies loan book. discussed , sector code unambiguously scope scope given PACTA sector marked TRUE borderline column. sector code clearly scope marked FALSE receive sector value scope. sector code clearly scope marked FALSE borderline receive PACTA sector value maps sector column. ADD EXAMPLE","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_running_the_analysis.html","id":"calculate-the-match-success-rate","dir":"Articles","previous_headings":"Running the Analysis > Matching Process","what":"Calculate the Match Success Rate","title":"Running the Analysis","text":"pacta.loanbook allows match loans loanbook companies asset-based company dataset. However, matching every loan unlikely – loan-taking companies may missing asset-based company dataset, may operate sectors PACTA focuses (power, cement, oil gas, aviation, coal, automotive, steel, hdv). Thus, may want measure much loanbook matched asset. article shows two ways calculate matching coverage: Calculate portion loanbook covered, dollar value (.e. using one loan_size_* columns). Count number companies matched. First need load additional useful package ggplot2: use example datasets created previous section. demonstrate point, create loanbook dataset two mismatching loans: run matching algorithm loanbook: Note matched dataset contain loans matched successfully. determine coverage, need go back original loanbook dataset. must determine PACTA sectors loan, dictated sector_classification_direct_loantaker column. , join loanbook sector_classifications dataset, lists sector classification code standards used ‘PACTA’. Unfortunately need work around two caveats (may ignore conceptually uninteresting): two datasets, columns want merge different names. use argument dplyr::left_join() merge columns sector_classification_system sector_classification_direct_loantaker (loanbook) columns code_system code (sector_classifications), respectively. two datasets, sector classification codes represented different data-types. modify column sector_classification_direct_loantaker using dplyr::left_join() type corresponding column code (otherwise dplyr::left_join() throws error), dplyr::left_join() restore original type. can join two datasets together, generate coverage dataset:","code":"library(ggplot2) loanbook <- loanbook %>%    mutate(     name_ultimate_parent =        ifelse(id_loan == \"L1\", \"unmatched company name\", name_ultimate_parent),     sector_classification_direct_loantaker =        ifelse(id_loan == \"L2\", \"99\", sector_classification_direct_loantaker)   ) matched <- loanbook %>%      match_name(abcd) %>%      prioritize() #> Warning: Some `sector_classification_direct_loantaker` are unknown:99 #> ℹ If you wish to request a new sector classification system, please create an issue here: #> • https://github.com/RMI-PACTA/r2dii.data/issues #> ℹ Or contact the PACTA team here: #> • pacta4banks@rmi.org merge_by <- c(     sector_classification_system = \"code_system\",     sector_classification_direct_loantaker = \"code\"   )  loanbook_with_sectors <- loanbook %>%    left_join(sector_classifications, by = merge_by) %>%    mutate(sector_classification_direct_loantaker = as.character(sector_classification_direct_loantaker)) coverage <- left_join(loanbook_with_sectors, matched) %>%    mutate(     loan_size_outstanding = as.numeric(loan_size_outstanding),     loan_size_credit_limit = as.numeric(loan_size_credit_limit),     matched = case_when(       score == 1   ~ \"Matched\",        is.na(score) ~ \"Not Matched\",       TRUE         ~ \"Not Matched\"     ),     sector = case_when(       borderline == TRUE & matched == \"Not Matched\" ~ \"not in scope\",       TRUE ~ sector     )   ) #> Joining with `by = join_by(id_loan, id_direct_loantaker, name_direct_loantaker, #> id_ultimate_parent, name_ultimate_parent, loan_size_outstanding, #> loan_size_outstanding_currency, loan_size_credit_limit, #> loan_size_credit_limit_currency, sector_classification_system, #> sector_classification_direct_loantaker, lei_direct_loantaker, #> isin_direct_loantaker, sector, borderline)`"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_running_the_analysis.html","id":"calculate-the-portion-of-your-loanbook-covered-by-dollar-value","dir":"Articles","previous_headings":"Running the Analysis > Matching Process > Calculate the Match Success Rate","what":"1. Calculate the portion of your loanbook covered by dollar value","title":"Running the Analysis","text":"coverage dataset, can calculate total loanbook coverage dollar value. Let’s create two helper functions, one calculate dollar-value another one plot coverage general. Let’s first explore loans.  calculate total, -scope, loanbook coverage:","code":"dollar_value <- function(data, ...) {   data %>%      summarize(loan_size_outstanding = sum(loan_size_outstanding), .by = c(matched, ...)) }  plot_coverage <- function(data, x, y) {   ggplot(data) +      geom_col(aes({{x}}, {{y}}, fill = matched)) +     # Use more horizontal space -- avoids overlap on x axis text     theme(legend.position = \"top\") } coverage %>%    dollar_value() %>%    plot_coverage(matched, loan_size_outstanding) coverage %>%    filter(sector != \"not in scope\") %>%    dollar_value() %>%    plot_coverage(matched, loan_size_outstanding)"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_running_the_analysis.html","id":"break-down-by-sector","dir":"Articles","previous_headings":"Running the Analysis > Matching Process > Calculate the Match Success Rate","what":"Break down by sector","title":"Running the Analysis","text":"may break-plot sector:  even , matching level:","code":"coverage %>%    dollar_value(sector) %>%    plot_coverage(sector, loan_size_outstanding) coverage %>%    mutate(matched = case_when(     matched == \"Matched\" & level == \"direct_loantaker\"      ~ \"Matched DL\",     matched == \"Matched\" & level == \"intermediate_parent_1\" ~ \"Matched IP1\",     matched == \"Matched\" & level == \"ultimate_parent\"       ~ \"Matched UP\",     matched == \"Not Matched\"                                ~ \"Not Matched\",     TRUE                                                    ~ \"Catch unknown\"   )) %>%    dollar_value(sector) %>%    plot_coverage(sector, loan_size_outstanding)"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_running_the_analysis.html","id":"count-the-number-of-companies","dir":"Articles","previous_headings":"Running the Analysis > Matching Process > Calculate the Match Success Rate","what":"2. Count the number of companies","title":"Running the Analysis","text":"might also interested knowing many companies loanbook matched. probably makes sense direct_loantaker level:","code":"companies_matched <- coverage %>%    summarize(no_companies = n_distinct(name_direct_loantaker), .by = c(sector, matched))  companies_matched %>%    plot_coverage(sector, no_companies)"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_running_the_analysis.html","id":"optional-handling-misclassified-loans","dir":"Articles","previous_headings":"Running the Analysis > Matching Process","what":"Optional: Handling misclassified loans","title":"Running the Analysis","text":"loan considered misclassified, identified -scope PACTA sector based sector classification input loan book, turns classification incorrect based counterparty’s activities. example, counterparty classified fully -scope power company, reality power distribution company even active another sector altogether, upstream gas production, counterparty misclassified. Misclassification problem, leads exaggeratedly low match success rates, improved iterating matching process. can search long want, company reality operate power plants found ABCD regardless settings matching algorithm tweaked. match success rate can useful metric denominator, classification loan book, solid. also important understand loans truly matched. category companies actually active given -scope sector, found ABCD. Identifying misclassified loans usually manual process, counterparties matched researched determine scope . Depending size loan book, can time-consuming process. recommended start unmatched counterparties largest loans, largest impact match success rate. may decide , want research unmatched loans set cutoff point, e.g. based size loan. list misclassified loans identified, two broad options appropriately cases. Correct classification raw loan book re-run matching process. loan clearly misclassified, may appropriate way handle issue. may good idea keep notes changes made input data though, ensure result fully replicable. upside approach loan now either matched correctly, assigned sector company therefore find entry ABCD data set match . , still match found ABCD, loan correctly missing appropriate sector therefore indicate lower match success rate . Lastly, \"scope\", inflate denominator match success rate anymore. manual re-classification raw loan book possible desired, calculation match success rate can corrected creating file loans_to_remove.csv, include column id_loan indicate precise misclassified loan identified. loan needs explicitly removed match success calculation, shown . Let’s assume loan id L255 falsely classified steel company. Research shows company primary steel producer, makes steel-based products end use. Hence active downstream value chain matched ABCD. correct input sector classification, instead create csv file id misclassified loan. practice, can done programmatically manually. loans_to_remove.csv file just one column, id_loan, therefore structured follows: id_loan: <character> read file remove misclassified loan match success rate calculation. compare coverage removal misclassified loan see impact correction. demonstration purposes, artificially increase loan_size_outstanding affected counterparty focusing steel sector , see clear impact.   reason good idea either correct misclassified loans disregard calculation match success rate misclassified loan possibly matched given sector. Therefore, amount work sufficient improve sector match success rate, calculated incorrect baseline. Technically, user forced correct misclassifications, may limit much time spent , recommended least correct large misclassified loans. …","code":"readr::write_csv(   x = tibble(id_loan = \"L255\"),   file = file.path(tempdir(), \"loans_to_remove.csv\") ) coverage_compare <- coverage %>%    mutate(     loan_size_outstanding = ifelse(id_loan == \"L255\", 50000000, loan_size_outstanding)   ) %>%    filter(sector == \"steel\")  coverage_compare %>%   mutate(matched = case_when(     matched == \"Matched\" & level == \"direct_loantaker\"      ~ \"Matched DL\",     matched == \"Matched\" & level == \"intermediate_parent_1\" ~ \"Matched IP1\",     matched == \"Matched\" & level == \"ultimate_parent\"       ~ \"Matched UP\",     matched == \"Not Matched\"                                ~ \"Not Matched\",     TRUE                                                    ~ \"Catch unknown\"   )) %>%    dollar_value(sector) %>%    plot_coverage(sector, loan_size_outstanding) loans_to_remove <- readr::read_csv(file.path(tempdir(), \"loans_to_remove.csv\"))  coverage_corrected <- coverage_compare %>%    anti_join(loans_to_remove, by = \"id_loan\")  coverage_corrected %>%    mutate(matched = case_when(     matched == \"Matched\" & level == \"direct_loantaker\"      ~ \"Matched DL\",     matched == \"Matched\" & level == \"intermediate_parent_1\" ~ \"Matched IP1\",     matched == \"Matched\" & level == \"ultimate_parent\"       ~ \"Matched UP\",     matched == \"Not Matched\"                                ~ \"Not Matched\",     TRUE                                                    ~ \"Catch unknown\"   )) %>%    dollar_value(sector) %>%    plot_coverage(sector, loan_size_outstanding)"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_running_the_analysis.html","id":"calculate-pacta-alignment-metrics","dir":"Articles","previous_headings":"Running the Analysis","what":"Calculate PACTA alignment metrics","title":"Running the Analysis","text":"can calculate scenario targets using two different approaches: Market Share Approach, Sectoral Decarbonization Approach.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_running_the_analysis.html","id":"market-share-approach","dir":"Articles","previous_headings":"Running the Analysis > Calculate PACTA alignment metrics","what":"Market Share Approach","title":"Running the Analysis","text":"Market Share Approach used calculate scenario targets production technology sector. example, can use approach set targets production electric vehicles automotive sector. approach recommended sectors granular technology scenario roadmap exists. Targets can set portfolio level: company level: results can saved/written CSV file potential input models software, example: Remember replace tempdir() path directory wish save files .","code":"# Use these datasets to practice but eventually you should use your own data. scenario <- scenario_demo_2020 regions <- region_isos_demo  market_share_targets_portfolio <-   target_market_share(     data = prioritized_matches,     abcd = abcd,     scenario = scenario,     region_isos = regions   )  market_share_targets_portfolio #> # A tibble: 1,076 × 10 #>    sector     technology  year region scenario_source metric     production technology_share scope  percentage_of_initial_production_by_scope #>    <chr>      <chr>      <dbl> <chr>  <chr>           <chr>           <dbl>            <dbl> <chr>                                      <dbl> #>  1 automotive electric    2020 global demo_2020       projected     145649.            0.165 sector                                  0        #>  2 automotive electric    2020 global demo_2020       target_cps    145649.            0.165 sector                                  0        #>  3 automotive electric    2020 global demo_2020       target_sds    145649.            0.165 sector                                  0        #>  4 automotive electric    2020 global demo_2020       target_sps    145649.            0.165 sector                                  0        #>  5 automotive electric    2021 global demo_2020       projected     147480.            0.165 sector                                  0.000739 #>  6 automotive electric    2021 global demo_2020       target_cps    146915.            0.165 sector                                  0.000511 #>  7 automotive electric    2021 global demo_2020       target_sds    153332.            0.167 sector                                  0.00310  #>  8 automotive electric    2021 global demo_2020       target_sps    147258.            0.165 sector                                  0.000649 #>  9 automotive electric    2022 global demo_2020       projected     149310.            0.165 sector                                  0.00148  #> 10 automotive electric    2022 global demo_2020       target_cps    148155.            0.164 sector                                  0.00101  #> # ℹ 1,066 more rows market_share_targets_company <-   target_market_share(     data = prioritized_matches,     abcd = abcd,     scenario = scenario,     region_isos = regions,     by_company = TRUE, # Output results at company-level     weight_production = FALSE   )  market_share_targets_company #> # A tibble: 14,505 × 11 #>    sector     technology  year region scenario_source name_abcd                         metric     production technology_share scope  percentage_of_initial_production_by_scope #>    <chr>      <chr>      <dbl> <chr>  <chr>           <chr>                             <chr>           <dbl>            <dbl> <chr>                                      <dbl> #>  1 automotive electric    2020 global demo_2020       Bernardi, Bernardi e Bernardi SPA projected     324592.           0.0759 sector                                         0 #>  2 automotive electric    2020 global demo_2020       Bernardi, Bernardi e Bernardi SPA target_cps    324592.           0.0759 sector                                         0 #>  3 automotive electric    2020 global demo_2020       Bernardi, Bernardi e Bernardi SPA target_sds    324592.           0.0759 sector                                         0 #>  4 automotive electric    2020 global demo_2020       Bernardi, Bernardi e Bernardi SPA target_sps    324592.           0.0759 sector                                         0 #>  5 automotive electric    2020 global demo_2020       Christiansen PLC                  projected     512438.           0.130  sector                                         0 #>  6 automotive electric    2020 global demo_2020       Christiansen PLC                  target_cps    512438.           0.130  sector                                         0 #>  7 automotive electric    2020 global demo_2020       Christiansen PLC                  target_sds    512438.           0.130  sector                                         0 #>  8 automotive electric    2020 global demo_2020       Christiansen PLC                  target_sps    512438.           0.130  sector                                         0 #>  9 automotive electric    2020 global demo_2020       Donati, Donati e Donati s.r.l.    projected     277214.           1      sector                                         0 #> 10 automotive electric    2020 global demo_2020       Donati, Donati e Donati s.r.l.    target_cps    277214.           1      sector                                         0 #> # ℹ 14,495 more rows readr::write_csv(x = market_share_targets_portfolio, file = file.path(tempdir(), \"market_share_targets_portfolio.csv\")) readr::write_csv(x = market_share_targets_company, file = file.path(tempdir(), \"market_share_targets_company.csv\"))"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_running_the_analysis.html","id":"sectoral-decarbonization-approach","dir":"Articles","previous_headings":"Running the Analysis > Calculate PACTA alignment metrics","what":"Sectoral Decarbonization Approach","title":"Running the Analysis","text":"Sectoral Decarbonization Approach used calculate scenario targets emission_factor sector. example, can use approach set targets average emission factor cement sector. approach recommended sectors lacking technology roadmaps. company level: results can saved/written CSV file potential input models software, example: Remember replace tempdir() path directory wish save files .","code":"# Use this dataset to practice but eventually you should use your own data. co2 <- co2_intensity_scenario_demo  sda_targets <-   target_sda(     data = prioritized_matches,     abcd = abcd,     co2_intensity_scenario = co2,     region_isos = regions   ) %>%    filter(sector == \"cement\", year >= 2020) #> Warning: Removing rows in abcd where `emission_factor` is NA  sda_targets #> # A tibble: 110 × 6 #>    sector  year region             scenario_source emission_factor_metric emission_factor_value #>    <chr>  <dbl> <chr>              <chr>           <chr>                                  <dbl> #>  1 cement  2020 advanced economies demo_2020       projected                             0.0230 #>  2 cement  2020 developing asia    demo_2020       projected                             0.0595 #>  3 cement  2020 global             demo_2020       projected                             0.664  #>  4 cement  2021 advanced economies demo_2020       projected                             0.0232 #>  5 cement  2021 developing asia    demo_2020       projected                             0.0594 #>  6 cement  2021 global             demo_2020       projected                             0.665  #>  7 cement  2022 advanced economies demo_2020       projected                             0.0233 #>  8 cement  2022 developing asia    demo_2020       projected                             0.0592 #>  9 cement  2022 global             demo_2020       projected                             0.666  #> 10 cement  2023 advanced economies demo_2020       projected                             0.0235 #> # ℹ 100 more rows sda_targets_company <-   target_sda(     data = prioritized_matches,     abcd = abcd,     co2_intensity_scenario = co2,     region_isos = regions,     by_company = TRUE # Output results at company-level   ) #> Warning: Removing rows in abcd where `emission_factor` is NA  sda_targets_company #> # A tibble: 966 × 7 #>    sector  year region             scenario_source name_abcd                          emission_factor_metric emission_factor_value #>    <chr>  <dbl> <chr>              <chr>           <chr>                              <chr>                                  <dbl> #>  1 cement  2020 advanced economies demo_2020       Milani, Milani e Milani SPA        projected                              0.714 #>  2 cement  2020 developing asia    demo_2020       Heidrich GmbH                      projected                              0.675 #>  3 cement  2020 developing asia    demo_2020       Hovel Hovel GmbH & Co. KGaA        projected                              0.622 #>  4 cement  2020 global             demo_2020       Battaglia-Battaglia Group          projected                              0.626 #>  5 cement  2020 global             demo_2020       Bergstrom, Bergstrom and Bergstrom projected                              0.607 #>  6 cement  2020 global             demo_2020       Carsten GmbH & Co. KG              projected                              0.625 #>  7 cement  2020 global             demo_2020       Crist-Crist                        projected                              0.655 #>  8 cement  2020 global             demo_2020       Durgan-Durgan                      projected                              0.702 #>  9 cement  2020 global             demo_2020       Eberhardt Eberhardt GmbH           projected                              0.685 #> 10 cement  2020 global             demo_2020       Geissler Geissler AG & Co. KGaA    projected                              0.637 #> # ℹ 956 more rows readr::write_csv(x = sda_targets, file = file.path(tempdir(), \"sda_targets.csv\")) readr::write_csv(x = sda_targets_company, file = file.path(tempdir(), \"sda_targets_company.csv\"))"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_running_the_analysis.html","id":"visualize-pacta-alignment-metrics","dir":"Articles","previous_headings":"Running the Analysis","what":"Visualize PACTA alignment metrics","title":"Running the Analysis","text":"large variety possible visualizations stemming outputs target_market_share() target_sda(). , highlight couple common plots can easily created using pacta.loanbook package.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_running_the_analysis.html","id":"market-share-sector-level-technology-mix","dir":"Articles","previous_headings":"Running the Analysis > Visualize PACTA alignment metrics","what":"Market Share: Sector-level technology mix","title":"Running the Analysis","text":"market share output, can plot portfolio’s exposure various climate sensitive technologies (projected), compare corporate economy, various scenario targets.","code":"# Pick the targets you want to plot. data <- filter(   market_share_targets_portfolio,   scenario_source == \"demo_2020\",   sector == \"power\",   region == \"global\",   metric %in% c(\"projected\", \"corporate_economy\", \"target_sds\") )  # Plot the technology mix qplot_techmix(data) #> The `technology_share` values are plotted for extreme years. #> Do you want to plot different years? E.g. filter . with:`subset(., year %in% c(2020, 2030))`. #> Warning: Removed 3 rows containing missing values or values outside the scale range #> (`geom_bar()`)."},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_running_the_analysis.html","id":"market-share-technology-level-volume-trajectory","dir":"Articles","previous_headings":"Running the Analysis > Visualize PACTA alignment metrics","what":"Market Share: Technology-level volume trajectory","title":"Running the Analysis","text":"can also plot technology-specific volume trend. starting values normalized 1, emphasize comparing rates buildout /retirement.","code":"data <- filter(   market_share_targets_portfolio,   sector == \"power\",   technology == \"renewablescap\",   region == \"global\",   scenario_source == \"demo_2020\" )  qplot_trajectory(data)"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_running_the_analysis.html","id":"sda-target-sector-level-emission-intensity","dir":"Articles","previous_headings":"Running the Analysis > Visualize PACTA alignment metrics","what":"SDA Target: Sector-level emission intensity","title":"Running the Analysis","text":"SDA output, can compare projected average emission intensity attributed portfolio, actual emission intensity scenario, scenario compliant SDA pathway portfolio must follow achieve scenario ambition 2050.  ADD INSTRUCTIONS Write file PREVIOUS CHAPTER: Preparatory Steps NEXT CHAPTER: Interpretation Results","code":"data <- filter(sda_targets, sector == \"cement\", region == \"global\") qplot_emission_intensity(data)"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/data_abcd.html","id":"abcd-dataset","dir":"Articles","previous_headings":"","what":"ABCD dataset","title":"ABCD","text":"asset-based company dataset (ABCD) physical assets (e.g. wind turbine power plant, steel mill), aggregated company-level. data used assess climate alignment financial portfolios climate transition pathways. usually based data market-intelligence databases. pacta.loanbook package provides example abcd dataset abcd_demo.","code":"abcd_demo #> # A tibble: 4,972 × 12 #>    company_id name_company                          lei                  sector technology          production_unit  year production emission_factor plant_location is_ultimate_owner emission_factor_unit              #>    <chr>      <chr>                                 <chr>                <chr>  <chr>               <chr>           <int>      <dbl>           <dbl> <chr>          <lgl>             <chr>                             #>  1 175        Giordano, Giordano e Giordano e figli 18500033XH6RG332SX89 power  hydrocap            MW               2020    121032.          NA     MY             TRUE              tonnes of CO2 per per hour per MW #>  2 175        Giordano, Giordano e Giordano e figli 18500033XH6RG332SX89 power  hydrocap            MW               2021    119274.          NA     MY             TRUE              tonnes of CO2 per per hour per MW #>  3 175        Giordano, Giordano e Giordano e figli 18500033XH6RG332SX89 power  hydrocap            MW               2022    117515.          NA     MY             TRUE              tonnes of CO2 per per hour per MW #>  4 175        Giordano, Giordano e Giordano e figli 18500033XH6RG332SX89 power  hydrocap            MW               2023    115757.          NA     MY             TRUE              tonnes of CO2 per per hour per MW #>  5 175        Giordano, Giordano e Giordano e figli 18500033XH6RG332SX89 power  hydrocap            MW               2024    113999.          NA     MY             TRUE              tonnes of CO2 per per hour per MW #>  6 175        Giordano, Giordano e Giordano e figli 18500033XH6RG332SX89 power  hydrocap            MW               2025    112240.          NA     MY             TRUE              tonnes of CO2 per per hour per MW #>  7 526        Vitali, Vitali e Vitali s.r.l.        887100CAVZ6Y3KYT3Q90 cement integrated facility tonnes per year  2020   6327858.           0.723 CI             TRUE              tonnes of CO2 per tonne of cement #>  8 526        Vitali, Vitali e Vitali s.r.l.        887100CAVZ6Y3KYT3Q90 cement integrated facility tonnes per year  2021   6569983.           0.735 CI             TRUE              tonnes of CO2 per tonne of cement #>  9 526        Vitali, Vitali e Vitali s.r.l.        887100CAVZ6Y3KYT3Q90 cement integrated facility tonnes per year  2022   6812108.           0.746 CI             TRUE              tonnes of CO2 per tonne of cement #> 10 526        Vitali, Vitali e Vitali s.r.l.        887100CAVZ6Y3KYT3Q90 cement integrated facility tonnes per year  2023   7054232.           0.758 CI             TRUE              tonnes of CO2 per tonne of cement #> # ℹ 4,962 more rows"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/data_classification.html","id":"sector-classifications-dataset","dir":"Articles","previous_headings":"","what":"sector classifications dataset","title":"Sector Classification","text":"dataset contains currently supported translation keys sector classification systems sector scopes used ‘PACTA’ software. pacta.loanbook package provides sector classification dataset sector_classifications contains sector mapping supported sector classification systems (currently: GICS, ISIC, NACE, NAICS, PSIC, SIC).","code":"sector_classifications #> # A tibble: 6,559 × 4 #>    sector       borderline code     code_system #>    <chr>        <lgl>      <chr>    <chr>       #>  1 not in scope FALSE      10       GICS        #>  2 not in scope FALSE      1010     GICS        #>  3 not in scope FALSE      101010   GICS        #>  4 not in scope FALSE      10101010 GICS        #>  5 not in scope FALSE      10101020 GICS        #>  6 oil and gas  FALSE      101020   GICS        #>  7 oil and gas  FALSE      10102010 GICS        #>  8 oil and gas  FALSE      10102020 GICS        #>  9 oil and gas  TRUE       10102030 GICS        #> 10 oil and gas  TRUE       10102040 GICS        #> # ℹ 6,549 more rows"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/data_classification.html","id":"gics-classification-dataset","dir":"Articles","previous_headings":"","what":"GICS classification dataset","title":"Sector Classification","text":"dataset serves translation key GICS sector-classification system sector scopes used ‘PACTA’ software. pacta.loanbook package provides GICS classification dataset gics_classification.","code":"gics_classification #> # A tibble: 282 × 5 #>    description                                                                                                                                                                                                                                  code     sector       borderline version #>    <chr>                                                                                                                                                                                                                                        <chr>    <chr>        <lgl>      <chr>   #>  1 Energy                                                                                                                                                                                                                                       10       not in scope FALSE      2023    #>  2 Energy                                                                                                                                                                                                                                       1010     not in scope FALSE      2023    #>  3 Energy Equipment & Services                                                                                                                                                                                                                  101010   not in scope FALSE      2023    #>  4 Drilling contractors or owners of drilling rigs that contract their services for drilling wells.                                                                                                                                             10101010 not in scope FALSE      2023    #>  5 Manufacturers of equipment, including drilling rigs and equipment, and providers of supplies and services to companies involved in the drilling, evaluation and completion of oil and gas wells.                                             10101020 not in scope FALSE      2023    #>  6 Oil, Gas & Consumable Fuels                                                                                                                                                                                                                  101020   oil and gas  FALSE      2023    #>  7 Integrated oil companies engaged in the exploration & production of oil and gas, as well as at least one other significant activity in either refining, marketing and transportation, or chemicals.                                          10102010 oil and gas  FALSE      2023    #>  8 Companies engaged in the exploration and production of oil and gas not classified elsewhere.                                                                                                                                                 10102020 oil and gas  FALSE      2023    #>  9 Companies engaged in the refining and marketing of oil, gas and/or refined products not classified in the Integrated Oil & Gas or Independent Power Producers & Energy Traders Sub-Industries.                                               10102030 oil and gas  TRUE       2023    #> 10 Companies engaged in the storage and/or transportation of oil, gas and/or refined products. Includes diversified midstream natural gas companies, oil and refined product pipelines, coal slurry pipelines and oil & gas shipping companies. 10102040 oil and gas  TRUE       2023    #> # ℹ 272 more rows"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/data_classification.html","id":"isic-rev-5-classification-dataset","dir":"Articles","previous_headings":"","what":"ISIC Rev 5 classification dataset","title":"Sector Classification","text":"dataset serves translation key ISIC Rev 5 sector-classification system sector scopes used ‘PACTA’ software. pacta.loanbook package provides ISIC Rev 5 classification dataset isic_classification.","code":"isic_classification #> # A tibble: 830 × 6 #>    original_code description                                                        code  sector       borderline revision #>    <chr>         <chr>                                                              <chr> <chr>        <lgl>      <chr>    #>  1 A             Agriculture, forestry and fishing                                  A     not in scope FALSE      5        #>  2 01            Crop and animal production, hunting and related service activities A01   not in scope FALSE      5        #>  3 011           Growing of non-perennial crops                                     A011  not in scope FALSE      5        #>  4 0111          Growing of cereals (except rice), leguminous crops and oil seeds   A0111 not in scope FALSE      5        #>  5 0112          Growing of rice                                                    A0112 not in scope FALSE      5        #>  6 0113          Growing of vegetables and melons, roots and tubers                 A0113 not in scope FALSE      5        #>  7 0114          Growing of sugar cane                                              A0114 not in scope FALSE      5        #>  8 0115          Growing of tobacco                                                 A0115 not in scope FALSE      5        #>  9 0116          Growing of fibre crops                                             A0116 not in scope FALSE      5        #> 10 0119          Growing of other non-perennial crops                               A0119 not in scope FALSE      5        #> # ℹ 820 more rows"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/data_classification.html","id":"nace-version-2-1-classification-dataset","dir":"Articles","previous_headings":"","what":"NACE version 2.1 classification dataset","title":"Sector Classification","text":"dataset serves translation key NACE version 2.1 sector-classification system sector scopes used ‘PACTA’ software. pacta.loanbook package provides NACE version 2.1 classification dataset nace_classification.","code":"nace_classification #> # A tibble: 1,047 × 6 #>    original_code description                                                               code   sector       borderline version #>    <chr>         <chr>                                                                     <chr>  <chr>        <lgl>      <chr>   #>  1 01            01 Crop and animal production, hunting and related service activities     A01    not in scope FALSE      2.1     #>  2 01.1          01.1 Growing of non-perennial crops                                       A01.1  not in scope FALSE      2.1     #>  3 01.11         01.11 Growing of cereals, other than rice, leguminous crops and oil seeds A01.11 not in scope FALSE      2.1     #>  4 01.12         01.12 Growing of rice                                                     A01.12 not in scope FALSE      2.1     #>  5 01.13         01.13 Growing of vegetables and melons, roots and tubers                  A01.13 not in scope FALSE      2.1     #>  6 01.14         01.14 Growing of sugar cane                                               A01.14 not in scope FALSE      2.1     #>  7 01.15         01.15 Growing of tobacco                                                  A01.15 not in scope FALSE      2.1     #>  8 01.16         01.16 Growing of fibre crops                                              A01.16 not in scope FALSE      2.1     #>  9 01.19         01.19 Growing of other non-perennial crops                                A01.19 not in scope FALSE      2.1     #> 10 01.2          01.2 Growing of perennial crops                                           A01.2  not in scope FALSE      2.1     #> # ℹ 1,037 more rows"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/data_classification.html","id":"psic-classification-dataset","dir":"Articles","previous_headings":"","what":"PSIC classification dataset","title":"Sector Classification","text":"dataset serves translation key PSIC sector-classification system sector scopes used ‘PACTA’ software. pacta.loanbook package provides PSIC classification dataset psic_classification.","code":"psic_classification #> # A tibble: 1,271 × 5 #>    description                                                                                                                                       code  sector       borderline version #>    <chr>                                                                                                                                             <chr> <chr>        <lgl>      <chr>   #>  1 Growing of leguminous crops such as: mongo, string beans (sitao), pigeon peas, gisantes, garbanzos, bountiful beans (habichuelas), peas (sitsaro) 1111  not in scope FALSE      2019    #>  2 Growing of ground nuts                                                                                                                            1112  not in scope FALSE      2019    #>  3 Growing of oil seeds (except ground nuts) such as soya beans, sunflower and growing of other oil seeds,  n.e.c.                                   1113  not in scope FALSE      2019    #>  4 Growing of  sorghum, wheat                                                                                                                        1114  not in scope FALSE      2019    #>  5 Growing of other cereals (except rice and corn), leguminous crops and oil seeds, n.e.c.                                                           1119  not in scope FALSE      2019    #>  6 Growing of paddy rice, lowland, irrigated                                                                                                         1121  not in scope FALSE      2019    #>  7 Growing of paddy rice, lowland, rainfed                                                                                                           1122  not in scope FALSE      2019    #>  8 Growing of paddy rice, upland/kaingin                                                                                                             1123  not in scope FALSE      2019    #>  9 Growing of corn, expcept young corn (vegetable)                                                                                                   1130  not in scope FALSE      2019    #> 10 Growing of sugarcane including muscovado sugar-making in the farm                                                                                 1140  not in scope FALSE      2019    #> # ℹ 1,261 more rows"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/data_classification.html","id":"sic-classification-dataset","dir":"Articles","previous_headings":"","what":"SIC classification dataset","title":"Sector Classification","text":"dataset serves translation key SIC sector-classification system sector scopes used ‘PACTA’ software. pacta.loanbook package provides SIC classification dataset sic_classification.","code":"sic_classification #> # A tibble: 1,005 × 5 #>    description                                               code  sector       borderline version #>    <chr>                                                     <chr> <chr>        <lgl>      <chr>   #>  1 Wheat                                                     0111  not in scope FALSE      1987    #>  2 Rice                                                      0112  not in scope FALSE      1987    #>  3 Corn                                                      0115  not in scope FALSE      1987    #>  4 Soybeans                                                  0116  not in scope FALSE      1987    #>  5 Cash Grains, Not Elsewhere Classified                     0119  not in scope FALSE      1987    #>  6 Cotton                                                    0131  not in scope FALSE      1987    #>  7 Tobacco                                                   0132  not in scope FALSE      1987    #>  8 Sugarcane and Sugar Beets                                 0133  not in scope FALSE      1987    #>  9 Irish Potatoes                                            0134  not in scope FALSE      1987    #> 10 Field Crops, Except Cash Grains, Not Elsewhere Classified 0139  not in scope FALSE      1987    #> # ℹ 995 more rows"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/data_loanbook.html","id":"loanbook-dataset","dir":"Articles","previous_headings":"","what":"Loanbook dataset","title":"Loanbook","text":"Loanbook dataset, prepared user raw input PACTA Banks software. pacta.loanbook package provides example loanbook dataset loanbook_demo.","code":"loanbook_demo #> # A tibble: 283 × 13 #>    id_loan id_direct_loantaker name_direct_loantaker       id_ultimate_parent name_ultimate_parent                   loan_size_outstanding loan_size_outstanding_currency loan_size_credit_limit loan_size_credit_limit_currency sector_classification_system sector_classification_direct_loantaker lei_direct_loantaker isin_direct_loantaker #>    <chr>   <chr>               <chr>                       <chr>              <chr>                                                  <dbl> <chr>                                           <dbl> <chr>                           <chr>                        <chr>                                  <chr>                <chr>                 #>  1 L1      C294                Vitale Group                UP15               Scholz KGaA                                           225625 EUR                                          18968805 EUR                             NACE                         D35.11                                 NA                   NA                    #>  2 L2      C293                Moen-Moen                   UP84               NA                                                    301721 EUR                                          19727961 EUR                             NACE                         D35.11                                 NA                   NA                    #>  3 L3      C292                Rowe-Rowe                   UP288              Harvey, Harvey and Harvey                             410297 EUR                                          20811147 EUR                             NACE                         D35.11                                 801600ATB1D513IUFZ77 NA                    #>  4 L4      C299                Fadel-Fadel                 UP54               NA                                                    233049 EUR                                          19042869 EUR                             NACE                         D35.11                                 NA                   NA                    #>  5 L5      C305                Ring AG & Co. KGaA          UP104              Conti, Conti e Conti SPA                              406585 EUR                                          20774115 EUR                             NACE                         D35.11                                 NA                   NA                    #>  6 L6      C304                Kassulke-Kassulke           UP83               Farrell, Farrell and Farrell                          185721 EUR                                          18570711 EUR                             NACE                         D35.11                                 108200TUBGG1DR0QR635 NA                    #>  7 L7      C227                Morissette Group            UP134              Weller AG                                             184793 EUR                                          18561453 EUR                             NACE                         D35.11                                 NA                   NA                    #>  8 L8      C303                Barone s.r.l.               UP163              Williamsonn PLC                                       291513 EUR                                          19626123 EUR                             NACE                         D35.11                                 NA                   NA                    #>  9 L9      C301                Werner Werner AG & Co. KGaA UP138              Leone-Leone s.r.l.                                    407513 EUR                                          20783373 EUR                             NACE                         D35.11                                 NA                   NA                    #> 10 L10     C302                De rosa s.r.l.              UP32               Benedetti, Benedetti e Benedetti Group                186649 EUR                                          18579969 EUR                             NACE                         D35.11                                 NA                   NA                    #> # ℹ 273 more rows"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/data_outputs.html","id":"match_name-output","dir":"Articles","previous_headings":"","what":"match_name() output","title":"Outputs","text":"output match_name() following columns:","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/data_outputs.html","id":"prioritize-output","dir":"Articles","previous_headings":"","what":"prioritize() output","title":"Outputs","text":"output prioritize() following columns:","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/data_outputs.html","id":"target_market_share-output","dir":"Articles","previous_headings":"","what":"target_market_share() output","title":"Outputs","text":"output target_market_share() following columns:","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/data_outputs.html","id":"target_sda-output","dir":"Articles","previous_headings":"","what":"target_sda() output","title":"Outputs","text":"output target_sda() following columns:","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/data_outputs.html","id":"prep_techmix-output","dir":"Articles","previous_headings":"","what":"prep_techmix() output","title":"Outputs","text":"output prep_techmix() following columns:","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/data_outputs.html","id":"prep_emission_intensity-output","dir":"Articles","previous_headings":"","what":"prep_emission_intensity() output","title":"Outputs","text":"output prep_emission_intensity() following columns:","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/data_outputs.html","id":"prep_trajectory-output","dir":"Articles","previous_headings":"","what":"prep_trajectory() output","title":"Outputs","text":"output prep_trajectory() following columns:","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/data_scenario.html","id":"climate-transition-scenario-dataset-technology-pathways-for-target-market-share-calculation","dir":"Articles","previous_headings":"","what":"Climate transition scenario dataset (technology pathways for target market share calculation)","title":"Scenario","text":"Climate transition scenario dataset, prepared PACTA Banks software, e.g. based scenarios International Energy Agency (IEA). Includes relative change time production across industrial sectors technologies. pacta.loanbook package provides example climate transition scenario dataset scenario_demo_2020.","code":"scenario_demo_2020 #> # A tibble: 1,512 × 8 #>    scenario sector     technology region  year  tmsr    smsp scenario_source #>    <chr>    <chr>      <chr>      <chr>  <int> <dbl>   <dbl> <chr>           #>  1 cps      automotive electric   global  2020  1    0       demo_2020       #>  2 cps      automotive hybrid     global  2020  1    0       demo_2020       #>  3 cps      automotive ice        global  2020  1    0       demo_2020       #>  4 cps      automotive electric   global  2021  1.12 0.00108 demo_2020       #>  5 cps      automotive hybrid     global  2021  1.12 0.0165  demo_2020       #>  6 cps      automotive ice        global  2021  1.02 0.0188  demo_2020       #>  7 cps      automotive electric   global  2022  1.24 0.00213 demo_2020       #>  8 cps      automotive hybrid     global  2022  1.24 0.0326  demo_2020       #>  9 cps      automotive ice        global  2022  1.04 0.0378  demo_2020       #> 10 cps      automotive electric   global  2023  1.35 0.00316 demo_2020       #> # ℹ 1,502 more rows"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/data_scenario.html","id":"climate-transition-scenario-dataset-co2-intensity-pathways-for-sectoral-decarbonization-approach","dir":"Articles","previous_headings":"","what":"Climate transition scenario dataset (CO2 intensity pathways for sectoral decarbonization approach)","title":"Scenario","text":"CO2 intensity climate transition scenario dataset, prepared PACTA Banks software, e.g. based scenarios International Energy Agency (IEA). Includes change time production-based emission intensity across industrial sectors. pacta.loanbook package provides example CO2 intensity climate transition scenario dataset co2_intensity_scenario_demo.","code":"co2_intensity_scenario_demo #> # A tibble: 22 × 7 #>    scenario_source scenario sector region  year emission_factor_unit              emission_factor #>    <chr>           <chr>    <chr>  <chr>  <dbl> <chr>                                       <dbl> #>  1 demo_2020       demo     cement global  2020 tonnes of CO2 per tonne of Cement            0.7  #>  2 demo_2020       demo     cement global  2021 tonnes of CO2 per tonne of Cement            0.64 #>  3 demo_2020       demo     cement global  2022 tonnes of CO2 per tonne of Cement            0.58 #>  4 demo_2020       demo     cement global  2023 tonnes of CO2 per tonne of Cement            0.52 #>  5 demo_2020       demo     cement global  2024 tonnes of CO2 per tonne of Cement            0.46 #>  6 demo_2020       demo     cement global  2025 tonnes of CO2 per tonne of Cement            0.4  #>  7 demo_2020       demo     cement global  2030 tonnes of CO2 per tonne of Cement            0.39 #>  8 demo_2020       demo     cement global  2035 tonnes of CO2 per tonne of Cement            0.38 #>  9 demo_2020       demo     cement global  2040 tonnes of CO2 per tonne of Cement            0.25 #> 10 demo_2020       demo     cement global  2045 tonnes of CO2 per tonne of Cement            0.2  #> # ℹ 12 more rows"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Jacob Kastl. Author, maintainer, contractor. Jackson Hoffart. Author, contractor. CJ Yetman. Author, contractor. . Copyright holder, funder.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Kastl J, Hoffart J, Yetman C (2025). pacta.loanbook: Easily Install Load PACTA Banks Packages. R package version 0.0.0.9000, https://github.com/rmi-pacta/pacta.loanbook, https://rmi-pacta.github.io/pacta.loanbook/.","code":"@Manual{,   title = {pacta.loanbook: Easily Install and Load PACTA for Banks Packages},   author = {Jacob Kastl and Jackson Hoffart and CJ Yetman},   year = {2025},   note = {R package version 0.0.0.9000, https://github.com/rmi-pacta/pacta.loanbook},   url = {https://rmi-pacta.github.io/pacta.loanbook/}, }"},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"Easily Install and Load PACTA for Banks Packages","text":"goal pacta.loanbook provide easy way load install packages needed running PACTA Banks. also serves space provide thorough comprehensive documentation running PACTA Banks, form cookbook.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Easily Install and Load PACTA for Banks Packages","text":"can install development version pacta.loanbook GitHub :","code":"# install.packages(\"pak\") pak::pak(\"RMI-PACTA/pacta.loanbook\")"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/index.html","id":"usage-wip","dir":"","previous_headings":"","what":"Usage (WIP!)","title":"Easily Install and Load PACTA for Banks Packages","text":"library(pacta.loanbook) load functions datasets underlying packages: r2dii.data, input data sets used PACTA Banks (e.g. sector classification systems, regional mappers, data dictionary, demo data). r2dii.match, matching counterparties raw input loan books companies asset-based company data (ABCD). r2dii.analysis, calculating alignment loan books /counterparties climate transition scenarios. r2dii.plot, plotting results alignment analysis standard PACTA plot format.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/abcd_demo.html","id":null,"dir":"Reference","previous_headings":"","what":"An asset-based company dataset for demonstration — abcd_demo","title":"An asset-based company dataset for demonstration — abcd_demo","text":"Fake data physical assets (e.g. wind turbine power plant capacities), aggregated company-level. data used assess climate alignment financial portfolios. imitates data market-intelligence databases. Demo datasets synthetic financial data strictly private; help demonstrate test implementation R 'PACTA' (https://www.transitionmonitor.com/).","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/abcd_demo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"An asset-based company dataset for demonstration — abcd_demo","text":"","code":"abcd_demo"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/abcd_demo.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"An asset-based company dataset for demonstration — abcd_demo","text":"object class tbl_df (inherits tbl, data.frame) 4972 rows 12 columns.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/abcd_demo.html","id":"definitions","dir":"Reference","previous_headings":"","what":"Definitions","title":"An asset-based company dataset for demonstration — abcd_demo","text":"company_id (character): id company owning asset created data provider., * emission_factor (double): Company level emission factor technology., * emission_factor_unit (character): units emission factor measured ., * is_ultimate_owner (logical): Flag company ultimate parent database., * lei (character): legal entity identifier company owning asset., * name_company (character): name company owning asset., * plant_location (character): Country asset located., * production (double): Company level production technology., * production_unit (character): units production measured ., * sector (character): Sector asset belongs., * technology (character): Technology implemented asset., * year (integer): Year production value predicted.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/abcd_demo.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"An asset-based company dataset for demonstration — abcd_demo","text":"","code":"head(abcd_demo) #> # A tibble: 6 × 12 #>   company_id name_company          lei   sector technology production_unit  year #>   <chr>      <chr>                 <chr> <chr>  <chr>      <chr>           <int> #> 1 175        Giordano, Giordano e… 1850… power  hydrocap   MW               2020 #> 2 175        Giordano, Giordano e… 1850… power  hydrocap   MW               2021 #> 3 175        Giordano, Giordano e… 1850… power  hydrocap   MW               2022 #> 4 175        Giordano, Giordano e… 1850… power  hydrocap   MW               2023 #> 5 175        Giordano, Giordano e… 1850… power  hydrocap   MW               2024 #> 6 175        Giordano, Giordano e… 1850… power  hydrocap   MW               2025 #> # ℹ 5 more variables: production <dbl>, emission_factor <dbl>, #> #   plant_location <chr>, is_ultimate_owner <lgl>, emission_factor_unit <chr>"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/co2_intensity_scenario_demo.html","id":null,"dir":"Reference","previous_headings":"","what":"A prepared co2 intensity climate scenario dataset for demonstration — co2_intensity_scenario_demo","title":"A prepared co2 intensity climate scenario dataset for demonstration — co2_intensity_scenario_demo","text":"Fake co2 intensity climate scenario dataset, prepared software PACTA (Paris Agreement Capital Transition Assessment). imitates climate scenario data (e.g. International Energy Agency (IEA)) including change time production across industrial sectors. Demo datasets synthetic financial data strictly private; help demonstrate test implementation R 'PACTA' (https://www.transitionmonitor.com/).","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/co2_intensity_scenario_demo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"A prepared co2 intensity climate scenario dataset for demonstration — co2_intensity_scenario_demo","text":"","code":"co2_intensity_scenario_demo"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/co2_intensity_scenario_demo.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"A prepared co2 intensity climate scenario dataset for demonstration — co2_intensity_scenario_demo","text":"object class tbl_df (inherits tbl, data.frame) 22 rows 7 columns.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/co2_intensity_scenario_demo.html","id":"definitions","dir":"Reference","previous_headings":"","what":"Definitions","title":"A prepared co2 intensity climate scenario dataset for demonstration — co2_intensity_scenario_demo","text":"emission_factor (double): target sector level emissions factor scenario prescribes., * emission_factor_unit (character): units emissions factor measured ., * region (character): region pathway relevant., * scenario (character): name scenario., * scenario_source (character): source publication scenario taken., * sector (character): sector scenario prescribes pathway., * year (integer): year pathway value prescribed.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/co2_intensity_scenario_demo.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"A prepared co2 intensity climate scenario dataset for demonstration — co2_intensity_scenario_demo","text":"","code":"head(co2_intensity_scenario_demo) #> # A tibble: 6 × 7 #>   scenario_source scenario sector region  year emission_factor_unit              #>   <chr>           <chr>    <chr>  <chr>  <dbl> <chr>                             #> 1 demo_2020       demo     cement global  2020 tonnes of CO2 per tonne of Cement #> 2 demo_2020       demo     cement global  2021 tonnes of CO2 per tonne of Cement #> 3 demo_2020       demo     cement global  2022 tonnes of CO2 per tonne of Cement #> 4 demo_2020       demo     cement global  2023 tonnes of CO2 per tonne of Cement #> 5 demo_2020       demo     cement global  2024 tonnes of CO2 per tonne of Cement #> 6 demo_2020       demo     cement global  2025 tonnes of CO2 per tonne of Cement #> # ℹ 1 more variable: emission_factor <dbl>"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/crucial_lbk.html","id":null,"dir":"Reference","previous_headings":"","what":"Crucial loanbook columns for match_name() — crucial_lbk","title":"Crucial loanbook columns for match_name() — crucial_lbk","text":"helper select minimum loanbook columns need run match_name(). Using columns may use much time memory.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/crucial_lbk.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Crucial loanbook columns for match_name() — crucial_lbk","text":"","code":"crucial_lbk()"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/crucial_lbk.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Crucial loanbook columns for match_name() — crucial_lbk","text":"character vector.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/crucial_lbk.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Crucial loanbook columns for match_name() — crucial_lbk","text":"","code":"crucial_lbk() #> [1] \"id_ultimate_parent\"                     #> [2] \"name_ultimate_parent\"                   #> [3] \"id_direct_loantaker\"                    #> [4] \"name_direct_loantaker\"                  #> [5] \"sector_classification_system\"           #> [6] \"sector_classification_direct_loantaker\""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/data_dictionary.html","id":null,"dir":"Reference","previous_headings":"","what":"Data Dictionary — data_dictionary","title":"Data Dictionary — data_dictionary","text":"table column names descriptions data frames used exported functions package.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/data_dictionary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Data Dictionary — data_dictionary","text":"","code":"data_dictionary"},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/data_dictionary.html","id":"data-dictionary","dir":"Reference","previous_headings":"","what":"data_dictionary","title":"Data Dictionary — data_dictionary","text":"dataset Name dataset column Name column typeof Type column definition Definition column","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/data_dictionary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Data Dictionary — data_dictionary","text":"","code":"data_dictionary #> # A tibble: 208 × 4 #>    dataset   column               typeof    definition                           #>    <chr>     <chr>                <chr>     <chr>                                #>  1 abcd_demo company_id           character The id of the company owning the as… #>  2 abcd_demo emission_factor      double    Company level emission factor of th… #>  3 abcd_demo emission_factor_unit character The units that the emission factor … #>  4 abcd_demo is_ultimate_owner    logical   Flag if company is the ultimate par… #>  5 abcd_demo lei                  character The legal entity identifier of the … #>  6 abcd_demo name_company         character The name of the company owning the … #>  7 abcd_demo plant_location       character Country where asset is located       #>  8 abcd_demo production           double    Company level production of the tec… #>  9 abcd_demo production_unit      character The units that production is measur… #> 10 abcd_demo sector               character Sector to which the asset belongs    #> # ℹ 198 more rows"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/gics_classification.html","id":null,"dir":"Reference","previous_headings":"","what":"Dataset to bridge (translate) common sector-classification codes — gics_classification","title":"Dataset to bridge (translate) common sector-classification codes — gics_classification","text":"dataset serves translation key common sector-classification systems sectors relevant 'PACTA' tool (https://www.transitionmonitor.com/).","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/gics_classification.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Dataset to bridge (translate) common sector-classification codes — gics_classification","text":"","code":"gics_classification"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/gics_classification.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Dataset to bridge (translate) common sector-classification codes — gics_classification","text":"object class tbl_df (inherits tbl, data.frame) 282 rows 5 columns.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/gics_classification.html","id":"definitions","dir":"Reference","previous_headings":"","what":"Definitions","title":"Dataset to bridge (translate) common sector-classification codes — gics_classification","text":"borderline (logical): Flag indicating PACTA sector classification code borderline match. value TRUE indicates match uncertain PACTA sector classification. value FALSE indicates match certainly perfect classification certainly PACTA's scope.., * code (character): Original GICS code., * description (character): Original GICS description., * sector (character): Associated PACTA sector., * version (character): Column identifying GICS version code belongs.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/gics_classification.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Dataset to bridge (translate) common sector-classification codes — gics_classification","text":"Classification datasets help standardize sector classification codes wild relevant subset including 'power', 'oil gas', 'coal', 'automotive', 'aviation', 'concrete', 'steel', 'shipping'.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/gics_classification.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Dataset to bridge (translate) common sector-classification codes — gics_classification","text":"","code":"head(gics_classification) #> # A tibble: 6 × 5 #>   description                                    code  sector borderline version #>   <chr>                                          <chr> <chr>  <lgl>      <chr>   #> 1 Energy                                         10    not i… FALSE      2023    #> 2 Energy                                         1010  not i… FALSE      2023    #> 3 Energy Equipment & Services                    1010… not i… FALSE      2023    #> 4 Drilling contractors or owners of drilling ri… 1010… not i… FALSE      2023    #> 5 Manufacturers of equipment, including drillin… 1010… not i… FALSE      2023    #> 6 Oil, Gas & Consumable Fuels                    1010… oil a… FALSE      2023"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/increasing_or_decreasing.html","id":null,"dir":"Reference","previous_headings":"","what":"Determine if a technology is increasing or decreasing — increasing_or_decreasing","title":"Determine if a technology is increasing or decreasing — increasing_or_decreasing","text":"dataset provides simple lookup table determine technology meant increase decrease align scenario predicts less 2 degree temperature rise.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/increasing_or_decreasing.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Determine if a technology is increasing or decreasing — increasing_or_decreasing","text":"","code":"increasing_or_decreasing"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/increasing_or_decreasing.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Determine if a technology is increasing or decreasing — increasing_or_decreasing","text":"object class tbl_df (inherits tbl, data.frame) 20 rows 3 columns.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/increasing_or_decreasing.html","id":"definitions","dir":"Reference","previous_headings":"","what":"Definitions","title":"Determine if a technology is increasing or decreasing — increasing_or_decreasing","text":"increasing_or_decreasing (character): technology increasing decreasing, defined Paris-aligned IEA scenarios., * sector (character): sector technology belongs., * technology (character): technology sub-category within sector.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/increasing_or_decreasing.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Determine if a technology is increasing or decreasing — increasing_or_decreasing","text":"","code":"head(increasing_or_decreasing) #> # A tibble: 6 × 3 #>   sector     technology    increasing_or_decreasing #>   <chr>      <chr>         <chr>                    #> 1 automotive electric      increasing               #> 2 automotive hybrid        increasing               #> 3 automotive ice           decreasing               #> 4 automotive fuelcell      increasing               #> 5 power      hydrocap      increasing               #> 6 power      renewablescap increasing"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/isic_classification.html","id":null,"dir":"Reference","previous_headings":"","what":"Dataset to bridge (translate) common sector-classification codes — isic_classification","title":"Dataset to bridge (translate) common sector-classification codes — isic_classification","text":"dataset serves translation key common sector-classification systems sectors relevant 'PACTA' tool (https://www.transitionmonitor.com/).","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/isic_classification.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Dataset to bridge (translate) common sector-classification codes — isic_classification","text":"","code":"isic_classification"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/isic_classification.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Dataset to bridge (translate) common sector-classification codes — isic_classification","text":"object class tbl_df (inherits tbl, data.frame) 830 rows 6 columns.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/isic_classification.html","id":"definitions","dir":"Reference","previous_headings":"","what":"Definitions","title":"Dataset to bridge (translate) common sector-classification codes — isic_classification","text":"borderline (logical): Flag indicating PACTA sector classification code borderline match. value TRUE indicates match uncertain PACTA sector classification. value FALSE indicates match certainly perfect classification certainly PACTA's scope.., * code (character): ISIC Rev 5 code top-level letter prepended., * description (character): Original ISIC Rev 5 title., * original_code (character): Original ISIC Rev 5 code., * revision (character): Column identifying ISIC revision code belongs.., * sector (character): Associated PACTA sector.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/isic_classification.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Dataset to bridge (translate) common sector-classification codes — isic_classification","text":"Classification datasets help standardize sector classification codes wild relevant subset including 'power', 'oil gas', 'coal', 'automotive', 'aviation', 'concrete', 'steel', 'shipping'.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/isic_classification.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Dataset to bridge (translate) common sector-classification codes — isic_classification","text":"","code":"head(isic_classification) #> # A tibble: 6 × 6 #>   original_code description                     code  sector borderline revision #>   <chr>         <chr>                           <chr> <chr>  <lgl>      <chr>    #> 1 A             Agriculture, forestry and fish… A     not i… FALSE      5        #> 2 01            Crop and animal production, hu… A01   not i… FALSE      5        #> 3 011           Growing of non-perennial crops  A011  not i… FALSE      5        #> 4 0111          Growing of cereals (except ric… A0111 not i… FALSE      5        #> 5 0112          Growing of rice                 A0112 not i… FALSE      5        #> 6 0113          Growing of vegetables and melo… A0113 not i… FALSE      5"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/iso_codes.html","id":null,"dir":"Reference","previous_headings":"","what":"Countries and codes — iso_codes","title":"Countries and codes — iso_codes","text":"dataset maps countries codes. information ISO standard country codes see https://www.iso.org/iso-3166-country-codes.html.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/iso_codes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Countries and codes — iso_codes","text":"","code":"iso_codes"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/iso_codes.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Countries and codes — iso_codes","text":"object class tbl_df (inherits tbl, data.frame) 286 rows 2 columns.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/iso_codes.html","id":"definitions","dir":"Reference","previous_headings":"","what":"Definitions","title":"Countries and codes — iso_codes","text":"country (character): Country name., * country_iso (character): Corresponding ISO code.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/iso_codes.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Countries and codes — iso_codes","text":"","code":"head(iso_codes) #> # A tibble: 6 × 2 #>   country        country_iso #>   <chr>          <chr>       #> 1 afghanistan    af          #> 2 albania        al          #> 3 algeria        dz          #> 4 american samoa as          #> 5 andorra        ad          #> 6 angola         ao"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/loanbook_demo.html","id":null,"dir":"Reference","previous_headings":"","what":"A loanbook dataset for demonstration — loanbook_demo","title":"A loanbook dataset for demonstration — loanbook_demo","text":"Fake financial portfolio. Demo datasets synthetic financial data strictly private; help demonstrate test implementation R 'PACTA' (https://www.transitionmonitor.com/).","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/loanbook_demo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"A loanbook dataset for demonstration — loanbook_demo","text":"","code":"loanbook_demo"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/loanbook_demo.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"A loanbook dataset for demonstration — loanbook_demo","text":"object class tbl_df (inherits tbl, data.frame) 283 rows 13 columns.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/loanbook_demo.html","id":"definitions","dir":"Reference","previous_headings":"","what":"Definitions","title":"A loanbook dataset for demonstration — loanbook_demo","text":"id_direct_loantaker (character): Borrower identifier unique borrower/sector combination loanbook., * id_loan (character): Unique loan identifier., * id_ultimate_parent (character): Ultimate parent identifier unique ultimate parent/sector combination., * isin_direct_loantaker (logical): Optional input: providing isin identifier direct loan taker improve matching coverage., * lei_direct_loantaker (logical): Optional input: providing lei (legal entity identifier) direct loan taker improve matching coverage., * loan_size_credit_limit (double): Total credit limit exposure default., * loan_size_credit_limit_currency (character): Currency corresponding credit limit., * loan_size_outstanding (double): Amount drawn borrower total credit limit., * loan_size_outstanding_currency (character): Currency corresponding outstandings., * name_direct_loantaker (character): Name company directly taking loan., * name_ultimate_parent (character): Name ultimate parent company borrower belongs. Can borrower., * sector_classification_direct_loantaker (double): Sector classification code direct loantaker., * sector_classification_system (character): Name sector classification standard used.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/loanbook_demo.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"A loanbook dataset for demonstration — loanbook_demo","text":"","code":"head(loanbook_demo) #> # A tibble: 6 × 13 #>   id_loan id_direct_loantaker name_direct_loantaker id_ultimate_parent #>   <chr>   <chr>               <chr>                 <chr>              #> 1 L1      C294                Vitale Group          UP15               #> 2 L2      C293                Moen-Moen             UP84               #> 3 L3      C292                Rowe-Rowe             UP288              #> 4 L4      C299                Fadel-Fadel           UP54               #> 5 L5      C305                Ring AG & Co. KGaA    UP104              #> 6 L6      C304                Kassulke-Kassulke     UP83               #> # ℹ 9 more variables: name_ultimate_parent <chr>, loan_size_outstanding <dbl>, #> #   loan_size_outstanding_currency <chr>, loan_size_credit_limit <dbl>, #> #   loan_size_credit_limit_currency <chr>, sector_classification_system <chr>, #> #   sector_classification_direct_loantaker <chr>, lei_direct_loantaker <chr>, #> #   isin_direct_loantaker <chr>"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/market_share.html","id":null,"dir":"Reference","previous_headings":"","what":"An example of a market_share-like dataset — market_share","title":"An example of a market_share-like dataset — market_share","text":"Dataset imitating output r2dii.analysis::target_market_share().","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/market_share.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"An example of a market_share-like dataset — market_share","text":"","code":"market_share"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/market_share.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"An example of a market_share-like dataset — market_share","text":"object class spec_tbl_df (inherits tbl_df, tbl, data.frame) 802 rows 10 columns.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/market_share.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"An example of a market_share-like dataset — market_share","text":"","code":"market_share #> # A tibble: 802 × 10 #>    sector     technology  year region scenario_source metric     production #>    <chr>      <chr>      <int> <chr>  <chr>           <chr>           <dbl> #>  1 automotive electric    2020 global demo_2020       projected     324592. #>  2 automotive electric    2020 global demo_2020       target_cps    324592. #>  3 automotive electric    2020 global demo_2020       target_sds    324592. #>  4 automotive electric    2020 global demo_2020       target_sps    324592. #>  5 automotive electric    2021 global demo_2020       projected     339656. #>  6 automotive electric    2021 global demo_2020       target_cps    329191. #>  7 automotive electric    2021 global demo_2020       target_sds    352505. #>  8 automotive electric    2021 global demo_2020       target_sps    330435. #>  9 automotive electric    2022 global demo_2020       projected     354720. #> 10 automotive electric    2022 global demo_2020       target_cps    333693. #> # ℹ 792 more rows #> # ℹ 3 more variables: technology_share <dbl>, scope <chr>, #> #   percentage_of_initial_production_by_scope <dbl>"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/match_name.html","id":null,"dir":"Reference","previous_headings":"","what":"Match a loanbook to asset-based company data (abcd) by the name_* columns — match_name","title":"Match a loanbook to asset-based company data (abcd) by the name_* columns — match_name","text":"match_name() scores match names loanbook dataset (columns can name_direct_loantaker, name_intermediate_parent* name_ultimate_parent) names asset-based company data (column name_company). raw names first internally transformed, aliases assigned. similarity aliases loanbook abcd scored using stringdist::stringsim().","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/match_name.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Match a loanbook to asset-based company data (abcd) by the name_* columns — match_name","text":"","code":"match_name(   loanbook,   abcd,   by_sector = TRUE,   min_score = 0.8,   method = \"jw\",   p = 0.1,   overwrite = NULL,   join_id = NULL,   sector_classification = default_sector_classification(),   ... )"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/match_name.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Match a loanbook to asset-based company data (abcd) by the name_* columns — match_name","text":"loanbook, abcd data frames structured like r2dii.data::loanbook_demo r2dii.data::abcd_demo. by_sector names compared companies belong sector? min_score number 0-1, set minimum score threshold. score 1 perfect match. method Method distance calculation. One c(\"osa\", \"lv\", \"dl\", \"hamming\", \"lcs\", \"qgram\", \"cosine\", \"jaccard\", \"jw\", \"soundex\"). See stringdist::stringdist-metrics. p Prefix factor Jaro-Winkler distance. valid range p 0 <= p <= 0.25. p=0 (default), Jaro-distance returned. Applies method='jw'. overwrite data frame used overwrite sector /name columns particular direct loantaker ultimate parent. overwrite sector, value name column NA vice-versa. file can used manually match loanbook companies abcd. join_id join specification passed dplyr::inner_join(). character string, assumes identical join columns loanbook abcd. named character vector, uses name join column loanbook value join column abcd. sector_classification data frame containing sector classifications format r2dii.data::sector_classifications. default value r2dii.data::sector_classifications. ... Arguments passed stringdist::stringsim().","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/match_name.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Match a loanbook to asset-based company data (abcd) by the name_* columns — match_name","text":"data frame groups () columns loanbook, additional columns: id_2dii - id used internally match_name() distinguish companies level - level granularity loan matched (e.g direct_loantaker ultimate_parent) sector - sector loanbook company sector_abcd - sector abcd company name - name loanbook company name_abcd - name abcd company score - score match (manually set 1 prior calling prioritize() validate match) source - determines source match. (equal loanbook unless match overwrite returned rows depend argument min_value result column score loan: * row score equal 1, match_name() returns rows score equals 1, dropping rows. * row score equal 1,match_name() returns rows score equal greater min_score. * match output 0-row tibble expected column names – type stability.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/match_name.html","id":"assigning-aliases","dir":"Reference","previous_headings":"","what":"Assigning aliases","title":"Match a loanbook to asset-based company data (abcd) by the name_* columns — match_name","text":"transformation process used compare names loanbook abcd datasets applies best practices commonly used name matching algorithms: Remove special characters. Replace language specific characters. Abbreviate certain names reduce importance matching. Spell numbers increase importance.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/match_name.html","id":"handling-grouped-data","dir":"Reference","previous_headings":"","what":"Handling grouped data","title":"Match a loanbook to asset-based company data (abcd) by the name_* columns — match_name","text":"function ignores preserves existing groups.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/match_name.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Match a loanbook to asset-based company data (abcd) by the name_* columns — match_name","text":"","code":"if (FALSE) { # \\dontrun{ library(r2dii.data) library(tibble)  # Small data for examples loanbook <- head(loanbook_demo, 50) abcd <- head(abcd_demo, 50)  match_name(loanbook, abcd)  match_name(loanbook, abcd, min_score = 0.9)  # match on LEI loanbook <- tibble(   sector_classification_system = \"NACE\",   sector_classification_direct_loantaker = \"D35.11\",   id_ultimate_parent = \"UP15\",   name_ultimate_parent = \"Won't fuzzy match\",   id_direct_loantaker = \"C294\",   name_direct_loantaker = \"Won't fuzzy match\",   lei_direct_loantaker = \"LEI123\" )  abcd <- tibble(   name_company = \"alpine knits india pvt. limited\",   sector = \"power\",   lei = \"LEI123\" )  match_name(loanbook, abcd, join_id = c(lei_direct_loantaker = \"lei\"))  # Use your own `sector_classifications` your_classifications <- tibble(   sector = \"power\",   borderline = FALSE,   code = \"D35.11\",   code_system = \"XYZ\" )  loanbook <- tibble(   sector_classification_system = \"XYZ\",   sector_classification_direct_loantaker = \"D35.11\",   id_ultimate_parent = \"UP15\",   name_ultimate_parent = \"Alpine Knits India Pvt. Limited\",   id_direct_loantaker = \"C294\",   name_direct_loantaker = \"Yuamen Xinneng Thermal Power Co Ltd\" )  abcd <- tibble(   name_company = \"alpine knits india pvt. limited\",   sector = \"power\" )  match_name(loanbook, abcd, sector_classification = your_classifications)  # Cleanup options(restore) } # }"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/nace_classification.html","id":null,"dir":"Reference","previous_headings":"","what":"Dataset to bridge (translate) common sector-classification codes — nace_classification","title":"Dataset to bridge (translate) common sector-classification codes — nace_classification","text":"dataset serves translation key common sector-classification systems sectors relevant 'PACTA' tool (https://www.transitionmonitor.com/).","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/nace_classification.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Dataset to bridge (translate) common sector-classification codes — nace_classification","text":"","code":"nace_classification"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/nace_classification.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Dataset to bridge (translate) common sector-classification codes — nace_classification","text":"object class tbl_df (inherits tbl, data.frame) 1047 rows 6 columns.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/nace_classification.html","id":"definitions","dir":"Reference","previous_headings":"","what":"Definitions","title":"Dataset to bridge (translate) common sector-classification codes — nace_classification","text":"borderline (logical): Flag indicating PACTA sector classification code borderline match. value TRUE indicates match uncertain PACTA sector classification. value FALSE indicates match certainly perfect classification certainly PACTA's scope., * code (character): NACE version 2.1 code top-level letter prepended., * description (character): Original NACE version 2.1 description., * original_code (character): Original NACE version 2.1 code., * sector (character): Associated PACTA sector., * version (character): Column identifying NACE version code belongs.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/nace_classification.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Dataset to bridge (translate) common sector-classification codes — nace_classification","text":"Classification datasets help standardize sector classification codes wild relevant subset including 'power', 'oil gas', 'coal', 'automotive', 'aviation', 'concrete', 'steel', 'shipping'.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/nace_classification.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Dataset to bridge (translate) common sector-classification codes — nace_classification","text":"","code":"head(nace_classification) #> # A tibble: 6 × 6 #>   original_code description                      code  sector borderline version #>   <chr>         <chr>                            <chr> <chr>  <lgl>      <chr>   #> 1 01            01 Crop and animal production, … A01   not i… FALSE      2.1     #> 2 01.1          01.1 Growing of non-perennial c… A01.1 not i… FALSE      2.1     #> 3 01.11         01.11 Growing of cereals, other… A01.… not i… FALSE      2.1     #> 4 01.12         01.12 Growing of rice            A01.… not i… FALSE      2.1     #> 5 01.13         01.13 Growing of vegetables and… A01.… not i… FALSE      2.1     #> 6 01.14         01.14 Growing of sugar cane      A01.… not i… FALSE      2.1"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/naics_classification.html","id":null,"dir":"Reference","previous_headings":"","what":"Dataset to bridge (translate) common sector-classification codes — naics_classification","title":"Dataset to bridge (translate) common sector-classification codes — naics_classification","text":"dataset serves translation key common sector-classification systems sectors relevant 'PACTA' tool (https://www.transitionmonitor.com/).","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/naics_classification.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Dataset to bridge (translate) common sector-classification codes — naics_classification","text":"","code":"naics_classification"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/naics_classification.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Dataset to bridge (translate) common sector-classification codes — naics_classification","text":"object class tbl_df (inherits tbl, data.frame) 2125 rows 5 columns.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/naics_classification.html","id":"definitions","dir":"Reference","previous_headings":"","what":"Definitions","title":"Dataset to bridge (translate) common sector-classification codes — naics_classification","text":"borderline (logical): Flag indicating PACTA sector classification code borderline match. value TRUE indicates match uncertain PACTA sector classification. value FALSE indicates match certainly perfect classification certainly PACTA's scope.., * code (character): Six-digit NAICS code., * description (character): Original NAICS sector title., * sector (character): Associated PACTA sector., * version (character): Column identifying year classification published ..","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/naics_classification.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Dataset to bridge (translate) common sector-classification codes — naics_classification","text":"Classification datasets help standardize sector classification codes wild relevant subset including 'power', 'oil gas', 'coal', 'automotive', 'aviation', 'concrete', 'steel', 'shipping'.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/naics_classification.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Dataset to bridge (translate) common sector-classification codes — naics_classification","text":"","code":"head(naics_classification) #> # A tibble: 6 × 5 #>   description                                code   sector    borderline version #>   <chr>                                      <chr>  <chr>     <lgl>      <chr>   #> 1 Agriculture, Forestry, Fishing and Hunting 11     not in s… FALSE      2022    #> 2 Crop Production                            111    not in s… FALSE      2022    #> 3 Oilseed and Grain Farming                  1111   not in s… FALSE      2022    #> 4 Soybean Farming                            11111  not in s… FALSE      2022    #> 5 Soybean Farming                            111110 not in s… FALSE      2022    #> 6 Oilseed (except Soybean) Farming           11112  not in s… FALSE      2022"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/overwrite_demo.html","id":null,"dir":"Reference","previous_headings":"","what":"A demonstration dataset used to overwrite specific entity names or sectors — overwrite_demo","title":"A demonstration dataset used to overwrite specific entity names or sectors — overwrite_demo","text":"Fake dataset used manually link loanbook entities mismatched asset level entities. Demo datasets synthetic financial data strictly private; help demonstrate test implementation R 'PACTA' (https://www.transitionmonitor.com/).","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/overwrite_demo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"A demonstration dataset used to overwrite specific entity names or sectors — overwrite_demo","text":"","code":"overwrite_demo"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/overwrite_demo.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"A demonstration dataset used to overwrite specific entity names or sectors — overwrite_demo","text":"object class tbl_df (inherits tbl, data.frame) 2 rows 5 columns.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/overwrite_demo.html","id":"definitions","dir":"Reference","previous_headings":"","what":"Definitions","title":"A demonstration dataset used to overwrite specific entity names or sectors — overwrite_demo","text":"id_2dii (character): IDs entities overwrite., * level (character): level overwritten (e.g. direct_loantaker ultimate_parent)., * name (character): Overwrite name (overwriting sector, type NA)., * sector (character): Overwrite sector (overwriting name, type NA)., * source (character): source information (leave \"manual\" now, may remove flag later).","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/overwrite_demo.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"A demonstration dataset used to overwrite specific entity names or sectors — overwrite_demo","text":"","code":"head(overwrite_demo) #> # A tibble: 2 × 5 #>   level            id_2dii name         sector source #>   <chr>            <chr>   <chr>        <chr>  <chr>  #> 1 direct_loantaker DL294   bee handshoe coal   manual #> 2 ultimate_parent  UP15    alpine india power  manual"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta.loanbook-package.html","id":null,"dir":"Reference","previous_headings":"","what":"pacta.loanbook: Easily Install and Load PACTA for Banks Packages — pacta.loanbook-package","title":"pacta.loanbook: Easily Install and Load PACTA for Banks Packages — pacta.loanbook-package","text":"PACTA Banks tool allows banks calculate climate alignment corporate lending portfolios. package designed make easy install load multiple PACTA Banks packages single step. also provides thorough documentation - PACTA Banks cookbook - run PACTA Banks analysis. covers prerequisites analysis, separate steps running analysis, interpretation PACTA Banks results, advanced use cases.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta.loanbook-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"pacta.loanbook: Easily Install and Load PACTA for Banks Packages — pacta.loanbook-package","text":"Maintainer: Jacob Kastl jacob.kastl@gmail.com (ORCID) [contractor] Authors: Jackson Hoffart jackson.hoffart@gmail.com (ORCID) [contractor] CJ Yetman cj@cjyetman.com (ORCID) [contractor] contributors: RMI PACTA4banks@rmi.org [copyright holder, funder]","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_conflicts.html","id":null,"dir":"Reference","previous_headings":"","what":"Conflicts between the {pacta.loanbook} and other packages — pacta_loanbook_conflicts","title":"Conflicts between the {pacta.loanbook} and other packages — pacta_loanbook_conflicts","text":"function lists conflicts packages {pacta.loanbook} packages loaded.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_conflicts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Conflicts between the {pacta.loanbook} and other packages — pacta_loanbook_conflicts","text":"","code":"pacta_loanbook_conflicts(only = NULL)"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_conflicts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Conflicts between the {pacta.loanbook} and other packages — pacta_loanbook_conflicts","text":"Set character vector restrict conflicts packages.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_conflicts.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Conflicts between the {pacta.loanbook} and other packages — pacta_loanbook_conflicts","text":"four conflicts deliberately ignored: intersect, union, setequal, setdiff dplyr. functions make base equivalents generic, negatively affect existing code.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_conflicts.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Conflicts between the {pacta.loanbook} and other packages — pacta_loanbook_conflicts","text":"","code":"pacta_loanbook_conflicts()"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_deps.html","id":null,"dir":"Reference","previous_headings":"","what":"List all {pacta.loanbook} dependencies — pacta_loanbook_deps","title":"List all {pacta.loanbook} dependencies — pacta_loanbook_deps","text":"List {pacta.loanbook} dependencies","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_deps.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List all {pacta.loanbook} dependencies — pacta_loanbook_deps","text":"","code":"pacta_loanbook_deps(recursive = FALSE, repos = getOption(\"repos\"))"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_deps.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List all {pacta.loanbook} dependencies — pacta_loanbook_deps","text":"recursive TRUE, also list dependencies {pacta.loanbook} packages. repos repositories use check updates. Defaults getOption(\"repos\").","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_logo.html","id":null,"dir":"Reference","previous_headings":"","what":"The {pacta.loanbook} logo, using ASCII or Unicode characters — pacta_loanbook_logo","title":"The {pacta.loanbook} logo, using ASCII or Unicode characters — pacta_loanbook_logo","text":"Use cli::ansi_strip() get rid colors.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_logo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"The {pacta.loanbook} logo, using ASCII or Unicode characters — pacta_loanbook_logo","text":"","code":"pacta_loanbook_logo(unicode = cli::is_utf8_output())"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_logo.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"The {pacta.loanbook} logo, using ASCII or Unicode characters — pacta_loanbook_logo","text":"unicode Whether use Unicode symbols. Default TRUE UTF-8 platforms.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_logo.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"The {pacta.loanbook} logo, using ASCII or Unicode characters — pacta_loanbook_logo","text":"","code":"pacta_loanbook_logo() #>  ____    ______  ____    ______  ______      #> /\\  _`\\ /\\  _  \\/\\  _`\\ /\\__  _\\/\\  _  \\     #> \\ \\ \\L\\ \\ \\ \\L\\ \\ \\ \\/\\_\\/_/\\ \\/\\ \\ \\L\\ \\    #>  \\ \\ ,__/\\ \\  __ \\ \\ \\/_/_ \\ \\ \\ \\ \\  __ \\   #>   \\ \\ \\/  \\ \\ \\/\\ \\ \\ \\L\\ \\ \\ \\ \\ \\ \\ \\/\\ \\  #>    \\ \\_\\   \\ \\_\\ \\_\\ \\____/  \\ \\_\\ \\ \\_\\ \\_\\ #>     \\/_/    \\/_/\\/_/\\/___/    \\/_/  \\/_/\\/_/ #>"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_packages.html","id":null,"dir":"Reference","previous_headings":"","what":"List all packages in {pacta.loanbook} — pacta_loanbook_packages","title":"List all packages in {pacta.loanbook} — pacta_loanbook_packages","text":"List packages {pacta.loanbook}","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_packages.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List all packages in {pacta.loanbook} — pacta_loanbook_packages","text":"","code":"pacta_loanbook_packages(include_self = TRUE)"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_packages.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List all packages in {pacta.loanbook} — pacta_loanbook_packages","text":"include_self Include {pacta.loanbook} list?","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_packages.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List all packages in {pacta.loanbook} — pacta_loanbook_packages","text":"","code":"pacta_loanbook_packages() #>  [1] \"cli\"            \"dplyr\"          \"ggrepel\"        \"magrittr\"       #>  [5] \"purrr\"          \"r2dii.analysis\" \"r2dii.data\"     \"r2dii.match\"    #>  [9] \"r2dii.plot\"     \"rlang\"          \"rstudioapi\"     \"scales\"         #> [13] \"tibble\"         \"tidyselect\"     \"pacta.loanbook\""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_sitrep.html","id":null,"dir":"Reference","previous_headings":"","what":"Get a situation report on {pacta.loanbook} — pacta_loanbook_sitrep","title":"Get a situation report on {pacta.loanbook} — pacta_loanbook_sitrep","text":"function gives quick overview versions R RStudio well {pacta.loanbook} package. primarily designed help get quick idea going helping someone else debug problem.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_sitrep.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get a situation report on {pacta.loanbook} — pacta_loanbook_sitrep","text":"","code":"pacta_loanbook_sitrep()"},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_update.html","id":null,"dir":"Reference","previous_headings":"","what":"Update {pacta.loanbook} packages — pacta_loanbook_update","title":"Update {pacta.loanbook} packages — pacta_loanbook_update","text":"check see {pacta.loanbook} packages (optionally, dependencies) --date, install interactive confirmation.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_update.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update {pacta.loanbook} packages — pacta_loanbook_update","text":"","code":"pacta_loanbook_update(recursive = FALSE, repos = getOption(\"repos\"))"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_update.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update {pacta.loanbook} packages — pacta_loanbook_update","text":"recursive TRUE, also list dependencies {pacta.loanbook} packages. repos repositories use check updates. Defaults getOption(\"repos\").","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_update.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Update {pacta.loanbook} packages — pacta_loanbook_update","text":"","code":"if (FALSE) { # \\dontrun{ pacta_loanbook_update() } # }"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/palette_colours.html","id":null,"dir":"Reference","previous_headings":"","what":"Colour datasets — palette_colours","title":"Colour datasets — palette_colours","text":"datasets least two columns: label: Text label colour. hex: Hex code colour.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/palette_colours.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Colour datasets — palette_colours","text":"","code":"palette_colours"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/palette_colours.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Colour datasets — palette_colours","text":"object class tbl_df (inherits tbl, data.frame) 9 rows 2 columns.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/palette_colours.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Colour datasets — palette_colours","text":"scenario_colours, colours ordered red green used trajectory charts.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/palette_colours.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Colour datasets — palette_colours","text":"","code":"palette_colours #> # A tibble: 9 × 2 #>   label       hex     #>   <chr>       <chr>   #> 1 dark_blue   #1b324f #> 2 green       #00c082 #> 3 orange      #ff9623 #> 4 grey        #d0d7e1 #> 5 dark_purple #574099 #> 6 yellow      #f2e06e #> 7 soft_blue   #78c4d6 #> 8 ruby_red    #a63d57 #> 9 moss_green  #4a5e54  scenario_colours #> # A tibble: 5 × 2 #>   label        hex     #>   <chr>        <chr>   #> 1 dark_green   #768555 #> 2 light_green  #9CAB7C #> 3 dark_yellow  #FFFFCC #> 4 light_yellow #FDE291 #> 5 red          #E07B73  sector_colours #> # A tibble: 8 × 2 #>   label      hex     #>   <chr>      <chr>   #> 1 automotive #78C4D6 #> 2 aviation   #00c082 #> 3 cement     #c1b358 #> 4 coal       #4e3b37 #> 5 oil&gas    #181716 #> 6 power      #a63603 #> 7 shipping   #574099 #> 8 steel      #a63d57  technology_colours #> # A tibble: 18 × 3 #>    sector       technology    hex     #>    <chr>        <chr>         <chr>   #>  1 power        coalcap       #7A2701 #>  2 power        oilcap        #a63603 #>  3 power        gascap        #e6550d #>  4 power        nuclearcap    #fd8d3c #>  5 power        hydrocap      #fdbe85 #>  6 power        renewablescap #ffd4ad #>  7 automotive   ice_hdv       #548995 #>  8 automotive   ice           #609cab #>  9 automotive   hybrid_hdv    #6cb0c0 #> 10 automotive   hybrid        #78c4d6 #> 11 automotive   fuelcell      #93cfde #> 12 automotive   electric_hdv  #aedbe6 #> 13 automotive   electric      #c9e7ee #> 14 oil&gas      gas           #b9b5b0 #> 15 oil&gas      oil           #181716 #> 16 fossil fuels gas           #b9b5b0 #> 17 fossil fuels oil           #181716 #> 18 fossil fuels coal          #4e3b37"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/plot_emission_intensity.html","id":null,"dir":"Reference","previous_headings":"","what":"Create an emission intensity plot — plot_emission_intensity","title":"Create an emission intensity plot — plot_emission_intensity","text":"Create emission intensity plot","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/plot_emission_intensity.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create an emission intensity plot — plot_emission_intensity","text":"","code":"plot_emission_intensity(data)"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/plot_emission_intensity.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create an emission intensity plot — plot_emission_intensity","text":"data data frame like output prep_emission_intensity().","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/plot_emission_intensity.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create an emission intensity plot — plot_emission_intensity","text":"object class \"ggplot\".","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/plot_emission_intensity.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create an emission intensity plot — plot_emission_intensity","text":"","code":"# plot with `qplot_emission_intensity()` parameters data <- subset(sda, sector == \"cement\" & region == \"global\") %>%   prep_emission_intensity(span_5yr = TRUE, convert_label = to_title)  plot_emission_intensity(data)"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/plot_techmix.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a techmix plot — plot_techmix","title":"Create a techmix plot — plot_techmix","text":"Create techmix plot","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/plot_techmix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a techmix plot — plot_techmix","text":"","code":"plot_techmix(data)"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/plot_techmix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a techmix plot — plot_techmix","text":"data data frame like output prep_techmix().","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/plot_techmix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a techmix plot — plot_techmix","text":"object class \"ggplot\".","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/plot_techmix.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a techmix plot — plot_techmix","text":"","code":"# plot with `qplot_techmix()` parameters data <- subset(   market_share,   scenario_source == \"demo_2020\" &     sector == \"power\" &     region == \"global\" &     metric %in% c(\"projected\", \"corporate_economy\", \"target_sds\") ) %>%   prep_techmix(     span_5yr = TRUE,     convert_label = recode_metric_techmix,     convert_tech_label = spell_out_technology   ) #> The `technology_share` values are plotted for extreme years. #> Do you want to plot different years? E.g. filter . with:`subset(., year %in% c(2020, 2030))`.  plot_techmix(data)"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/plot_trajectory.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a trajectory plot — plot_trajectory","title":"Create a trajectory plot — plot_trajectory","text":"Create trajectory plot","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/plot_trajectory.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a trajectory plot — plot_trajectory","text":"","code":"plot_trajectory(data, center_y = FALSE, perc_y_scale = FALSE)"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/plot_trajectory.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a trajectory plot — plot_trajectory","text":"data data frame like outputs prep_trajectory(). (Optional) present, column label used data labels. center_y Logical. Use TRUE center y-axis around start value (default behavior qplot_trajectory()), use FALSE center. perc_y_scale Logical. FALSE defaults using label conversion. Use TRUE convert labels y-axis percentage using scales::percent (default behavior qplot_trajectory()).","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/plot_trajectory.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a trajectory plot — plot_trajectory","text":"object class \"ggplot\".","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/plot_trajectory.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a trajectory plot — plot_trajectory","text":"","code":"# plot with `qplot_trajectory()` parameters data <- subset(   market_share,   sector == \"power\" &     technology == \"renewablescap\" &     region == \"global\" &     scenario_source == \"demo_2020\" ) %>%   prep_trajectory()  plot_trajectory(   data,   center_y = TRUE,   perc_y_scale = TRUE )"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/prep_emission_intensity.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare data for a emission intensity plot — prep_emission_intensity","title":"Prepare data for a emission intensity plot — prep_emission_intensity","text":"Prepare data emission intensity plot","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/prep_emission_intensity.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare data for a emission intensity plot — prep_emission_intensity","text":"","code":"prep_emission_intensity(data, convert_label = identity, span_5yr = FALSE)"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/prep_emission_intensity.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare data for a emission intensity plot — prep_emission_intensity","text":"data data frame. Requirements: structure must like sda. column sector must single value (e.g. \"cement\"). (Optional) present, column label used data labels. convert_label symbol. unquoted name function apply y-axis labels. example: convert labels uppercase use convert_label = toupper. get default behavior qplot_emission_intensity() use convert_label = to_title. span_5yr Logical. Use TRUE restrict time span 5 years start year (default behavior qplot_emission_intensity()), use FALSE impose restriction.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/prep_emission_intensity.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare data for a emission intensity plot — prep_emission_intensity","text":"data-frame ready plotted using plot_emission_intensity().","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/prep_emission_intensity.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Prepare data for a emission intensity plot — prep_emission_intensity","text":"","code":"# `data` must meet documented \"Requirements\" data <- subset(sda, sector == \"cement\" & region == \"global\") prep_emission_intensity(data) #> # A tibble: 74 × 7 #>    sector year       region scenario_source emission_factor_metric #>    <chr>  <date>     <chr>  <chr>           <chr>                  #>  1 cement 2020-01-01 global demo_2020       projected              #>  2 cement 2021-01-01 global demo_2020       projected              #>  3 cement 2022-01-01 global demo_2020       projected              #>  4 cement 2023-01-01 global demo_2020       projected              #>  5 cement 2024-01-01 global demo_2020       projected              #>  6 cement 2025-01-01 global demo_2020       projected              #>  7 cement 2020-01-01 global demo_2020       corporate_economy      #>  8 cement 2021-01-01 global demo_2020       corporate_economy      #>  9 cement 2022-01-01 global demo_2020       corporate_economy      #> 10 cement 2023-01-01 global demo_2020       corporate_economy      #> # ℹ 64 more rows #> # ℹ 2 more variables: emission_factor_value <dbl>, label <chr>"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/prep_techmix.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare data for plotting technology mix — prep_techmix","title":"Prepare data for plotting technology mix — prep_techmix","text":"Prepare data plotting technology mix","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/prep_techmix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare data for plotting technology mix — prep_techmix","text":"","code":"prep_techmix(   data,   convert_label = identity,   span_5yr = FALSE,   convert_tech_label = identity )"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/prep_techmix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare data for plotting technology mix — prep_techmix","text":"data data frame. Requirements: structure must like market_share. following columns must single value: sector, region, scenario_source. column metric must portfolio (e.g. \"projected\"), benchmark (e.g. \"corporate_economy\"), single scenario (e.g. \"target_sds\"). (Optional) present, column label used data labels. (Optional) present, column label_tech used technology labels. convert_label symbol. unquoted name function apply y-axis labels. example: convert labels uppercase use convert_label = toupper. get default behavior qplot_techmix() use convert_label = recode_metric_techmix. span_5yr Logical. Use TRUE restrict time span 5 years start year (default behavior qplot_techmix()), use FALSE impose restriction. convert_tech_label symbol. unquoted name function apply technology legend labels. example, convert labels uppercase use convert_tech_label = toupper. get default behavior qplot_techmix() use convert_tech_label = spell_out_technology.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/prep_techmix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare data for plotting technology mix — prep_techmix","text":"data-frame ready plotted using plot_techmix().","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/prep_techmix.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Prepare data for plotting technology mix — prep_techmix","text":"","code":"# `data` must meet documented \"Requirements\" data <- subset(   market_share,   scenario_source == \"demo_2020\" &     sector == \"power\" &     region == \"global\" &     metric %in% c(\"projected\", \"corporate_economy\", \"target_sds\") )  prep_techmix(data) #> The `technology_share` values are plotted for extreme years. #> Do you want to plot different years? E.g. filter data with:`subset(data, year %in% c(2020, 2030))`. #> # A tibble: 30 × 13 #>    sector technology  year region scenario_source metric     production #>    <chr>  <chr>      <int> <chr>  <chr>           <chr>           <dbl> #>  1 power  coalcap     2020 global demo_2020       projected      21766. #>  2 power  coalcap     2040 global demo_2020       projected      22531. #>  3 power  coalcap     2040 global demo_2020       target_sds      5027. #>  4 power  gascap      2020 global demo_2020       projected       4602. #>  5 power  gascap      2040 global demo_2020       projected       2808. #>  6 power  gascap      2040 global demo_2020       target_sds      3289. #>  7 power  hydrocap    2020 global demo_2020       projected      23261. #>  8 power  hydrocap    2040 global demo_2020       projected      24599. #>  9 power  hydrocap    2040 global demo_2020       target_sds     24920. #> 10 power  nuclearcap  2020 global demo_2020       projected          0  #> # ℹ 20 more rows #> # ℹ 6 more variables: technology_share <dbl>, scope <chr>, #> #   percentage_of_initial_production_by_scope <dbl>, label <chr>, #> #   label_tech <chr>, value <dbl>"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/prep_trajectory.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare data for a trajectory plot — prep_trajectory","title":"Prepare data for a trajectory plot — prep_trajectory","text":"Prepare data trajectory plot","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/prep_trajectory.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare data for a trajectory plot — prep_trajectory","text":"","code":"prep_trajectory(   data,   convert_label = identity,   span_5yr = FALSE,   value_col = \"percentage_of_initial_production_by_scope\" )"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/prep_trajectory.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare data for a trajectory plot — prep_trajectory","text":"data data frame. Requirements: structure must like market_share. following columns must single value: sector, technology, region, scenario_source. (Optional) present, column label used data labels. convert_label symbol. unquoted name function apply y-axis labels. example: convert labels uppercase use convert_label = toupper. get default behavior qplot_trajectory() use convert_label = recode_metric_trajectory. span_5yr Logical. Use TRUE restrict time span 5 years start year (default behavior qplot_trajectory()), use FALSE impose restriction. value_col Character. Name column used value plotted.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/prep_trajectory.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare data for a trajectory plot — prep_trajectory","text":"data-frame ready plotted using plot_trajectory().","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/prep_trajectory.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Prepare data for a trajectory plot — prep_trajectory","text":"","code":"# `data` must meet documented \"Requirements\" data <- subset(   market_share,   sector == \"power\" &     technology == \"renewablescap\" &     region == \"global\" &     scenario_source == \"demo_2020\" )  prep_trajectory(data) #> # A tibble: 105 × 12 #>    sector technology     year region scenario_source metric     production #>    <chr>  <chr>         <int> <chr>  <chr>           <chr>           <dbl> #>  1 power  renewablescap  2020 global demo_2020       projected       7380. #>  2 power  renewablescap  2020 global demo_2020       target_cps      7380. #>  3 power  renewablescap  2020 global demo_2020       target_sds      7380. #>  4 power  renewablescap  2020 global demo_2020       target_sps      7380. #>  5 power  renewablescap  2021 global demo_2020       projected       7361. #>  6 power  renewablescap  2021 global demo_2020       target_cps      8077. #>  7 power  renewablescap  2021 global demo_2020       target_sds      8539. #>  8 power  renewablescap  2021 global demo_2020       target_sps      8221. #>  9 power  renewablescap  2022 global demo_2020       projected       7342. #> 10 power  renewablescap  2022 global demo_2020       target_cps      8774. #> # ℹ 95 more rows #> # ℹ 5 more variables: technology_share <dbl>, scope <chr>, #> #   percentage_of_initial_production_by_scope <dbl>, label <chr>, value <dbl>"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/prioritize.html","id":null,"dir":"Reference","previous_headings":"","what":"Pick rows where score is 1 and level per loan is of highest priority — prioritize","title":"Pick rows where score is 1 and level per loan is of highest priority — prioritize","text":"multiple perfect matches found per loan (e.g. match direct_loantaker level ultimate_parent level), must prioritize desired match. default, highest priority granular match (.e. direct_loantaker).","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/prioritize.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pick rows where score is 1 and level per loan is of highest priority — prioritize","text":"","code":"prioritize(data, priority = NULL)"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/prioritize.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pick rows where score is 1 and level per loan is of highest priority — prioritize","text":"data data frame like validated output match_name(). See Details validate data. priority One : NULL: defaults default level priority returned prioritize_level(). character vector giving custom priority. function apply output prioritize_level(), e.g. rev. quosure-style lambda function, e.g. ~ rev(.x).","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/prioritize.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pick rows where score is 1 and level per loan is of highest priority — prioritize","text":"data frame single row per loan, score 1 priority level highest.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/prioritize.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Pick rows where score is 1 and level per loan is of highest priority — prioritize","text":"validate data Write output match_name() .csv file :   Compare, edit, save data manually: Open matched.csv spreadsheet editor (Excel, Google Sheets, etc.). Compare columns name name_abcd manually determine match valid. information can used conjunction just names ensure two entities match (sector, internal information company structure, etc.) Edit data: happy match, set score value 1. Otherwise set leave score value anything 1. Save edited file , say, valid_matches.csv. Re-read edited file (validated) :","code":"# Writting to current working directory matched %>%   readr::write_csv(\"matched.csv\") # Reading from current working directory valid_matches <- readr::read_csv(\"valid_matches.csv\")"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/prioritize.html","id":"handling-grouped-data","dir":"Reference","previous_headings":"","what":"Handling grouped data","title":"Pick rows where score is 1 and level per loan is of highest priority — prioritize","text":"function ignores preserves existing groups.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/prioritize.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Pick rows where score is 1 and level per loan is of highest priority — prioritize","text":"","code":"library(dplyr) #>  #> Attaching package: ‘dplyr’ #> The following objects are masked from ‘package:stats’: #>  #>     filter, lag #> The following objects are masked from ‘package:base’: #>  #>     intersect, setdiff, setequal, union  # styler: off matched <- tribble(   ~sector, ~sector_abcd,  ~score, ~id_loan,                ~level,    \"coal\",      \"coal\",       1,     \"aa\",     \"ultimate_parent\",    \"coal\",      \"coal\",       1,     \"aa\",    \"direct_loantaker\",    \"coal\",      \"coal\",       1,     \"bb\", \"intermediate_parent\",    \"coal\",      \"coal\",       1,     \"bb\",     \"ultimate_parent\", ) # styler: on  prioritize_level(matched) #> [1] \"direct_loantaker\"    \"intermediate_parent\" \"ultimate_parent\"      # Using default priority prioritize(matched) #> # A tibble: 2 × 5 #>   sector sector_abcd score id_loan level               #>   <chr>  <chr>       <dbl> <chr>   <chr>               #> 1 coal   coal            1 aa      direct_loantaker    #> 2 coal   coal            1 bb      intermediate_parent  # Using the reverse of the default priority prioritize(matched, priority = rev) #> # A tibble: 2 × 5 #>   sector sector_abcd score id_loan level           #>   <chr>  <chr>       <dbl> <chr>   <chr>           #> 1 coal   coal            1 aa      ultimate_parent #> 2 coal   coal            1 bb      ultimate_parent  # Same prioritize(matched, priority = ~ rev(.x)) #> # A tibble: 2 × 5 #>   sector sector_abcd score id_loan level           #>   <chr>  <chr>       <dbl> <chr>   <chr>           #> 1 coal   coal            1 aa      ultimate_parent #> 2 coal   coal            1 bb      ultimate_parent  # Using a custom priority bad_idea <- c(\"intermediate_parent\", \"ultimate_parent\", \"direct_loantaker\")  prioritize(matched, priority = bad_idea) #> # A tibble: 2 × 5 #>   sector sector_abcd score id_loan level               #>   <chr>  <chr>       <dbl> <chr>   <chr>               #> 1 coal   coal            1 bb      intermediate_parent #> 2 coal   coal            1 aa      ultimate_parent"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/prioritize_level.html","id":null,"dir":"Reference","previous_headings":"","what":"Arrange unique level values in default order of priority — prioritize_level","title":"Arrange unique level values in default order of priority — prioritize_level","text":"Arrange unique level values default order priority","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/prioritize_level.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Arrange unique level values in default order of priority — prioritize_level","text":"","code":"prioritize_level(data)"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/prioritize_level.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Arrange unique level values in default order of priority — prioritize_level","text":"data data frame, commonly output match_name().","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/prioritize_level.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Arrange unique level values in default order of priority — prioritize_level","text":"character vector default level priority per loan.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/prioritize_level.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Arrange unique level values in default order of priority — prioritize_level","text":"","code":"matched <- tibble::tibble(   level = c(     \"intermediate_parent_1\",     \"direct_loantaker\",     \"direct_loantaker\",     \"direct_loantaker\",     \"ultimate_parent\",     \"intermediate_parent_2\"   ) ) prioritize_level(matched) #> [1] \"direct_loantaker\"      \"intermediate_parent_1\" \"intermediate_parent_2\" #> [4] \"ultimate_parent\""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/psic_classification.html","id":null,"dir":"Reference","previous_headings":"","what":"Dataset to bridge (translate) common sector-classification codes — psic_classification","title":"Dataset to bridge (translate) common sector-classification codes — psic_classification","text":"dataset serves translation key common sector-classification systems sectors relevant 'PACTA' tool (https://www.transitionmonitor.com/).","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/psic_classification.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Dataset to bridge (translate) common sector-classification codes — psic_classification","text":"","code":"psic_classification"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/psic_classification.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Dataset to bridge (translate) common sector-classification codes — psic_classification","text":"object class tbl_df (inherits tbl, data.frame) 1271 rows 5 columns.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/psic_classification.html","id":"definitions","dir":"Reference","previous_headings":"","what":"Definitions","title":"Dataset to bridge (translate) common sector-classification codes — psic_classification","text":"borderline (logical): Flag indicating PACTA sector classification code borderline match. value TRUE indicates match uncertain PACTA sector classification. value FALSE indicates match certainly perfect classification certainly PACTA's scope.., * code (character): Formatted PSIC classification code., * description (character): Original PSIC classification sector name., * sector (character): Associated PACTA sector., * version (character): Column identifying year classification published ..","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/psic_classification.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Dataset to bridge (translate) common sector-classification codes — psic_classification","text":"Classification datasets help standardize sector classification codes wild relevant subset including 'power', 'oil gas', 'coal', 'automotive', 'aviation', 'concrete', 'steel', 'shipping'.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/psic_classification.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Dataset to bridge (translate) common sector-classification codes — psic_classification","text":"","code":"head(psic_classification) #> # A tibble: 6 × 5 #>   description                                    code  sector borderline version #>   <chr>                                          <chr> <chr>  <lgl>      <chr>   #> 1 Growing of leguminous crops such as: mongo, s… 1111  not i… FALSE      2019    #> 2 Growing of ground nuts                         1112  not i… FALSE      2019    #> 3 Growing of oil seeds (except ground nuts) suc… 1113  not i… FALSE      2019    #> 4 Growing of  sorghum, wheat                     1114  not i… FALSE      2019    #> 5 Growing of other cereals (except rice and cor… 1119  not i… FALSE      2019    #> 6 Growing of paddy rice, lowland, irrigated      1121  not i… FALSE      2019"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/qplot_emission_intensity.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a quick emission intensity plot — qplot_emission_intensity","title":"Create a quick emission intensity plot — qplot_emission_intensity","text":"Compared plot_emission_intensity() function: restricted plotting future 5 years start year, outputs formatted labels, based emission metric column, outputs title, outputs formatted axis labels.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/qplot_emission_intensity.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a quick emission intensity plot — qplot_emission_intensity","text":"","code":"qplot_emission_intensity(data)"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/qplot_emission_intensity.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a quick emission intensity plot — qplot_emission_intensity","text":"data data frame like output prep_emission_intensity().","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/qplot_emission_intensity.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a quick emission intensity plot — qplot_emission_intensity","text":"object class \"ggplot\".","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/qplot_emission_intensity.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a quick emission intensity plot — qplot_emission_intensity","text":"","code":"# `data` must meet documented \"Requirements\" data <- subset(sda, sector == \"cement\" & region == \"global\")  qplot_emission_intensity(data)"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/qplot_techmix.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a quick techmix plot — qplot_techmix","title":"Create a quick techmix plot — qplot_techmix","text":"Compared plot_techmix() function: restricted plotting future 5 years start year, outputs pretty bar labels, based metric column, outputs pretty legend labels, based technology column, outputs title.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/qplot_techmix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a quick techmix plot — qplot_techmix","text":"","code":"qplot_techmix(data)"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/qplot_techmix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a quick techmix plot — qplot_techmix","text":"data data frame like output prep_techmix().","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/qplot_techmix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a quick techmix plot — qplot_techmix","text":"object class \"ggplot\".","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/qplot_techmix.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a quick techmix plot — qplot_techmix","text":"","code":"# `data` must meet documented \"Requirements\" data <- subset(   market_share,   sector == \"power\" &     region == \"global\" &     scenario_source == \"demo_2020\" &     metric %in% c(\"projected\", \"corporate_economy\", \"target_sds\") )  qplot_techmix(data) #> The `technology_share` values are plotted for extreme years. #> Do you want to plot different years? E.g. filter . with:`subset(., year %in% c(2020, 2030))`."},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/qplot_trajectory.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a quick trajectory plot — qplot_trajectory","title":"Create a quick trajectory plot — qplot_trajectory","text":"Compared plot_trajectory() function: restricted plotting 5 years start year, outputs pretty legend labels, based column holding metrics, outputs title, outputs subtitle, outputs informative axis labels sentence case.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/qplot_trajectory.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a quick trajectory plot — qplot_trajectory","text":"","code":"qplot_trajectory(data)"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/qplot_trajectory.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a quick trajectory plot — qplot_trajectory","text":"data data frame like outputs prep_trajectory(). (Optional) present, column label used data labels.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/qplot_trajectory.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a quick trajectory plot — qplot_trajectory","text":"object class \"ggplot\".","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/qplot_trajectory.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a quick trajectory plot — qplot_trajectory","text":"","code":"# `data` must meet documented \"Requirements\" data <- subset(   market_share,   sector == \"power\" &     technology == \"renewablescap\" &     region == \"global\" &     scenario_source == \"demo_2020\" )  qplot_trajectory(data)"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/recode_metric_techmix.html","id":null,"dir":"Reference","previous_headings":"","what":"Replicate labels produced with qplot_*() functions — recode_metric_techmix","title":"Replicate labels produced with qplot_*() functions — recode_metric_techmix","text":"to_title() converts labels like qplot_emission_intensity(). recode_metric_trajectory() converts labels like qplot_trajectory(). recode_metric_techmix() converts labels like qplot_techmix(). spell_out_technology() converts technology labels like qplot_techmix().","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/recode_metric_techmix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Replicate labels produced with qplot_*() functions — recode_metric_techmix","text":"","code":"recode_metric_techmix(x)"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/recode_metric_techmix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Replicate labels produced with qplot_*() functions — recode_metric_techmix","text":"x character vector.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/recode_metric_techmix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Replicate labels produced with qplot_*() functions — recode_metric_techmix","text":"character vector.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/recode_metric_techmix.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Replicate labels produced with qplot_*() functions — recode_metric_techmix","text":"","code":"to_title(c(\"a.string\", \"another_STRING\")) #> [1] \"A String\"       \"Another STRING\"  metric <- c(\"projected\", \"corporate_economy\", \"target_xyz\", \"else\") recode_metric_trajectory(metric) #> [1] \"Portfolio\"         \"Corporate Economy\" \"XYZ\"               #> [4] \"Else\"               recode_metric_techmix(metric) #> [1] \"Portfolio\"    \"Benchmark\"    \"XYZ Scenario\" \"Benchmark\"     spell_out_technology(c(\"gas\", \"ice\", \"coalcap\", \"hdv\")) #> [1] \"Gas\"                 \"ICE\"                 \"Coal Capacity\"       #> [4] \"Heavy Duty Vehicles\""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/recode_metric_trajectory.html","id":null,"dir":"Reference","previous_headings":"","what":"Replicate labels produced with qplot_*() functions — recode_metric_trajectory","title":"Replicate labels produced with qplot_*() functions — recode_metric_trajectory","text":"to_title() converts labels like qplot_emission_intensity(). recode_metric_trajectory() converts labels like qplot_trajectory(). recode_metric_techmix() converts labels like qplot_techmix(). spell_out_technology() converts technology labels like qplot_techmix().","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/recode_metric_trajectory.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Replicate labels produced with qplot_*() functions — recode_metric_trajectory","text":"","code":"recode_metric_trajectory(x)"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/recode_metric_trajectory.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Replicate labels produced with qplot_*() functions — recode_metric_trajectory","text":"x character vector.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/recode_metric_trajectory.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Replicate labels produced with qplot_*() functions — recode_metric_trajectory","text":"character vector.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/recode_metric_trajectory.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Replicate labels produced with qplot_*() functions — recode_metric_trajectory","text":"","code":"to_title(c(\"a.string\", \"another_STRING\")) #> [1] \"A String\"       \"Another STRING\"  metric <- c(\"projected\", \"corporate_economy\", \"target_xyz\", \"else\") recode_metric_trajectory(metric) #> [1] \"Portfolio\"         \"Corporate Economy\" \"XYZ\"               #> [4] \"Else\"               recode_metric_techmix(metric) #> [1] \"Portfolio\"    \"Benchmark\"    \"XYZ Scenario\" \"Benchmark\"     spell_out_technology(c(\"gas\", \"ice\", \"coalcap\", \"hdv\")) #> [1] \"Gas\"                 \"ICE\"                 \"Coal Capacity\"       #> [4] \"Heavy Duty Vehicles\""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/region_isos.html","id":null,"dir":"Reference","previous_headings":"","what":"A dataset outlining various region definitions — region_isos","title":"A dataset outlining various region definitions — region_isos","text":"dataset maps codes representing countries regions. information ISO standard country codes see https://www.iso.org/iso-3166-country-codes.html.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/region_isos.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"A dataset outlining various region definitions — region_isos","text":"","code":"region_isos"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/region_isos.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"A dataset outlining various region definitions — region_isos","text":"object class tbl_df (inherits tbl, data.frame) 9262 rows 3 columns.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/region_isos.html","id":"definitions","dir":"Reference","previous_headings":"","what":"Definitions","title":"A dataset outlining various region definitions — region_isos","text":"isos (character): Countries region, defined iso code., * region (character): Benchmark region name., * source (character): Source publication regions defined.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/region_isos.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"A dataset outlining various region definitions — region_isos","text":"","code":"head(region_isos) #> # A tibble: 6 × 3 #>   region             source   isos  #>   <chr>              <chr>    <chr> #> 1 advanced economies weo_2019 bg    #> 2 advanced economies weo_2019 hr    #> 3 advanced economies weo_2019 cy    #> 4 advanced economies weo_2019 mt    #> 5 advanced economies weo_2019 ro    #> 6 advanced economies weo_2019 au"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/region_isos_demo.html","id":null,"dir":"Reference","previous_headings":"","what":"A dataset outlining various region definitions — region_isos_demo","title":"A dataset outlining various region definitions — region_isos_demo","text":"dataset maps codes representing countries regions. similar smaller region_isos. Demo datasets synthetic financial data strictly private; help demonstrate test implementation R 'PACTA' (https://www.transitionmonitor.com/). information ISO standard country codes see https://www.iso.org/iso-3166-country-codes.html.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/region_isos_demo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"A dataset outlining various region definitions — region_isos_demo","text":"","code":"region_isos_demo"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/region_isos_demo.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"A dataset outlining various region definitions — region_isos_demo","text":"object class tbl_df (inherits tbl, data.frame) 358 rows 3 columns.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/region_isos_demo.html","id":"definitions","dir":"Reference","previous_headings":"","what":"Definitions","title":"A dataset outlining various region definitions — region_isos_demo","text":"isos (character): Countries region, defined iso code., * region (character): Benchmark region name., * source (character): Source publication regions defined.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/region_isos_demo.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"A dataset outlining various region definitions — region_isos_demo","text":"","code":"region_isos_demo #> # A tibble: 358 × 3 #>    region             isos  source    #>    <chr>              <chr> <chr>     #>  1 advanced economies bg    demo_2020 #>  2 advanced economies hr    demo_2020 #>  3 advanced economies cy    demo_2020 #>  4 advanced economies mt    demo_2020 #>  5 advanced economies ro    demo_2020 #>  6 advanced economies au    demo_2020 #>  7 advanced economies at    demo_2020 #>  8 advanced economies be    demo_2020 #>  9 advanced economies ca    demo_2020 #> 10 advanced economies cl    demo_2020 #> # ℹ 348 more rows"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/scale_colour_r2dii.html","id":null,"dir":"Reference","previous_headings":"","what":"Custom 2DII colour and fill scales — scale_colour_r2dii","title":"Custom 2DII colour and fill scales — scale_colour_r2dii","text":"custom discrete colour fill scales colours 2DII palette.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/scale_colour_r2dii.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Custom 2DII colour and fill scales — scale_colour_r2dii","text":"","code":"scale_colour_r2dii(colour_labels = NULL, ...)"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/scale_colour_r2dii.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Custom 2DII colour and fill scales — scale_colour_r2dii","text":"colour_labels character vector. Specifies colour labels use order. Run unique(r2dii.plot:::palette_colours$label) see available colours. Similar value parameter ggplot2::scale_colour_manual(). ... parameters passed ggplot2::discrete_scale().","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/scale_colour_r2dii.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Custom 2DII colour and fill scales — scale_colour_r2dii","text":"object class \"ScaleDiscrete\".","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/scale_colour_r2dii.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Custom 2DII colour and fill scales — scale_colour_r2dii","text":"","code":"library(ggplot2, warn.conflicts = FALSE)  ggplot(mpg) +   geom_point(aes(displ, hwy, color = class)) +   scale_colour_r2dii()   ggplot(mpg) +   geom_histogram(aes(cyl, fill = class), position = \"dodge\", bins = 5) +   scale_fill_r2dii()"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/scale_colour_r2dii_sector.html","id":null,"dir":"Reference","previous_headings":"","what":"Custom 2DII sector colour and fill scales — scale_colour_r2dii_sector","title":"Custom 2DII sector colour and fill scales — scale_colour_r2dii_sector","text":"custom discrete colour fill scales colours 2DII sector palette.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/scale_colour_r2dii_sector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Custom 2DII sector colour and fill scales — scale_colour_r2dii_sector","text":"","code":"scale_colour_r2dii_sector(sectors = NULL, ...)"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/scale_colour_r2dii_sector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Custom 2DII sector colour and fill scales — scale_colour_r2dii_sector","text":"sectors character vector. Specifies sector colours use order. Run unique(r2dii.plot:::sector_colours$label) see available labels. Similar value parameter ggplot2::scale_colour_manual(). ... parameters passed ggplot2::discrete_scale().","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/scale_colour_r2dii_sector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Custom 2DII sector colour and fill scales — scale_colour_r2dii_sector","text":"object class \"ScaleDiscrete\".","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/scale_colour_r2dii_sector.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Custom 2DII sector colour and fill scales — scale_colour_r2dii_sector","text":"","code":"library(ggplot2, warn.conflicts = FALSE)  ggplot(mpg) +   geom_point(aes(displ, hwy, color = class)) +   scale_colour_r2dii_sector()   ggplot(mpg) +   geom_histogram(aes(cyl, fill = class), position = \"dodge\", bins = 5) +   scale_fill_r2dii_sector()"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/scale_colour_r2dii_tech.html","id":null,"dir":"Reference","previous_headings":"","what":"Custom 2DII technology colour and fill scales — scale_colour_r2dii_tech","title":"Custom 2DII technology colour and fill scales — scale_colour_r2dii_tech","text":"custom discrete colour fill scales colours 2DII technology palette.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/scale_colour_r2dii_tech.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Custom 2DII technology colour and fill scales — scale_colour_r2dii_tech","text":"","code":"scale_colour_r2dii_tech(sector, technologies = NULL, ...)"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/scale_colour_r2dii_tech.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Custom 2DII technology colour and fill scales — scale_colour_r2dii_tech","text":"sector string. Sector name specifying colour palette. Run unique(r2dii.plot:::technology_colours$sector) see available sectors. technologies character vector. Specifies technologies use colours order. Run unique(r2dii.plot:::technology_colours$technology) see available technologies (pay attention match sector). Similar value parameter ggplot2::scale_colour_manual(). ... parameters passed ggplot2::discrete_scale().","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/scale_colour_r2dii_tech.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Custom 2DII technology colour and fill scales — scale_colour_r2dii_tech","text":"object class \"ScaleDiscrete\".","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/scale_colour_r2dii_tech.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Custom 2DII technology colour and fill scales — scale_colour_r2dii_tech","text":"","code":"library(ggplot2, warn.conflicts = FALSE)  ggplot(mpg) +   geom_point(aes(displ, hwy, color = class)) +   scale_colour_r2dii_tech(\"automotive\")   ggplot(mpg) +   geom_histogram(aes(cyl, fill = class), position = \"dodge\", bins = 5) +   scale_fill_r2dii_tech(\"automotive\")"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/scale_fill_r2dii.html","id":null,"dir":"Reference","previous_headings":"","what":"Custom 2DII colour and fill scales — scale_fill_r2dii","title":"Custom 2DII colour and fill scales — scale_fill_r2dii","text":"custom discrete colour fill scales colours 2DII palette.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/scale_fill_r2dii.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Custom 2DII colour and fill scales — scale_fill_r2dii","text":"","code":"scale_fill_r2dii(colour_labels = NULL, ...)"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/scale_fill_r2dii.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Custom 2DII colour and fill scales — scale_fill_r2dii","text":"colour_labels character vector. Specifies colour labels use order. Run unique(r2dii.plot:::palette_colours$label) see available colours. Similar value parameter ggplot2::scale_colour_manual(). ... parameters passed ggplot2::discrete_scale().","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/scale_fill_r2dii.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Custom 2DII colour and fill scales — scale_fill_r2dii","text":"object class \"ScaleDiscrete\".","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/scale_fill_r2dii.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Custom 2DII colour and fill scales — scale_fill_r2dii","text":"","code":"library(ggplot2, warn.conflicts = FALSE)  ggplot(mpg) +   geom_point(aes(displ, hwy, color = class)) +   scale_colour_r2dii()   ggplot(mpg) +   geom_histogram(aes(cyl, fill = class), position = \"dodge\", bins = 5) +   scale_fill_r2dii()"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/scale_fill_r2dii_sector.html","id":null,"dir":"Reference","previous_headings":"","what":"Custom 2DII sector colour and fill scales — scale_fill_r2dii_sector","title":"Custom 2DII sector colour and fill scales — scale_fill_r2dii_sector","text":"custom discrete colour fill scales colours 2DII sector palette.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/scale_fill_r2dii_sector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Custom 2DII sector colour and fill scales — scale_fill_r2dii_sector","text":"","code":"scale_fill_r2dii_sector(sectors = NULL, ...)"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/scale_fill_r2dii_sector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Custom 2DII sector colour and fill scales — scale_fill_r2dii_sector","text":"sectors character vector. Specifies sector colours use order. Run unique(r2dii.plot:::sector_colours$label) see available labels. Similar value parameter ggplot2::scale_colour_manual(). ... parameters passed ggplot2::discrete_scale().","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/scale_fill_r2dii_sector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Custom 2DII sector colour and fill scales — scale_fill_r2dii_sector","text":"object class \"ScaleDiscrete\".","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/scale_fill_r2dii_sector.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Custom 2DII sector colour and fill scales — scale_fill_r2dii_sector","text":"","code":"library(ggplot2, warn.conflicts = FALSE)  ggplot(mpg) +   geom_point(aes(displ, hwy, color = class)) +   scale_colour_r2dii_sector()   ggplot(mpg) +   geom_histogram(aes(cyl, fill = class), position = \"dodge\", bins = 5) +   scale_fill_r2dii_sector()"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/scale_fill_r2dii_tech.html","id":null,"dir":"Reference","previous_headings":"","what":"Custom 2DII technology colour and fill scales — scale_fill_r2dii_tech","title":"Custom 2DII technology colour and fill scales — scale_fill_r2dii_tech","text":"custom discrete colour fill scales colours 2DII technology palette.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/scale_fill_r2dii_tech.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Custom 2DII technology colour and fill scales — scale_fill_r2dii_tech","text":"","code":"scale_fill_r2dii_tech(sector, technologies = NULL, ...)"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/scale_fill_r2dii_tech.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Custom 2DII technology colour and fill scales — scale_fill_r2dii_tech","text":"sector string. Sector name specifying colour palette. Run unique(r2dii.plot:::technology_colours$sector) see available sectors. technologies character vector. Specifies technologies use colours order. Run unique(r2dii.plot:::technology_colours$technology) see available technologies (pay attention match sector). Similar value parameter ggplot2::scale_colour_manual(). ... parameters passed ggplot2::discrete_scale().","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/scale_fill_r2dii_tech.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Custom 2DII technology colour and fill scales — scale_fill_r2dii_tech","text":"object class \"ScaleDiscrete\".","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/scale_fill_r2dii_tech.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Custom 2DII technology colour and fill scales — scale_fill_r2dii_tech","text":"","code":"library(ggplot2, warn.conflicts = FALSE)  ggplot(mpg) +   geom_point(aes(displ, hwy, color = class)) +   scale_colour_r2dii_tech(\"automotive\")   ggplot(mpg) +   geom_histogram(aes(cyl, fill = class), position = \"dodge\", bins = 5) +   scale_fill_r2dii_tech(\"automotive\")"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/scenario_colours.html","id":null,"dir":"Reference","previous_headings":"","what":"Colour datasets — scenario_colours","title":"Colour datasets — scenario_colours","text":"datasets least two columns: label: Text label colour. hex: Hex code colour.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/scenario_colours.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Colour datasets — scenario_colours","text":"","code":"scenario_colours"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/scenario_colours.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Colour datasets — scenario_colours","text":"object class tbl_df (inherits tbl, data.frame) 5 rows 2 columns.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/scenario_colours.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Colour datasets — scenario_colours","text":"scenario_colours, colours ordered red green used trajectory charts.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/scenario_colours.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Colour datasets — scenario_colours","text":"","code":"palette_colours #> # A tibble: 9 × 2 #>   label       hex     #>   <chr>       <chr>   #> 1 dark_blue   #1b324f #> 2 green       #00c082 #> 3 orange      #ff9623 #> 4 grey        #d0d7e1 #> 5 dark_purple #574099 #> 6 yellow      #f2e06e #> 7 soft_blue   #78c4d6 #> 8 ruby_red    #a63d57 #> 9 moss_green  #4a5e54  scenario_colours #> # A tibble: 5 × 2 #>   label        hex     #>   <chr>        <chr>   #> 1 dark_green   #768555 #> 2 light_green  #9CAB7C #> 3 dark_yellow  #FFFFCC #> 4 light_yellow #FDE291 #> 5 red          #E07B73  sector_colours #> # A tibble: 8 × 2 #>   label      hex     #>   <chr>      <chr>   #> 1 automotive #78C4D6 #> 2 aviation   #00c082 #> 3 cement     #c1b358 #> 4 coal       #4e3b37 #> 5 oil&gas    #181716 #> 6 power      #a63603 #> 7 shipping   #574099 #> 8 steel      #a63d57  technology_colours #> # A tibble: 18 × 3 #>    sector       technology    hex     #>    <chr>        <chr>         <chr>   #>  1 power        coalcap       #7A2701 #>  2 power        oilcap        #a63603 #>  3 power        gascap        #e6550d #>  4 power        nuclearcap    #fd8d3c #>  5 power        hydrocap      #fdbe85 #>  6 power        renewablescap #ffd4ad #>  7 automotive   ice_hdv       #548995 #>  8 automotive   ice           #609cab #>  9 automotive   hybrid_hdv    #6cb0c0 #> 10 automotive   hybrid        #78c4d6 #> 11 automotive   fuelcell      #93cfde #> 12 automotive   electric_hdv  #aedbe6 #> 13 automotive   electric      #c9e7ee #> 14 oil&gas      gas           #b9b5b0 #> 15 oil&gas      oil           #181716 #> 16 fossil fuels gas           #b9b5b0 #> 17 fossil fuels oil           #181716 #> 18 fossil fuels coal          #4e3b37"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/scenario_demo_2020.html","id":null,"dir":"Reference","previous_headings":"","what":"A prepared climate scenario dataset for demonstration — scenario_demo_2020","title":"A prepared climate scenario dataset for demonstration — scenario_demo_2020","text":"Fake climate scenario dataset, prepared software PACTA (Paris Agreement Capital Transition Assessment). imitates climate scenario data (e.g. International Energy Agency (IEA)) including change time production across industrial sectors. Demo datasets synthetic financial data strictly private; help demonstrate test implementation R 'PACTA' (https://www.transitionmonitor.com/).","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/scenario_demo_2020.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"A prepared climate scenario dataset for demonstration — scenario_demo_2020","text":"","code":"scenario_demo_2020"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/scenario_demo_2020.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"A prepared climate scenario dataset for demonstration — scenario_demo_2020","text":"object class tbl_df (inherits tbl, data.frame) 1512 rows 8 columns.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/scenario_demo_2020.html","id":"definitions","dir":"Reference","previous_headings":"","what":"Definitions","title":"A prepared climate scenario dataset for demonstration — scenario_demo_2020","text":"region (character): region pathway relevant., * scenario (character): name scenario., * scenario_source (character): source publication scenario taken., * sector (character): sector scenario prescribes pathway., * smsp (double): Sector market share percentage pathway calculated 2020., * technology (character): technology within sector scenario prescribes pathway., * tmsr (double): Technology market share ratio pathway calculated 2020., * year (integer): year pathway value prescribed.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/scenario_demo_2020.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"A prepared climate scenario dataset for demonstration — scenario_demo_2020","text":"","code":"head(scenario_demo_2020) #> # A tibble: 6 × 8 #>   scenario sector     technology region  year  tmsr    smsp scenario_source #>   <chr>    <chr>      <chr>      <chr>  <int> <dbl>   <dbl> <chr>           #> 1 cps      automotive electric   global  2020  1    0       demo_2020       #> 2 cps      automotive hybrid     global  2020  1    0       demo_2020       #> 3 cps      automotive ice        global  2020  1    0       demo_2020       #> 4 cps      automotive electric   global  2021  1.12 0.00108 demo_2020       #> 5 cps      automotive hybrid     global  2021  1.12 0.0165  demo_2020       #> 6 cps      automotive ice        global  2021  1.02 0.0188  demo_2020"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/sda.html","id":null,"dir":"Reference","previous_headings":"","what":"An example of an sda-like dataset — sda","title":"An example of an sda-like dataset — sda","text":"Dataset imitating output r2dii.analysis::target_sda().","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/sda.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"An example of an sda-like dataset — sda","text":"","code":"sda"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/sda.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"An example of an sda-like dataset — sda","text":"object class spec_tbl_df (inherits tbl_df, tbl, data.frame) 110 rows 6 columns.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/sda.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"An example of an sda-like dataset — sda","text":"https://github.com/RMI-PACTA/r2dii.plot/issues/55.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/sda.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"An example of an sda-like dataset — sda","text":"","code":"sda #> # A tibble: 110 × 6 #>    sector  year region             scenario_source emission_factor_metric #>    <chr>  <dbl> <chr>              <chr>           <chr>                  #>  1 cement  2020 advanced economies demo_2020       projected              #>  2 cement  2020 developing asia    demo_2020       projected              #>  3 cement  2020 global             demo_2020       projected              #>  4 cement  2021 advanced economies demo_2020       projected              #>  5 cement  2021 developing asia    demo_2020       projected              #>  6 cement  2021 global             demo_2020       projected              #>  7 cement  2022 advanced economies demo_2020       projected              #>  8 cement  2022 developing asia    demo_2020       projected              #>  9 cement  2022 global             demo_2020       projected              #> 10 cement  2023 advanced economies demo_2020       projected              #> # ℹ 100 more rows #> # ℹ 1 more variable: emission_factor_value <dbl>"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/sector_classifications.html","id":null,"dir":"Reference","previous_headings":"","what":"A view of available sector classification datasets — sector_classifications","title":"A view of available sector classification datasets — sector_classifications","text":"dataset lists sector classification code standards used 'PACTA' (https://www.transitionmonitor.com/).","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/sector_classifications.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"A view of available sector classification datasets — sector_classifications","text":"","code":"sector_classifications"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/sector_classifications.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"A view of available sector classification datasets — sector_classifications","text":"object class tbl_df (inherits tbl, data.frame) 6559 rows 4 columns.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/sector_classifications.html","id":"definitions","dir":"Reference","previous_headings":"","what":"Definitions","title":"A view of available sector classification datasets — sector_classifications","text":"borderline (character): Flag indicating 2dii sector classification code borderline match. value TRUE indicates match uncertain 2dii sector classification. value FALSE indicates match certainly perfect classification certainly 2dii's scope.., * code (character): Formatted code., * code_system (character): Code system., * sector (character): Associated 2dii sector.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/sector_classifications.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"A view of available sector classification datasets — sector_classifications","text":"Classification datasets help standardize sector classification codes wild relevant subset including 'power', 'oil gas', 'coal', 'automotive', 'aviation', 'concrete', 'steel', 'shipping'.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/sector_classifications.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"A view of available sector classification datasets — sector_classifications","text":"","code":"head(sector_classifications) #> # A tibble: 6 × 4 #>   sector       borderline code     code_system #>   <chr>        <lgl>      <chr>    <chr>       #> 1 not in scope FALSE      10       GICS        #> 2 not in scope FALSE      1010     GICS        #> 3 not in scope FALSE      101010   GICS        #> 4 not in scope FALSE      10101010 GICS        #> 5 not in scope FALSE      10101020 GICS        #> 6 oil and gas  FALSE      101020   GICS"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/sector_colours.html","id":null,"dir":"Reference","previous_headings":"","what":"Colour datasets — sector_colours","title":"Colour datasets — sector_colours","text":"datasets least two columns: label: Text label colour. hex: Hex code colour.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/sector_colours.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Colour datasets — sector_colours","text":"","code":"sector_colours"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/sector_colours.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Colour datasets — sector_colours","text":"object class tbl_df (inherits tbl, data.frame) 8 rows 2 columns.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/sector_colours.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Colour datasets — sector_colours","text":"scenario_colours, colours ordered red green used trajectory charts.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/sector_colours.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Colour datasets — sector_colours","text":"","code":"palette_colours #> # A tibble: 9 × 2 #>   label       hex     #>   <chr>       <chr>   #> 1 dark_blue   #1b324f #> 2 green       #00c082 #> 3 orange      #ff9623 #> 4 grey        #d0d7e1 #> 5 dark_purple #574099 #> 6 yellow      #f2e06e #> 7 soft_blue   #78c4d6 #> 8 ruby_red    #a63d57 #> 9 moss_green  #4a5e54  scenario_colours #> # A tibble: 5 × 2 #>   label        hex     #>   <chr>        <chr>   #> 1 dark_green   #768555 #> 2 light_green  #9CAB7C #> 3 dark_yellow  #FFFFCC #> 4 light_yellow #FDE291 #> 5 red          #E07B73  sector_colours #> # A tibble: 8 × 2 #>   label      hex     #>   <chr>      <chr>   #> 1 automotive #78C4D6 #> 2 aviation   #00c082 #> 3 cement     #c1b358 #> 4 coal       #4e3b37 #> 5 oil&gas    #181716 #> 6 power      #a63603 #> 7 shipping   #574099 #> 8 steel      #a63d57  technology_colours #> # A tibble: 18 × 3 #>    sector       technology    hex     #>    <chr>        <chr>         <chr>   #>  1 power        coalcap       #7A2701 #>  2 power        oilcap        #a63603 #>  3 power        gascap        #e6550d #>  4 power        nuclearcap    #fd8d3c #>  5 power        hydrocap      #fdbe85 #>  6 power        renewablescap #ffd4ad #>  7 automotive   ice_hdv       #548995 #>  8 automotive   ice           #609cab #>  9 automotive   hybrid_hdv    #6cb0c0 #> 10 automotive   hybrid        #78c4d6 #> 11 automotive   fuelcell      #93cfde #> 12 automotive   electric_hdv  #aedbe6 #> 13 automotive   electric      #c9e7ee #> 14 oil&gas      gas           #b9b5b0 #> 15 oil&gas      oil           #181716 #> 16 fossil fuels gas           #b9b5b0 #> 17 fossil fuels oil           #181716 #> 18 fossil fuels coal          #4e3b37"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/sic_classification.html","id":null,"dir":"Reference","previous_headings":"","what":"Dataset to bridge (translate) common sector-classification codes — sic_classification","title":"Dataset to bridge (translate) common sector-classification codes — sic_classification","text":"dataset serves translation key common sector-classification systems sectors relevant 'PACTA' tool (https://www.transitionmonitor.com/).","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/sic_classification.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Dataset to bridge (translate) common sector-classification codes — sic_classification","text":"","code":"sic_classification"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/sic_classification.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Dataset to bridge (translate) common sector-classification codes — sic_classification","text":"object class tbl_df (inherits tbl, data.frame) 1005 rows 5 columns.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/sic_classification.html","id":"definitions","dir":"Reference","previous_headings":"","what":"Definitions","title":"Dataset to bridge (translate) common sector-classification codes — sic_classification","text":"borderline (character): Flag indicating PACTA sector classification code borderline match. value TRUE indicates match uncertain PACTA sector classification. value FALSE indicates match certainly perfect classification certainly PACTA's scope.., * code (character): Original SIC code., * description (character): Original SIC description., * sector (character): Associated PACTA sector., * version (character): Column identifying SIC version code belongs.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/sic_classification.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Dataset to bridge (translate) common sector-classification codes — sic_classification","text":"Classification datasets help standardize sector classification codes wild relevant subset including 'power', 'oil gas', 'coal', 'automotive', 'aviation', 'concrete', 'steel', 'shipping'.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/sic_classification.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Dataset to bridge (translate) common sector-classification codes — sic_classification","text":"","code":"head(sic_classification) #> # A tibble: 6 × 5 #>   description                           code  sector       borderline version #>   <chr>                                 <chr> <chr>        <lgl>      <chr>   #> 1 Wheat                                 0111  not in scope FALSE      1987    #> 2 Rice                                  0112  not in scope FALSE      1987    #> 3 Corn                                  0115  not in scope FALSE      1987    #> 4 Soybeans                              0116  not in scope FALSE      1987    #> 5 Cash Grains, Not Elsewhere Classified 0119  not in scope FALSE      1987    #> 6 Cotton                                0131  not in scope FALSE      1987"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/spell_out_technology.html","id":null,"dir":"Reference","previous_headings":"","what":"Replicate labels produced with qplot_*() functions — spell_out_technology","title":"Replicate labels produced with qplot_*() functions — spell_out_technology","text":"to_title() converts labels like qplot_emission_intensity(). recode_metric_trajectory() converts labels like qplot_trajectory(). recode_metric_techmix() converts labels like qplot_techmix(). spell_out_technology() converts technology labels like qplot_techmix().","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/spell_out_technology.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Replicate labels produced with qplot_*() functions — spell_out_technology","text":"","code":"spell_out_technology(x)"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/spell_out_technology.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Replicate labels produced with qplot_*() functions — spell_out_technology","text":"x character vector.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/spell_out_technology.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Replicate labels produced with qplot_*() functions — spell_out_technology","text":"character vector.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/spell_out_technology.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Replicate labels produced with qplot_*() functions — spell_out_technology","text":"","code":"to_title(c(\"a.string\", \"another_STRING\")) #> [1] \"A String\"       \"Another STRING\"  metric <- c(\"projected\", \"corporate_economy\", \"target_xyz\", \"else\") recode_metric_trajectory(metric) #> [1] \"Portfolio\"         \"Corporate Economy\" \"XYZ\"               #> [4] \"Else\"               recode_metric_techmix(metric) #> [1] \"Portfolio\"    \"Benchmark\"    \"XYZ Scenario\" \"Benchmark\"     spell_out_technology(c(\"gas\", \"ice\", \"coalcap\", \"hdv\")) #> [1] \"Gas\"                 \"ICE\"                 \"Coal Capacity\"       #> [4] \"Heavy Duty Vehicles\""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/target_market_share.html","id":null,"dir":"Reference","previous_headings":"","what":"Add targets for production, using the market share approach — target_market_share","title":"Add targets for production, using the market share approach — target_market_share","text":"function calculates portfolio-level production targets, calculated using market share approach applied relevant climate production forecast.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/target_market_share.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add targets for production, using the market share approach — target_market_share","text":"","code":"target_market_share(   data,   abcd,   scenario,   region_isos = r2dii.data::region_isos,   use_credit_limit = FALSE,   by_company = FALSE,   weight_production = TRUE,   increasing_or_decreasing = r2dii.data::increasing_or_decreasing )"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/target_market_share.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add targets for production, using the market share approach — target_market_share","text":"data \"data.frame\" like output r2dii.match::prioritize. abcd asset level data frame like r2dii.data::abcd_demo. scenario scenario data frame like r2dii.data::scenario_demo_2020. region_isos data frame like r2dii.data::region_isos (default). use_credit_limit Logical vector length 1. FALSE defaults using column loan_size_outstanding. Set TRUE use column loan_size_credit_limit instead. by_company Logical vector length 1. FALSE defaults outputting production_value portfolio-level. Set TRUE output production_value company-level. weight_production Logical vector length 1. TRUE defaults outputting production, weighted relative loan-size. Set FALSE output unweighted production values. increasing_or_decreasing data frame like r2dii.data::increasing_or_decreasing.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/target_market_share.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add targets for production, using the market share approach — target_market_share","text":"tibble including summarized columns metric, production, technology_share, percentage_of_initial_production_by_scope scope. by_company = TRUE, output also column name_abcd.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/target_market_share.html","id":"handling-grouped-data","dir":"Reference","previous_headings":"","what":"Handling grouped data","title":"Add targets for production, using the market share approach — target_market_share","text":"function ignores existing groups outputs ungrouped data.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/target_market_share.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add targets for production, using the market share approach — target_market_share","text":"","code":"library(r2dii.data) #>  #> Attaching package: ‘r2dii.data’ #> The following object is masked from ‘package:pacta.loanbook’: #>  #>     data_dictionary library(r2dii.match) #>  #> Attaching package: ‘r2dii.match’ #> The following object is masked from ‘package:r2dii.data’: #>  #>     data_dictionary #> The following object is masked from ‘package:pacta.loanbook’: #>  #>     data_dictionary  loanbook <- head(loanbook_demo, 100) abcd <- head(abcd_demo, 100)  matched <- loanbook %>%   match_name(abcd) %>%   prioritize()  # Calculate targets at portfolio level matched %>%   target_market_share(     abcd = abcd,     scenario = scenario_demo_2020,     region_isos = region_isos_demo     ) #> # A tibble: 373 × 10 #>    sector technology  year region scenario_source metric     production #>    <chr>  <chr>      <int> <chr>  <chr>           <chr>           <dbl> #>  1 power  hydrocap    2020 global demo_2020       projected      16990. #>  2 power  hydrocap    2020 global demo_2020       target_cps     16990. #>  3 power  hydrocap    2020 global demo_2020       target_sds     16990. #>  4 power  hydrocap    2020 global demo_2020       target_sps     16990. #>  5 power  hydrocap    2021 global demo_2020       projected      16743. #>  6 power  hydrocap    2021 global demo_2020       target_cps     17004. #>  7 power  hydrocap    2021 global demo_2020       target_sds     17012. #>  8 power  hydrocap    2021 global demo_2020       target_sps     17005. #>  9 power  hydrocap    2022 global demo_2020       projected      16497. #> 10 power  hydrocap    2022 global demo_2020       target_cps     17018. #> # ℹ 363 more rows #> # ℹ 3 more variables: technology_share <dbl>, scope <chr>, #> #   percentage_of_initial_production_by_scope <dbl>  # Calculate targets at company level matched %>%   target_market_share(   abcd = abcd,   scenario = scenario_demo_2020,   region_isos = region_isos_demo,   by_company = TRUE   ) #> Warning: You've supplied `by_company = TRUE` and `weight_production = TRUE`. #> This will result in company-level results, weighted by the portfolio #> loan size, which is rarely useful. Did you mean to set one of these #> arguments to `FALSE`? #> # A tibble: 1,408 × 11 #>    sector technology  year region scenario_source name_abcd    metric production #>    <chr>  <chr>      <int> <chr>  <chr>           <chr>        <chr>       <dbl> #>  1 power  hydrocap    2020 global demo_2020       Giordano, G… proje…     16990. #>  2 power  hydrocap    2020 global demo_2020       Giordano, G… targe…     16990. #>  3 power  hydrocap    2020 global demo_2020       Giordano, G… targe…     16990. #>  4 power  hydrocap    2020 global demo_2020       Giordano, G… targe…     16990. #>  5 power  hydrocap    2021 global demo_2020       Giordano, G… proje…     16743. #>  6 power  hydrocap    2021 global demo_2020       Giordano, G… targe…     17004. #>  7 power  hydrocap    2021 global demo_2020       Giordano, G… targe…     17012. #>  8 power  hydrocap    2021 global demo_2020       Giordano, G… targe…     17005. #>  9 power  hydrocap    2022 global demo_2020       Giordano, G… proje…     16497. #> 10 power  hydrocap    2022 global demo_2020       Giordano, G… targe…     17018. #> # ℹ 1,398 more rows #> # ℹ 3 more variables: technology_share <dbl>, scope <chr>, #> #   percentage_of_initial_production_by_scope <dbl>  matched %>%   target_market_share(     abcd = abcd,     scenario = scenario_demo_2020,     region_isos = region_isos_demo,     # Calculate unweighted targets     weight_production = FALSE     ) #> # A tibble: 373 × 10 #>    sector technology  year region scenario_source metric     production #>    <chr>  <chr>      <int> <chr>  <chr>           <chr>           <dbl> #>  1 power  hydrocap    2020 global demo_2020       projected     121032. #>  2 power  hydrocap    2020 global demo_2020       target_cps    121032. #>  3 power  hydrocap    2020 global demo_2020       target_sds    121032. #>  4 power  hydrocap    2020 global demo_2020       target_sps    121032. #>  5 power  hydrocap    2021 global demo_2020       projected     119274. #>  6 power  hydrocap    2021 global demo_2020       target_cps    121129. #>  7 power  hydrocap    2021 global demo_2020       target_sds    121187. #>  8 power  hydrocap    2021 global demo_2020       target_sps    121139. #>  9 power  hydrocap    2022 global demo_2020       projected     117515. #> 10 power  hydrocap    2022 global demo_2020       target_cps    121227. #> # ℹ 363 more rows #> # ℹ 3 more variables: technology_share <dbl>, scope <chr>, #> #   percentage_of_initial_production_by_scope <dbl>"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/target_sda.html","id":null,"dir":"Reference","previous_headings":"","what":"Add targets for CO2 emissions per unit production at the portfolio level, using the SDA approach — target_sda","title":"Add targets for CO2 emissions per unit production at the portfolio level, using the SDA approach — target_sda","text":"function calculates targets CO2 emissions per unit production portfolio-level, otherwise referred \"emissions factors\". uses sectoral-decarbonization approach (SDA) calculate targets.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/target_sda.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add targets for CO2 emissions per unit production at the portfolio level, using the SDA approach — target_sda","text":"","code":"target_sda(   data,   abcd,   co2_intensity_scenario,   use_credit_limit = FALSE,   by_company = FALSE,   region_isos = r2dii.data::region_isos )"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/target_sda.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add targets for CO2 emissions per unit production at the portfolio level, using the SDA approach — target_sda","text":"data dataframe like output r2dii.match::prioritize(). abcd asset-level data frame like r2dii.data::abcd_demo. co2_intensity_scenario scenario data frame like r2dii.data::co2_intensity_scenario_demo. use_credit_limit Logical vector length 1. FALSE defaults using column loan_size_outstanding. Set TRUE instead use column loan_size_credit_limit. by_company Logical vector length 1. FALSE defaults outputting weighted_production_value portfolio-level. Set TRUE output weighted_production_value company-level. region_isos data frame like r2dii.data::region_isos (default).","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/target_sda.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add targets for CO2 emissions per unit production at the portfolio level, using the SDA approach — target_sda","text":"tibble including summarized columns emission_factor_metric emission_factor_value. by_company = TRUE, output also column name_abcd.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/target_sda.html","id":"handling-grouped-data","dir":"Reference","previous_headings":"","what":"Handling grouped data","title":"Add targets for CO2 emissions per unit production at the portfolio level, using the SDA approach — target_sda","text":"function ignores existing groups outputs ungrouped data.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/target_sda.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add targets for CO2 emissions per unit production at the portfolio level, using the SDA approach — target_sda","text":"","code":"library(r2dii.match) library(r2dii.data)  loanbook <- head(loanbook_demo, 150) abcd <- head(abcd_demo, 100)  matched <- loanbook %>%   match_name(abcd) %>%   prioritize()  # Calculate targets at portfolio level matched %>%   target_sda(    abcd = abcd,    co2_intensity_scenario = co2_intensity_scenario_demo,    region_isos = region_isos_demo    ) #> Warning: Removing rows in abcd where `emission_factor` is NA #> Warning: Found no match between loanbook and abcd. #> # A tibble: 0 × 4 #> # ℹ 4 variables: sector <chr>, year <int>, emission_factor_metric <chr>, #> #   emission_factor_value <dbl>  # Calculate targets at company level matched %>%   target_sda(    abcd = abcd,    co2_intensity_scenario = co2_intensity_scenario_demo,    region_isos = region_isos_demo,    by_company = TRUE    ) #> Warning: Removing rows in abcd where `emission_factor` is NA #> Warning: Found no match between loanbook and abcd. #> # A tibble: 0 × 4 #> # ℹ 4 variables: sector <chr>, year <int>, emission_factor_metric <chr>, #> #   emission_factor_value <dbl>"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/technology_colours.html","id":null,"dir":"Reference","previous_headings":"","what":"Colour datasets — technology_colours","title":"Colour datasets — technology_colours","text":"datasets least two columns: label: Text label colour. hex: Hex code colour.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/technology_colours.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Colour datasets — technology_colours","text":"","code":"technology_colours"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/technology_colours.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Colour datasets — technology_colours","text":"object class tbl_df (inherits tbl, data.frame) 18 rows 3 columns.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/technology_colours.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Colour datasets — technology_colours","text":"scenario_colours, colours ordered red green used trajectory charts.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/technology_colours.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Colour datasets — technology_colours","text":"","code":"palette_colours #> # A tibble: 9 × 2 #>   label       hex     #>   <chr>       <chr>   #> 1 dark_blue   #1b324f #> 2 green       #00c082 #> 3 orange      #ff9623 #> 4 grey        #d0d7e1 #> 5 dark_purple #574099 #> 6 yellow      #f2e06e #> 7 soft_blue   #78c4d6 #> 8 ruby_red    #a63d57 #> 9 moss_green  #4a5e54  scenario_colours #> # A tibble: 5 × 2 #>   label        hex     #>   <chr>        <chr>   #> 1 dark_green   #768555 #> 2 light_green  #9CAB7C #> 3 dark_yellow  #FFFFCC #> 4 light_yellow #FDE291 #> 5 red          #E07B73  sector_colours #> # A tibble: 8 × 2 #>   label      hex     #>   <chr>      <chr>   #> 1 automotive #78C4D6 #> 2 aviation   #00c082 #> 3 cement     #c1b358 #> 4 coal       #4e3b37 #> 5 oil&gas    #181716 #> 6 power      #a63603 #> 7 shipping   #574099 #> 8 steel      #a63d57  technology_colours #> # A tibble: 18 × 3 #>    sector       technology    hex     #>    <chr>        <chr>         <chr>   #>  1 power        coalcap       #7A2701 #>  2 power        oilcap        #a63603 #>  3 power        gascap        #e6550d #>  4 power        nuclearcap    #fd8d3c #>  5 power        hydrocap      #fdbe85 #>  6 power        renewablescap #ffd4ad #>  7 automotive   ice_hdv       #548995 #>  8 automotive   ice           #609cab #>  9 automotive   hybrid_hdv    #6cb0c0 #> 10 automotive   hybrid        #78c4d6 #> 11 automotive   fuelcell      #93cfde #> 12 automotive   electric_hdv  #aedbe6 #> 13 automotive   electric      #c9e7ee #> 14 oil&gas      gas           #b9b5b0 #> 15 oil&gas      oil           #181716 #> 16 fossil fuels gas           #b9b5b0 #> 17 fossil fuels oil           #181716 #> 18 fossil fuels coal          #4e3b37"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/theme_2dii.html","id":null,"dir":"Reference","previous_headings":"","what":"Complete theme — theme_2dii","title":"Complete theme — theme_2dii","text":"ggplot theme can applied graphs appear according 2DII plotting aesthetics.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/theme_2dii.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Complete theme — theme_2dii","text":"","code":"theme_2dii(   base_size = 12,   base_family = \"Helvetica\",   base_line_size = base_size/22,   base_rect_size = base_size/22 )"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/theme_2dii.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Complete theme — theme_2dii","text":"base_size base font size, given pts. base_family base font family base_line_size base size line elements base_rect_size base size rect elements","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/theme_2dii.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Complete theme — theme_2dii","text":"object class \"theme\", \"gg\".","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/theme_2dii.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Complete theme — theme_2dii","text":"","code":"library(ggplot2, warn.conflicts = FALSE)  ggplot(mtcars) +   geom_histogram(aes(mpg), bins = 10) +   theme_2dii()"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/to_title.html","id":null,"dir":"Reference","previous_headings":"","what":"Replicate labels produced with qplot_*() functions — to_title","title":"Replicate labels produced with qplot_*() functions — to_title","text":"to_title() converts labels like qplot_emission_intensity(). recode_metric_trajectory() converts labels like qplot_trajectory(). recode_metric_techmix() converts labels like qplot_techmix(). spell_out_technology() converts technology labels like qplot_techmix().","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/to_title.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Replicate labels produced with qplot_*() functions — to_title","text":"","code":"to_title(x)"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/to_title.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Replicate labels produced with qplot_*() functions — to_title","text":"x character vector.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/to_title.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Replicate labels produced with qplot_*() functions — to_title","text":"character vector.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/to_title.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Replicate labels produced with qplot_*() functions — to_title","text":"","code":"to_title(c(\"a.string\", \"another_STRING\")) #> [1] \"A String\"       \"Another STRING\"  metric <- c(\"projected\", \"corporate_economy\", \"target_xyz\", \"else\") recode_metric_trajectory(metric) #> [1] \"Portfolio\"         \"Corporate Economy\" \"XYZ\"               #> [4] \"Else\"               recode_metric_techmix(metric) #> [1] \"Portfolio\"    \"Benchmark\"    \"XYZ Scenario\" \"Benchmark\"     spell_out_technology(c(\"gas\", \"ice\", \"coalcap\", \"hdv\")) #> [1] \"Gas\"                 \"ICE\"                 \"Coal Capacity\"       #> [4] \"Heavy Duty Vehicles\""}]
