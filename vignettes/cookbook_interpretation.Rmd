---
title: "Interpretation of Results"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Interpretation of Results}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

## Target Market Share

[brief description of Target Market Share metric and link to the detail methodology description?]

### `target_market_share()` function

The `target_market_share()` function calculates the Target Market Share metric and outputs a table including the calculated targets at the portfolio level or at the company level, depending on the options selected.

#### Explanation of Output

The primary columns/variables of interest in the output are the `production` and `metric` variables. What the `production` variable represents depends on the values in all of the columns that precede it, and in particular the `metric` column. If the value in the `metric` column on the same row is `"projected"`, then the value in the `production` variable will represent the production level of your portfolio based on the ABCD data for that sector/technology/year/scenario/etc. If the value in the `metric` column on the same row begins with `"target_"`, e.g. `"target_cps"`, then the value in the `production` variable will represent the target level of production for that sector/technology/year/scenario/etc. based on the ABCD start year production value of your portfolio modified to be relative to the scenario data for the given year. If the value in the `metric` column on the same row is `"corporate_economy"`, then the value in the `production` variable will represent [the total production levels of the entire sector adjusted by the start year production level of your portfolio, which can be used aa a benchmark to compare to your portfolio's production levels].

The `technology_share` and `percentage_of_initial_production_by_scope` variables also contain values of interest, but they are derivatives of the values contained in the `production` variable. The `technology_share` variable tells the share of the row's technology within its sector, relative to the production values of other technologies in the same sector, similar to what is shown in the "technology mix" plots, relative to whatever is defined in the `metric` column in that row. The `percentage_of_initial_production_by_scope` variable shows the percent change of the production value from the prior year.

If you use the `by_company = TRUE` option of the `target_market_share()` function, most of what's said above is true except relative to the company listed in that row in the `name_abcd` column.

For detailed information about the table output of the `target_market_share()` function and its columns, see the [data dictionary](data_outputs.html#target_market_share-output).

For detailed information about the Target Market Share metric and how it is calculated, see the [Metrics appendix](cookbook_metrics.html#market-share-approach).

#### Interpretation & Intuition

[2 or 3 sentences about interpretation]

[2 or 3 sentences about intuition]

### Technoloy Mix Plot

#### Explanation of Output

#### Interpretation & Intuition

```{r, message=FALSE, warning=FALSE, echo=FALSE}
library(pacta.loanbook)

market_share_targets_portfolio <-
  target_market_share(
    data = prioritize(match_name(loanbook_demo, abcd_demo)),
    abcd = abcd_demo,
    scenario = scenario_demo_2020,
    region_isos = region_isos_demo
  )

qplot_techmix(
  dplyr::filter(
    market_share_targets_portfolio,
    scenario_source == "demo_2020",
    sector == "power",
    region == "global",
    metric %in% c("projected", "corporate_economy", "target_sds")
  )
)

```

### Trajectory Plot

#### Explanation of Output

#### Interpretation & Intuition

```{r, message=FALSE, warning=FALSE, echo=FALSE}
library(pacta.loanbook)

market_share_targets_portfolio <-
  target_market_share(
    data = prioritize(match_name(loanbook_demo, abcd_demo)),
    abcd = abcd_demo,
    scenario = scenario_demo_2020,
    region_isos = region_isos_demo
  )

qplot_trajectory(
  dplyr::filter(
    market_share_targets_portfolio,
    sector == "power",
    technology == "renewablescap",
    region == "global",
    scenario_source == "demo_2020"
  )
)
```

## Sectoral Decarbonization (SDA) Target

[brief description of SDA metric and link to the detail methodology description?]

### `target_sda()` function

The `target_sda()` function calculates the Sectoral Decarbonization Target metric and outputs a table including the calculated targets at the portfolio level or at the company level, depending on the options selected.

#### Explanation of Output

[2 or 3 sentences explaining how to read the output]

For detailed information about the table output of the `target_sda()` function and its columns, see the [data dictionary](data_outputs.html#target_sda-output).

For detailed information about the Target Market Share metric and how it is calculated, see the [Metrics appendix](cookbook_metrics.html#sectoral-decarbonization-approach).

#### Interpretation & Intuition

[2 or 3 sentences about interpretation]

[2 or 3 sentences about intuition]

### Emission Intensity Plot

#### Explanation of Output

#### Interpretation & Intuition

```{r, message=FALSE, warning=FALSE, echo=FALSE}
library(pacta.loanbook)

sda_targets <-
  target_sda(
    data = prioritize(match_name(loanbook_demo, abcd_demo)),
    abcd = abcd_demo,
    co2_intensity_scenario = co2_intensity_scenario_demo,
    region_isos = region_isos_demo
  )

qplot_emission_intensity(
  dplyr::filter(
    sda_targets,
    sector == "cement",
    region == "global"
  )
)
```

---

**PREVIOUS CHAPTER:** [Running the Analysis](cookbook_running_the_analysis.html)

**NEXT CHAPTER:** [Advanced Use Cases](cookbook_advanced_use_cases.html)
