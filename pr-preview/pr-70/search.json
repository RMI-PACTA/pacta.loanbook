[{"path":"https://rmi-pacta.github.io/pacta.loanbook/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 pacta.loanbook authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_overview.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Overview","text":"cookbook provides step--step guide running PACTA Banks analysis using r2dii.* suite packages. analysis designed help banks assess alignment loan books Paris Agreement goals. sections cookbook follows: Overview: section provides overview PACTA Banks analysis main steps. Preparatory Steps: Prepare Loanbook, ABCD Scenario input data. Running Analysis: Match raw loan books ABCD data run PACTA Banks analysis. Interpretation Results: Interpret results analysis understand outputs. Advanced Topics: Learn adjust analysis parameters best results advanced research questions.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_overview.html","id":"what-is-the-pacta-for-banks-analysis","dir":"Articles","previous_headings":"Overview","what":"What is the PACTA for Banks analysis?","title":"Overview","text":"PACTA Banks based PACTA methodology, assesses alignment financial portfolios climate goals utilizing forward-looking asset-based company data (ABCD) linked financial assets compares production profiles companies technology emissions pathways climate transition scenarios sector /technology level.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_overview.html","id":"who-are-these-tools-built-for","dir":"Articles","previous_headings":"Overview","what":"Who are these tools built for?","title":"Overview","text":"PACTA Banks analysis primarily designed run banks , minimal additional guidance. However, can also useful tool user, case like run PACTA analysis loan book.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_overview.html","id":"what-can-the-results-of-the-pacta-for-banks-analysis-be-used-for","dir":"Articles","previous_headings":"Overview","what":"What can the results of the PACTA for Banks analysis be used for?","title":"Overview","text":"Banks can use results analysis assess alignment loan books Paris Agreement goals, identify sectors may need take action improve alignment, screen potential climate-related transition risks. results may additionally used identify opportunities climate-aligned investments, well detecting individual counterparties may exposed climate-related transition risks may therefore require dedicated focus risk management process. Users able obtain tabular outputs plots can used use cases. tabular output enables processing alignment results models tools, example input financial risk models, recurring input internal monitoring systems.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_overview.html","id":"what-are-the-main-steps-of-the-analysis","dir":"Articles","previous_headings":"Overview","what":"What are the main steps of the analysis?","title":"Overview","text":"main steps analysis follows: Data preparation: Prepare loan book, ABCD Scenario input data. Matching process: Match raw loan book ABCD data. Prioritization loan book: Prioritize matched loan book analyze coverage. Run PACTA Banks analysis: Run analysis generate plots. cookbook guide steps analysis detail, explain required input data sets software, provide guidance interpret results. NEXT CHAPTER: Preparatory Steps","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_preparatory_steps.html","id":"preparatory-steps","dir":"Articles","previous_headings":"","what":"Preparatory Steps","title":"Preparatory Steps","text":"section provides overview preparatory steps need taken running PACTA Banks analysis. includes information required input data sets required software.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_preparatory_steps.html","id":"required-input-data-sets","dir":"Articles","previous_headings":"Preparatory Steps","what":"Required Input Data Sets","title":"Preparatory Steps","text":"PACTA Banks analysis requires number input data sets run. can obtained external sources, others need prepared user. Furthermore, input data sets optional. main input data sets required analysis following:","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_preparatory_steps.html","id":"asset-based-company-data-abcd","dir":"Articles","previous_headings":"Preparatory Steps > Required Input Data Sets","what":"Asset-based Company Data (ABCD)","title":"Preparatory Steps","text":"required input external source XLSX file data set provides information production profiles emission intensities companies active following real economy sectors: Automotive (light-duty vehicles) manufacturing, aviation, cement production, coal mining, upstream oil & gas extraction, power generation, steel production. ABCD typically obtained third party data providers. However, possible prepare ABCD complement external data set entries may covered box. ABCD data set must XLSX file contains following columns: company_id name_company lei sector technology production_unit year production emission_factor plant_location is_ultimate_owner emission_factor_unit detail necessary structure dataset, see data dictionary abcd. PACTA data agnostic allows using data provider offers appropriate format, one option obtain ABCD analysis buy data data provider Asset Impact. information obtain ABCD PACTA documentation individual sectors data points can found Asset Impact website.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_preparatory_steps.html","id":"scenario-data","dir":"Articles","previous_headings":"Preparatory Steps > Required Input Data Sets","what":"Scenario Data","title":"Preparatory Steps","text":"required input(s) external source CSV file(s) scenario data set provides information trajectories technologies/fuel types emission intensity pathways (subset ) sectors covered PACTA. sectors technology level trajectories, data set provides TMSR SMSP pathways based Market Share Approach, allocation rule implies companies active sector adjust production way keeps market shares constant solves aggregate climate transition scenario. information calculate TMSR SMSP, see PACTA Banks documentation. target market share scenario data set must CSV file contains following columns: scenario sector technology region year tmsr smsp scenario_source detail necessary structure dataset, see data dictionary scenario. sectors technology level pathways, PACTA uses Sectoral Decarbonization Approach (SDA), allocation rule implies companies sector converge physical emission intensity future scenario value - e.g. year 2050. implies polluting companies reduce physical emissions intensity drastically companies using cleaner technology. direct implications amount units produced company. information calculating SDA PACTA, please see PACTA Banks documentation. SDA scenario data set must CSV file contains following columns: scenario_source scenario sector region year emission_factor_unit emission_factor detail necessary structure dataset, see data dictionary scenario. raw input values scenarios based models external third party organisations - World Energy Outlook International Energy Agency (IEA), Global Energy Climate Outlook Joint Research Center European Commission (JRC), One Earth Climate Model Institute Sustainable Futures (ISF) - input data set PACTA must prepared using additional steps, documented publicly following GitHub repositories: pacta.scenario.data.preparation workflow.scenario.preparation Since RMI taken stewardship PACTA, prepared scenario files can also accessed CSV downloads “Methodology Supporting Documents” section PACTA website. files usually updated annually based latest scenario publications general rule, year publication defines initial year scenario data set. commonly also used start year analysis.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_preparatory_steps.html","id":"raw-loan-book","dir":"Articles","previous_headings":"Preparatory Steps > Required Input Data Sets","what":"Raw Loan Book","title":"Preparatory Steps","text":"required input self-prepared CSV file raw loan book financial data set like analyze. contains information loans provided companies. bank, data required available internal systems. raw loan book must prepared CSV files contain minimum following columns: id_loan id_direct_loantaker name_direct_loantaker id_ultimate_parent name_ultimate_parent loan_size_outstanding loan_size_outstanding_currency loan_size_credit_limit loan_size_credit_limit_currency sector_classification_system sector_classification_direct_loantaker lei_direct_loantaker isin_direct_loantaker detail necessary structure dataset, see data dictionary loanbook. detailed descriptions prepare raw loan books, see “Training Materials” section PACTA Banks documentation. “User Guide 2”, “Data Dictionary”, “Loan Book Template” files can helpful preparing data.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_preparatory_steps.html","id":"misclassified-loans-optional","dir":"Articles","previous_headings":"Preparatory Steps > Required Input Data Sets","what":"Misclassified Loans (optional)","title":"Preparatory Steps","text":"optional input self-prepared CSV file user can provide list loans misclassified raw loan book. aim specifically remove false positives, , loans classified scope one PACTA sectors, manual research shows companies actually operate within PACTA scope. false positive may due erroneous data entry raw loan book, example. Removing loans falsely indicated sector calculation match success rate give accurate picture match success rate can really reached.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_preparatory_steps.html","id":"manual-sector-classification-optional","dir":"Articles","previous_headings":"Preparatory Steps > Required Input Data Sets","what":"Manual Sector Classification (optional)","title":"Preparatory Steps","text":"optional input self-prepared CSV file case user obtain sector classification codes classification systems featured r2dii.data::sector_classifications (currently following classification systems featured: GICS, ISIC, NACE, NAICS, PSIC, SIC), user can provide manually created sector classification file matching loan book ABCD instead. Generally, manually prepared sector classification file must follow format r2dii.data::sector_classifications. recommended use built sector classifications possible, mapping sector classification PACTA sectors can complex time consuming.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_preparatory_steps.html","id":"required-software","dir":"Articles","previous_headings":"Preparatory Steps","what":"Required Software","title":"Preparatory Steps","text":"Using r2dii.* suite packages PACTA Banks analysis requires following software installed system:","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_preparatory_steps.html","id":"r-version-4-1-0-or-higher","dir":"Articles","previous_headings":"Preparatory Steps > Required Software","what":"R (version 4.1.0 or higher)","title":"Preparatory Steps","text":"R programming language r2dii.* suite packages written . can download R Comprehensive R Archive Network (CRAN).","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_preparatory_steps.html","id":"rstudio-optional","dir":"Articles","previous_headings":"Preparatory Steps > Required Software","what":"RStudio (optional)","title":"Preparatory Steps","text":"RStudio integrated development environment (IDE) R developed Posit. strictly required run analysis, can helpful managing project running analysis. Generally, RStudio widely used among R community probably easiest way interact R tools, r2dii.* suite packages. RStudio Desktop open source tool free charge. can download RStudio Posit RStudio website.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_preparatory_steps.html","id":"r2dii--suite-of-r-packages","dir":"Articles","previous_headings":"Preparatory Steps > Required Software","what":"r2dii.* suite of R packages","title":"Preparatory Steps","text":"r2dii.* suite R packages main software tool use run PACTA Banks analysis. can install r2dii.* suite R packages CRAN mirror running following command R: can install development versions r2dii.* suite R packages GitHub : use pak package simple tool install packages GitHub.","code":"install.packages(c(\"r2dii.data\", \"r2dii.match\", \"r2dii.analysis\", \"r2dii.plot\")) # install.packages(\"pak\") pak::pak(c(\"RMI-PACTA/r2dii.data\", \"RMI-PACTA/r2dii.match\", \"RMI-PACTA/r2dii.analysis\", \"RMI-PACTA/r2dii.plot\"))"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_preparatory_steps.html","id":"connecting-to-github-from-rstudio","dir":"Articles","previous_headings":"Preparatory Steps > Required Software > r2dii.* suite of R packages","what":"Connecting to GitHub from RStudio","title":"Preparatory Steps","text":"Note choose install r2dii.* suite R packages GitHub, need : registered GitHub account, git installed locally, set credentials RStudio can communicate GitHub. can find information using following resources: Happy Git GitHub useR great comprehensive resource takes process setting git GitHub RStudio, including registering GitHub account, installing git, connecting RStudio GitHub. Additional information managing GitHub connection within RStudio can found usethis package documentation, example managing git credentials. plan use GitHub install package packages shown , deep understanding git commands, need overwhelmed complexity git.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_preparatory_steps.html","id":"required-r-packages","dir":"Articles","previous_headings":"Preparatory Steps > Required Software","what":"Required R packages","title":"Preparatory Steps","text":"r2dii.* suite R packages depends number R packages. dependencies installed automatically install r2dii.* suite R packages. required packages : data.table, dplyr, ggplot2, ggrepel, glue, lifecycle, magrittr, purrr, r2dii.data, rlang, scales, stringdist, stringi, stringr, tibble, tidyr, tidyselect, zoo","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_preparatory_steps.html","id":"how-do-i-install-the-r2dii--suite-of-r-packages","dir":"Articles","previous_headings":"Preparatory Steps > Required Software > FAQ","what":"How do I install the r2dii.* suite of R packages?","title":"Preparatory Steps","text":"common ways install R packages via CRAN GitHub. Public institutions often restrictions installation packages GitHub, may need install package CRAN. cases, institution may mirror CRAN internal application registry, may need install package . issues installation internal application registry, best reach department. obtain package ways, please reach package maintainers directly exploring options.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_preparatory_steps.html","id":"how-do-i-install-the-required-r-packages","dir":"Articles","previous_headings":"Preparatory Steps > Required Software > FAQ","what":"How do I install the required R packages?","title":"Preparatory Steps","text":"principle, dependencies required run r2dii.* suite R packages installed automatically install packages. However, encounter issues installation required packages, can install manually running following command R, ... replaced package names list , separated commas:","code":"install.packages(c(...))"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_preparatory_steps.html","id":"checklist-of-preparatory-steps","dir":"Articles","previous_headings":"Preparatory Steps","what":"Checklist of Preparatory Steps","title":"Preparatory Steps","text":"running PACTA Banks analysis, make sure completed following preparatory steps: Asset-based Company Data (ABCD) Scenario Data Raw Loan Book Misclassified Loans Manual Sector Classification R (version 4.1.0 higher) RStudio (optional) r2dii.* suite R packages set git GitHub (optional) PREVIOUS CHAPTER: Overview NEXT CHAPTER: Running Analysis","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_running_the_analysis.html","id":"setup","dir":"Articles","previous_headings":"","what":"Setup","title":"Running the Analysis","text":"use r2dii.* suite packages access important functions ’ll learn . also use example datasets package r2dii.data, optional convenient functions packages dplyr readxl.","code":"library(r2dii.match) library(r2dii.analysis) library(r2dii.plot) library(r2dii.data) library(dplyr, warn.conflicts = FALSE) library(readxl)"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_running_the_analysis.html","id":"import-data","dir":"Articles","previous_headings":"","what":"Import data","title":"Running the Analysis","text":"need two datasets begin: loanbook asset-based company dataset (abcd). detail necessary structure datasets, see data dictionaries loanbook abcd. simulate data files prepared, use demo data included r2dii.data package create example XLS files using writexl package. Typically, data files stored XLS files computer. example, imported code using readxl package, however, use custom data strictly follow format defined previous section, may need adjust import code /data manipulation R importing.","code":"library(writexl)  writexl::write_xlsx(   x = r2dii.data::loanbook_demo,   path = file.path(tempdir(), \"loanbook.xlsx\") )  writexl::write_xlsx(   x = r2dii.data::abcd_demo,   path = file.path(tempdir(), \"abcd.xlsx\") ) loanbook <- readxl::read_excel(path = file.path(tempdir(), \"loanbook.xlsx\"))  loanbook #> # A tibble: 283 × 13 #>    id_loan id_direct_loantaker name_direct_loantaker       id_ultimate_parent name_ultimate_parent                   loan_size_outstanding loan_size_outstanding_currency loan_size_credit_limit loan_size_credit_limit_currency sector_classification_system sector_classification_direct_loantaker lei_direct_loantaker isin_direct_loantaker #>    <chr>   <chr>               <chr>                       <chr>              <chr>                                                  <dbl> <chr>                                           <dbl> <chr>                           <chr>                        <chr>                                  <chr>                <lgl>                 #>  1 L1      C294                Vitale Group                UP15               Scholz KGaA                                           225625 EUR                                          18968805 EUR                             NACE                         D35.11                                 NA                   NA                    #>  2 L2      C293                Moen-Moen                   UP84               NA                                                    301721 EUR                                          19727961 EUR                             NACE                         D35.11                                 NA                   NA                    #>  3 L3      C292                Rowe-Rowe                   UP288              Harvey, Harvey and Harvey                             410297 EUR                                          20811147 EUR                             NACE                         D35.11                                 801600ATB1D513IUFZ77 NA                    #>  4 L4      C299                Fadel-Fadel                 UP54               NA                                                    233049 EUR                                          19042869 EUR                             NACE                         D35.11                                 NA                   NA                    #>  5 L5      C305                Ring AG & Co. KGaA          UP104              Conti, Conti e Conti SPA                              406585 EUR                                          20774115 EUR                             NACE                         D35.11                                 NA                   NA                    #>  6 L6      C304                Kassulke-Kassulke           UP83               Farrell, Farrell and Farrell                          185721 EUR                                          18570711 EUR                             NACE                         D35.11                                 108200TUBGG1DR0QR635 NA                    #>  7 L7      C227                Morissette Group            UP134              Weller AG                                             184793 EUR                                          18561453 EUR                             NACE                         D35.11                                 NA                   NA                    #>  8 L8      C303                Barone s.r.l.               UP163              Williamsonn PLC                                       291513 EUR                                          19626123 EUR                             NACE                         D35.11                                 NA                   NA                    #>  9 L9      C301                Werner Werner AG & Co. KGaA UP138              Leone-Leone s.r.l.                                    407513 EUR                                          20783373 EUR                             NACE                         D35.11                                 NA                   NA                    #> 10 L10     C302                De rosa s.r.l.              UP32               Benedetti, Benedetti e Benedetti Group                186649 EUR                                          18579969 EUR                             NACE                         D35.11                                 NA                   NA                    #> # ℹ 273 more rows  abcd <- readxl::read_excel(path = file.path(tempdir(), \"abcd.xlsx\"))  abcd #> # A tibble: 4,972 × 12 #>    company_id name_company                          lei                  sector technology          production_unit  year production emission_factor plant_location is_ultimate_owner emission_factor_unit              #>    <chr>      <chr>                                 <chr>                <chr>  <chr>               <chr>           <dbl>      <dbl>           <dbl> <chr>          <lgl>             <chr>                             #>  1 175        Giordano, Giordano e Giordano e figli 18500033XH6RG332SX89 power  hydrocap            MW               2020    121032.          NA     MY             TRUE              tonnes of CO2 per per hour per MW #>  2 175        Giordano, Giordano e Giordano e figli 18500033XH6RG332SX89 power  hydrocap            MW               2021    119274.          NA     MY             TRUE              tonnes of CO2 per per hour per MW #>  3 175        Giordano, Giordano e Giordano e figli 18500033XH6RG332SX89 power  hydrocap            MW               2022    117515.          NA     MY             TRUE              tonnes of CO2 per per hour per MW #>  4 175        Giordano, Giordano e Giordano e figli 18500033XH6RG332SX89 power  hydrocap            MW               2023    115757.          NA     MY             TRUE              tonnes of CO2 per per hour per MW #>  5 175        Giordano, Giordano e Giordano e figli 18500033XH6RG332SX89 power  hydrocap            MW               2024    113999.          NA     MY             TRUE              tonnes of CO2 per per hour per MW #>  6 175        Giordano, Giordano e Giordano e figli 18500033XH6RG332SX89 power  hydrocap            MW               2025    112240.          NA     MY             TRUE              tonnes of CO2 per per hour per MW #>  7 526        Vitali, Vitali e Vitali s.r.l.        887100CAVZ6Y3KYT3Q90 cement integrated facility tonnes per year  2020   6327858.           0.723 CI             TRUE              tonnes of CO2 per tonne of cement #>  8 526        Vitali, Vitali e Vitali s.r.l.        887100CAVZ6Y3KYT3Q90 cement integrated facility tonnes per year  2021   6569983.           0.735 CI             TRUE              tonnes of CO2 per tonne of cement #>  9 526        Vitali, Vitali e Vitali s.r.l.        887100CAVZ6Y3KYT3Q90 cement integrated facility tonnes per year  2022   6812108.           0.746 CI             TRUE              tonnes of CO2 per tonne of cement #> 10 526        Vitali, Vitali e Vitali s.r.l.        887100CAVZ6Y3KYT3Q90 cement integrated facility tonnes per year  2023   7054232.           0.758 CI             TRUE              tonnes of CO2 per tonne of cement #> # ℹ 4,962 more rows"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_running_the_analysis.html","id":"score-the-match-precision-between-the-loanbook-and-abcd-datasets","dir":"Articles","previous_headings":"","what":"Score the match precision between the loanbook and abcd datasets","title":"Running the Analysis","text":"match_name() scores match names loanbook dataset names asset-based company dataset. names come columns name_direct_loantaker name_ultimate_parent loanbook dataset, column name_company asset-based company dataset. loan book data set, possible optionally add number name_intermediate_parent_* columns, * indicates level corporate tree direct_loantaker. raw names internally transformed applying best-practices commonly used name matching algorithms, : Remove special characters Replace language specific characters Abbreviate certain names reduce importance matching Remove corporate suffixes necessary Spell numbers increase importance similarity scored internally-transformed names loanbook names abcd. information scoring algorithm used, see stringdist::stringsim(). match_name() defaults scoring matches name strings belong sector. Using by_sector = FALSE removes limitation – increasing computation time, number potentially incorrect matches manually validate. min_score argument allows set minimum threshold score.","code":"matched <- match_name(loanbook, abcd)  matched #> # A tibble: 326 × 22 #>    id_loan id_direct_loantaker name_direct_loantaker       id_ultimate_parent name_ultimate_parent         loan_size_outstanding loan_size_outstanding_currency loan_size_credit_limit loan_size_credit_limit_currency sector_classification_system sector_classification_direct_loantaker lei_direct_loantaker isin_direct_loantaker id_2dii level   sector sector_abcd name  name_abcd score source borderline #>    <chr>   <chr>               <chr>                       <chr>              <chr>                                        <dbl> <chr>                                           <dbl> <chr>                           <chr>                        <chr>                                  <chr>                <lgl>                 <chr>   <chr>   <chr>  <chr>       <chr> <chr>     <dbl> <chr>  <lgl>      #>  1 L1      C294                Vitale Group                UP15               Scholz KGaA                                 225625 EUR                                          18968805 EUR                             NACE                         D35.11                                 NA                   NA                    UP190   ultima… power  power       Scho… Scholz K… 1     loanb… FALSE      #>  2 L3      C292                Rowe-Rowe                   UP288              Harvey, Harvey and Harvey                   410297 EUR                                          20811147 EUR                             NACE                         D35.11                                 801600ATB1D513IUFZ77 NA                    UP101   ultima… power  power       Harv… Harvey, … 1     loanb… FALSE      #>  3 L5      C305                Ring AG & Co. KGaA          UP104              Conti, Conti e Conti SPA                    406585 EUR                                          20774115 EUR                             NACE                         D35.11                                 NA                   NA                    UP39    ultima… power  power       Cont… Conti, C… 1     loanb… FALSE      #>  4 L6      C304                Kassulke-Kassulke           UP83               Farrell, Farrell and Farrell                185721 EUR                                          18570711 EUR                             NACE                         D35.11                                 108200TUBGG1DR0QR635 NA                    DL129   direct… power  power       Kass… Kassulke… 1     loanb… FALSE      #>  5 L6      C304                Kassulke-Kassulke           UP83               Farrell, Farrell and Farrell                185721 EUR                                          18570711 EUR                             NACE                         D35.11                                 108200TUBGG1DR0QR635 NA                    UP63    ultima… power  power       Farr… Farrell,… 1     loanb… FALSE      #>  6 L7      C227                Morissette Group            UP134              Weller AG                                   184793 EUR                                          18561453 EUR                             NACE                         D35.11                                 NA                   NA                    DL179   direct… power  power       Mori… Moretti … 0.911 loanb… FALSE      #>  7 L7      C227                Morissette Group            UP134              Weller AG                                   184793 EUR                                          18561453 EUR                             NACE                         D35.11                                 NA                   NA                    UP224   ultima… power  power       Well… Weller AG 1     loanb… FALSE      #>  8 L8      C303                Barone s.r.l.               UP163              Williamsonn PLC                             291513 EUR                                          19626123 EUR                             NACE                         D35.11                                 NA                   NA                    UP228   ultima… power  power       Will… Williams… 0.987 loanb… FALSE      #>  9 L9      C301                Werner Werner AG & Co. KGaA UP138              Leone-Leone s.r.l.                          407513 EUR                                          20783373 EUR                             NACE                         D35.11                                 NA                   NA                    DL274   direct… power  power       Wern… Wende We… 0.844 loanb… FALSE      #> 10 L9      C301                Werner Werner AG & Co. KGaA UP138              Leone-Leone s.r.l.                          407513 EUR                                          20783373 EUR                             NACE                         D35.11                                 NA                   NA                    UP132   ultima… power  power       Leon… Leone-Le… 1     loanb… FALSE      #> # ℹ 316 more rows match_name(loanbook, abcd, by_sector = FALSE) %>% nrow() #> [1] 656  # Compare to match_name(loanbook, abcd, by_sector = TRUE) %>% nrow() #> [1] 326 match_name(loanbook, abcd, min_score = 0.9) %>%   pull(score) %>%   range() #> [1] 0.9007692 1.0000000"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_running_the_analysis.html","id":"validate-matches","dir":"Articles","previous_headings":"","what":"Validate matches","title":"Running the Analysis","text":"Write output match_name() .csv file, example using readr save CSV file: Compare, edit, save data manually: Open matched.csv spreadsheet editor (Excel, Google Sheets, etc.). Compare columns name name_abcd manually determine match valid. information can used conjunction just names ensure two entities match (sector, internal information company structure, etc.) happy match, set score value 1. Otherwise set leave score value anything 1. Save edited file , example, valid_matches.csv. Re-import edited file (validated), example using readr read CSV file: information validating matches, please see documentation prioritize().","code":"readr::write_csv(x = matched, file = file.path(tempdir(), \"matched.csv\")) valid_matches <- readr::read_csv(file = file.path(tempdir(), \"valid_matches.csv\"), show_col_types = FALSE)"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_running_the_analysis.html","id":"prioritize-validated-matches-by-level","dir":"Articles","previous_headings":"","what":"Prioritize validated matches by level","title":"Running the Analysis","text":"validated dataset may multiple matches per loan. Consider case loan given “Acme Power USA”, subsidiary “Acme Power Co.”. may “Acme Power USA” “Acme Power Co.” abcd, two valid matches loan. get best match , use prioritize() – picks rows score 1 level per loan highest priority: default, highest priority refers granular match (direct_loantaker). default priority set internally via prioritize_level(). may use different priority. One way pass function priority. example, use rev() reverse default priority.","code":"some_interesting_columns <- c(\"id_2dii\", \"level\", \"score\")  prioritized_matches <-   valid_matches %>%   prioritize()  prioritized_matches %>% select(all_of(some_interesting_columns)) #> # A tibble: 177 × 3 #>    id_2dii level            score #>    <chr>   <chr>            <dbl> #>  1 DL129   direct_loantaker     1 #>  2 DL144   direct_loantaker     1 #>  3 DL270   direct_loantaker     1 #>  4 DL86    direct_loantaker     1 #>  5 DL5     direct_loantaker     1 #>  6 DL80    direct_loantaker     1 #>  7 DL150   direct_loantaker     1 #>  8 DL3     direct_loantaker     1 #>  9 DL65    direct_loantaker     1 #> 10 DL79    direct_loantaker     1 #> # ℹ 167 more rows prioritize_level(valid_matches) #> [1] \"direct_loantaker\" \"ultimate_parent\" valid_matches %>%   prioritize(priority = rev) %>%   select(all_of(some_interesting_columns)) #> # A tibble: 177 × 3 #>    id_2dii level           score #>    <chr>   <chr>           <dbl> #>  1 UP190   ultimate_parent     1 #>  2 UP101   ultimate_parent     1 #>  3 UP39    ultimate_parent     1 #>  4 UP63    ultimate_parent     1 #>  5 UP224   ultimate_parent     1 #>  6 UP132   ultimate_parent     1 #>  7 UP12    ultimate_parent     1 #>  8 UP20    ultimate_parent     1 #>  9 UP134   ultimate_parent     1 #> 10 UP127   ultimate_parent     1 #> # ℹ 167 more rows"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_running_the_analysis.html","id":"a-note-on-sector-classifications-and-the-borderline-flag","dir":"Articles","previous_headings":"","what":"A Note on Sector Classifications and the borderline Flag","title":"Running the Analysis","text":"note sector classification: Matches preferred sector loanbook matches sector abcd. loanbook sector determined internally using sector_classification_system sector_classification_direct_loantaker columns. Currently, allow couple specific values sector_classification_system, specified r2dii.data::sector_classifications: GICS, ISIC, NACE, NAICS, PSIC, SIC like use different classification system, please raise issue r2dii.data can incorporate . zoo sector classification code systems . granular, . Since currently cover particular portion supply chain (.e. production), important try match ABCD companies actually active portion supply chain. issue arises , example, company classified “power transmission” sector. perfect world, companies produce electricity, try match . practice, however, find often overlap. reason, introduced borderline flag. example , see two classification codes coming SIC classification standard: Notice code D35.11 corresponds power generation. identical match PACTA’s power sector, thus borderline flag set FALSE. contrast, code D35.14 corresponds distribution electricity. perfect world, set code scope, however still chance companies produce electricity. reason, mapped power borderline = TRUE. practice, company borderline TRUE matched, consider company scope. borderline TRUE isn’t matched, consider scope.","code":"r2dii.data::nace_classification %>%    filter(code %in% c(\"D35.11\", \"D35.14\")) #> # A tibble: 2 × 6 #>   original_code description                      code  sector borderline version #>   <chr>         <chr>                            <chr> <chr>  <lgl>      <chr>   #> 1 35.11         35.11 Production of electricity… D35.… power  FALSE      2.1     #> 2 35.14         35.14 Distribution of electrici… D35.… power  TRUE       2.1"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_running_the_analysis.html","id":"calculate-targets","dir":"Articles","previous_headings":"","what":"Calculate targets","title":"Running the Analysis","text":"can calculate scenario targets using two different approaches: Market Share Approach, Sectoral Decarbonization Approach.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_running_the_analysis.html","id":"market-share-approach","dir":"Articles","previous_headings":"Calculate targets","what":"Market Share Approach","title":"Running the Analysis","text":"Market Share Approach used calculate scenario targets production technology sector. example, can use approach set targets production electric vehicles automotive sector. approach recommended sectors granular technology scenario roadmap exists. Targets can set portfolio level: company level:","code":"# Use these datasets to practice but eventually you should use your own data. scenario <- r2dii.data::scenario_demo_2020 regions <- r2dii.data::region_isos_demo  market_share_targets_portfolio <-   target_market_share(     data = prioritized_matches,     abcd = abcd,     scenario = scenario,     region_isos = regions   )  market_share_targets_portfolio #> # A tibble: 1,076 × 10 #>    sector     technology  year region scenario_source metric     production technology_share scope  percentage_of_initial_production_by_scope #>    <chr>      <chr>      <dbl> <chr>  <chr>           <chr>           <dbl>            <dbl> <chr>                                      <dbl> #>  1 automotive electric    2020 global demo_2020       projected     145649.            0.165 sector                                  0        #>  2 automotive electric    2020 global demo_2020       target_cps    145649.            0.165 sector                                  0        #>  3 automotive electric    2020 global demo_2020       target_sds    145649.            0.165 sector                                  0        #>  4 automotive electric    2020 global demo_2020       target_sps    145649.            0.165 sector                                  0        #>  5 automotive electric    2021 global demo_2020       projected     147480.            0.165 sector                                  0.000739 #>  6 automotive electric    2021 global demo_2020       target_cps    146915.            0.165 sector                                  0.000511 #>  7 automotive electric    2021 global demo_2020       target_sds    153332.            0.167 sector                                  0.00310  #>  8 automotive electric    2021 global demo_2020       target_sps    147258.            0.165 sector                                  0.000649 #>  9 automotive electric    2022 global demo_2020       projected     149310.            0.165 sector                                  0.00148  #> 10 automotive electric    2022 global demo_2020       target_cps    148155.            0.164 sector                                  0.00101  #> # ℹ 1,066 more rows market_share_targets_company <-   target_market_share(     data = prioritized_matches,     abcd = abcd,     scenario = scenario,     region_isos = regions,     by_company = TRUE, # Output results at company-level     weight_production = FALSE   )  market_share_targets_company #> # A tibble: 14,505 × 11 #>    sector     technology  year region scenario_source name_abcd                         metric     production technology_share scope  percentage_of_initial_production_by_scope #>    <chr>      <chr>      <dbl> <chr>  <chr>           <chr>                             <chr>           <dbl>            <dbl> <chr>                                      <dbl> #>  1 automotive electric    2020 global demo_2020       Bernardi, Bernardi e Bernardi SPA projected     324592.           0.0759 sector                                         0 #>  2 automotive electric    2020 global demo_2020       Bernardi, Bernardi e Bernardi SPA target_cps    324592.           0.0759 sector                                         0 #>  3 automotive electric    2020 global demo_2020       Bernardi, Bernardi e Bernardi SPA target_sds    324592.           0.0759 sector                                         0 #>  4 automotive electric    2020 global demo_2020       Bernardi, Bernardi e Bernardi SPA target_sps    324592.           0.0759 sector                                         0 #>  5 automotive electric    2020 global demo_2020       Christiansen PLC                  projected     512438.           0.130  sector                                         0 #>  6 automotive electric    2020 global demo_2020       Christiansen PLC                  target_cps    512438.           0.130  sector                                         0 #>  7 automotive electric    2020 global demo_2020       Christiansen PLC                  target_sds    512438.           0.130  sector                                         0 #>  8 automotive electric    2020 global demo_2020       Christiansen PLC                  target_sps    512438.           0.130  sector                                         0 #>  9 automotive electric    2020 global demo_2020       Donati, Donati e Donati s.r.l.    projected     277214.           1      sector                                         0 #> 10 automotive electric    2020 global demo_2020       Donati, Donati e Donati s.r.l.    target_cps    277214.           1      sector                                         0 #> # ℹ 14,495 more rows"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_running_the_analysis.html","id":"sectoral-decarbonization-approach","dir":"Articles","previous_headings":"Calculate targets","what":"Sectoral Decarbonization Approach","title":"Running the Analysis","text":"Sectoral Decarbonization Approach used calculate scenario targets emission_factor sector. example, can use approach set targets average emission factor cement sector. approach recommended sectors lacking technology roadmaps. company level: PREVIOUS CHAPTER: Preparatory Steps NEXT CHAPTER: Interpretation Results","code":"# Use this dataset to practice but eventually you should use your own data. co2 <- r2dii.data::co2_intensity_scenario_demo  sda_targets <-   target_sda(     data = prioritized_matches,     abcd = abcd,     co2_intensity_scenario = co2,     region_isos = regions   ) %>%    filter(sector == \"cement\", year >= 2020) #> Warning: Removing rows in abcd where `emission_factor` is NA  sda_targets #> # A tibble: 110 × 6 #>    sector  year region             scenario_source emission_factor_metric emission_factor_value #>    <chr>  <dbl> <chr>              <chr>           <chr>                                  <dbl> #>  1 cement  2020 advanced economies demo_2020       projected                             0.0230 #>  2 cement  2020 developing asia    demo_2020       projected                             0.0595 #>  3 cement  2020 global             demo_2020       projected                             0.664  #>  4 cement  2021 advanced economies demo_2020       projected                             0.0232 #>  5 cement  2021 developing asia    demo_2020       projected                             0.0594 #>  6 cement  2021 global             demo_2020       projected                             0.665  #>  7 cement  2022 advanced economies demo_2020       projected                             0.0233 #>  8 cement  2022 developing asia    demo_2020       projected                             0.0592 #>  9 cement  2022 global             demo_2020       projected                             0.666  #> 10 cement  2023 advanced economies demo_2020       projected                             0.0235 #> # ℹ 100 more rows sda_targets_company <-   target_sda(     data = prioritized_matches,     abcd = abcd,     co2_intensity_scenario = co2,     region_isos = regions,     by_company = TRUE # Output results at company-level   ) #> Warning: Removing rows in abcd where `emission_factor` is NA  sda_targets_company #> # A tibble: 966 × 7 #>    sector  year region             scenario_source name_abcd                          emission_factor_metric emission_factor_value #>    <chr>  <dbl> <chr>              <chr>           <chr>                              <chr>                                  <dbl> #>  1 cement  2020 advanced economies demo_2020       Milani, Milani e Milani SPA        projected                              0.714 #>  2 cement  2020 developing asia    demo_2020       Heidrich GmbH                      projected                              0.675 #>  3 cement  2020 developing asia    demo_2020       Hovel Hovel GmbH & Co. KGaA        projected                              0.622 #>  4 cement  2020 global             demo_2020       Battaglia-Battaglia Group          projected                              0.626 #>  5 cement  2020 global             demo_2020       Bergstrom, Bergstrom and Bergstrom projected                              0.607 #>  6 cement  2020 global             demo_2020       Carsten GmbH & Co. KG              projected                              0.625 #>  7 cement  2020 global             demo_2020       Crist-Crist                        projected                              0.655 #>  8 cement  2020 global             demo_2020       Durgan-Durgan                      projected                              0.702 #>  9 cement  2020 global             demo_2020       Eberhardt Eberhardt GmbH           projected                              0.685 #> 10 cement  2020 global             demo_2020       Geissler Geissler AG & Co. KGaA    projected                              0.637 #> # ℹ 956 more rows"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/data_abcd.html","id":"abcd-dataset","dir":"Articles","previous_headings":"","what":"ABCD dataset","title":"ABCD","text":"asset-based company dataset (ABCD) physical assets (e.g. wind turbine power plant, steel mill), aggregated company-level. data used assess climate alignment financial portfolios climate transition pathways. usually based data market-intelligence databases. r2dii.data package provides example loanbook dataset r2dii.data::abcd_demo.","code":"r2dii.data::abcd_demo #> # A tibble: 4,972 × 12 #>    company_id name_company                          lei                  sector technology          production_unit  year production emission_factor plant_location is_ultimate_owner emission_factor_unit              #>    <chr>      <chr>                                 <chr>                <chr>  <chr>               <chr>           <int>      <dbl>           <dbl> <chr>          <lgl>             <chr>                             #>  1 175        Giordano, Giordano e Giordano e figli 18500033XH6RG332SX89 power  hydrocap            MW               2020    121032.          NA     MY             TRUE              tonnes of CO2 per per hour per MW #>  2 175        Giordano, Giordano e Giordano e figli 18500033XH6RG332SX89 power  hydrocap            MW               2021    119274.          NA     MY             TRUE              tonnes of CO2 per per hour per MW #>  3 175        Giordano, Giordano e Giordano e figli 18500033XH6RG332SX89 power  hydrocap            MW               2022    117515.          NA     MY             TRUE              tonnes of CO2 per per hour per MW #>  4 175        Giordano, Giordano e Giordano e figli 18500033XH6RG332SX89 power  hydrocap            MW               2023    115757.          NA     MY             TRUE              tonnes of CO2 per per hour per MW #>  5 175        Giordano, Giordano e Giordano e figli 18500033XH6RG332SX89 power  hydrocap            MW               2024    113999.          NA     MY             TRUE              tonnes of CO2 per per hour per MW #>  6 175        Giordano, Giordano e Giordano e figli 18500033XH6RG332SX89 power  hydrocap            MW               2025    112240.          NA     MY             TRUE              tonnes of CO2 per per hour per MW #>  7 526        Vitali, Vitali e Vitali s.r.l.        887100CAVZ6Y3KYT3Q90 cement integrated facility tonnes per year  2020   6327858.           0.723 CI             TRUE              tonnes of CO2 per tonne of cement #>  8 526        Vitali, Vitali e Vitali s.r.l.        887100CAVZ6Y3KYT3Q90 cement integrated facility tonnes per year  2021   6569983.           0.735 CI             TRUE              tonnes of CO2 per tonne of cement #>  9 526        Vitali, Vitali e Vitali s.r.l.        887100CAVZ6Y3KYT3Q90 cement integrated facility tonnes per year  2022   6812108.           0.746 CI             TRUE              tonnes of CO2 per tonne of cement #> 10 526        Vitali, Vitali e Vitali s.r.l.        887100CAVZ6Y3KYT3Q90 cement integrated facility tonnes per year  2023   7054232.           0.758 CI             TRUE              tonnes of CO2 per tonne of cement #> # ℹ 4,962 more rows"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/data_classification.html","id":"sector-classifications-dataset","dir":"Articles","previous_headings":"","what":"sector classifications dataset","title":"Classification","text":"dataset contains currently supported translation keys sector classification systems sector scopes used ‘PACTA’ software. r2dii.data package provides sector classification dataset r2dii.data::sector_classifications contains sector mapping supported sector classification systems (currently: GICS, ISIC, NACE, NAICS, PSIC, SIC).","code":"r2dii.data::sector_classifications #> # A tibble: 6,559 × 4 #>    sector       borderline code     code_system #>    <chr>        <lgl>      <chr>    <chr>       #>  1 not in scope FALSE      10       GICS        #>  2 not in scope FALSE      1010     GICS        #>  3 not in scope FALSE      101010   GICS        #>  4 not in scope FALSE      10101010 GICS        #>  5 not in scope FALSE      10101020 GICS        #>  6 oil and gas  FALSE      101020   GICS        #>  7 oil and gas  FALSE      10102010 GICS        #>  8 oil and gas  FALSE      10102020 GICS        #>  9 oil and gas  TRUE       10102030 GICS        #> 10 oil and gas  TRUE       10102040 GICS        #> # ℹ 6,549 more rows"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/data_classification.html","id":"gics-classification-dataset","dir":"Articles","previous_headings":"","what":"GICS classification dataset","title":"Classification","text":"dataset serves translation key GICS sector-classification system sector scopes used ‘PACTA’ software. r2dii.data package provides GICS classification dataset r2dii.data::gics_classification.","code":"r2dii.data::gics_classification #> # A tibble: 282 × 5 #>    description                                                                                                                                                                                                                                  code     sector       borderline version #>    <chr>                                                                                                                                                                                                                                        <chr>    <chr>        <lgl>      <chr>   #>  1 Energy                                                                                                                                                                                                                                       10       not in scope FALSE      2023    #>  2 Energy                                                                                                                                                                                                                                       1010     not in scope FALSE      2023    #>  3 Energy Equipment & Services                                                                                                                                                                                                                  101010   not in scope FALSE      2023    #>  4 Drilling contractors or owners of drilling rigs that contract their services for drilling wells.                                                                                                                                             10101010 not in scope FALSE      2023    #>  5 Manufacturers of equipment, including drilling rigs and equipment, and providers of supplies and services to companies involved in the drilling, evaluation and completion of oil and gas wells.                                             10101020 not in scope FALSE      2023    #>  6 Oil, Gas & Consumable Fuels                                                                                                                                                                                                                  101020   oil and gas  FALSE      2023    #>  7 Integrated oil companies engaged in the exploration & production of oil and gas, as well as at least one other significant activity in either refining, marketing and transportation, or chemicals.                                          10102010 oil and gas  FALSE      2023    #>  8 Companies engaged in the exploration and production of oil and gas not classified elsewhere.                                                                                                                                                 10102020 oil and gas  FALSE      2023    #>  9 Companies engaged in the refining and marketing of oil, gas and/or refined products not classified in the Integrated Oil & Gas or Independent Power Producers & Energy Traders Sub-Industries.                                               10102030 oil and gas  TRUE       2023    #> 10 Companies engaged in the storage and/or transportation of oil, gas and/or refined products. Includes diversified midstream natural gas companies, oil and refined product pipelines, coal slurry pipelines and oil & gas shipping companies. 10102040 oil and gas  TRUE       2023    #> # ℹ 272 more rows"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/data_classification.html","id":"isic-rev-5-classification-dataset","dir":"Articles","previous_headings":"","what":"ISIC Rev 5 classification dataset","title":"Classification","text":"dataset serves translation key ISIC Rev 5 sector-classification system sector scopes used ‘PACTA’ software. r2dii.data package provides ISIC Rev 5 classification dataset r2dii.data::isic_classification. r2dii.data package provides ISIC Rev 5 classification dataset r2dii.data::isic_classification.","code":"r2dii.data::isic_classification #> # A tibble: 830 × 6 #>    original_code description                                                        code  sector       borderline revision #>    <chr>         <chr>                                                              <chr> <chr>        <lgl>      <chr>    #>  1 A             Agriculture, forestry and fishing                                  A     not in scope FALSE      5        #>  2 01            Crop and animal production, hunting and related service activities A01   not in scope FALSE      5        #>  3 011           Growing of non-perennial crops                                     A011  not in scope FALSE      5        #>  4 0111          Growing of cereals (except rice), leguminous crops and oil seeds   A0111 not in scope FALSE      5        #>  5 0112          Growing of rice                                                    A0112 not in scope FALSE      5        #>  6 0113          Growing of vegetables and melons, roots and tubers                 A0113 not in scope FALSE      5        #>  7 0114          Growing of sugar cane                                              A0114 not in scope FALSE      5        #>  8 0115          Growing of tobacco                                                 A0115 not in scope FALSE      5        #>  9 0116          Growing of fibre crops                                             A0116 not in scope FALSE      5        #> 10 0119          Growing of other non-perennial crops                               A0119 not in scope FALSE      5        #> # ℹ 820 more rows"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/data_classification.html","id":"nace-version-2-1-classification-dataset","dir":"Articles","previous_headings":"","what":"NACE version 2.1 classification dataset","title":"Classification","text":"dataset serves translation key NACE version 2.1 sector-classification system sector scopes used ‘PACTA’ software. r2dii.data package provides NACE version 2.1 classification dataset r2dii.data::nace_classification.","code":"r2dii.data::nace_classification #> # A tibble: 1,047 × 6 #>    original_code description                                                               code   sector       borderline version #>    <chr>         <chr>                                                                     <chr>  <chr>        <lgl>      <chr>   #>  1 01            01 Crop and animal production, hunting and related service activities     A01    not in scope FALSE      2.1     #>  2 01.1          01.1 Growing of non-perennial crops                                       A01.1  not in scope FALSE      2.1     #>  3 01.11         01.11 Growing of cereals, other than rice, leguminous crops and oil seeds A01.11 not in scope FALSE      2.1     #>  4 01.12         01.12 Growing of rice                                                     A01.12 not in scope FALSE      2.1     #>  5 01.13         01.13 Growing of vegetables and melons, roots and tubers                  A01.13 not in scope FALSE      2.1     #>  6 01.14         01.14 Growing of sugar cane                                               A01.14 not in scope FALSE      2.1     #>  7 01.15         01.15 Growing of tobacco                                                  A01.15 not in scope FALSE      2.1     #>  8 01.16         01.16 Growing of fibre crops                                              A01.16 not in scope FALSE      2.1     #>  9 01.19         01.19 Growing of other non-perennial crops                                A01.19 not in scope FALSE      2.1     #> 10 01.2          01.2 Growing of perennial crops                                           A01.2  not in scope FALSE      2.1     #> # ℹ 1,037 more rows"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/data_classification.html","id":"psic-classification-dataset","dir":"Articles","previous_headings":"","what":"PSIC classification dataset","title":"Classification","text":"dataset serves translation key PSIC sector-classification system sector scopes used ‘PACTA’ software. r2dii.data package provides PSIC classification dataset r2dii.data::psic_classification.","code":"r2dii.data::psic_classification #> # A tibble: 1,271 × 5 #>    description                                                                                                                                       code  sector       borderline version #>    <chr>                                                                                                                                             <chr> <chr>        <lgl>      <chr>   #>  1 Growing of leguminous crops such as: mongo, string beans (sitao), pigeon peas, gisantes, garbanzos, bountiful beans (habichuelas), peas (sitsaro) 1111  not in scope FALSE      2019    #>  2 Growing of ground nuts                                                                                                                            1112  not in scope FALSE      2019    #>  3 Growing of oil seeds (except ground nuts) such as soya beans, sunflower and growing of other oil seeds,  n.e.c.                                   1113  not in scope FALSE      2019    #>  4 Growing of  sorghum, wheat                                                                                                                        1114  not in scope FALSE      2019    #>  5 Growing of other cereals (except rice and corn), leguminous crops and oil seeds, n.e.c.                                                           1119  not in scope FALSE      2019    #>  6 Growing of paddy rice, lowland, irrigated                                                                                                         1121  not in scope FALSE      2019    #>  7 Growing of paddy rice, lowland, rainfed                                                                                                           1122  not in scope FALSE      2019    #>  8 Growing of paddy rice, upland/kaingin                                                                                                             1123  not in scope FALSE      2019    #>  9 Growing of corn, expcept young corn (vegetable)                                                                                                   1130  not in scope FALSE      2019    #> 10 Growing of sugarcane including muscovado sugar-making in the farm                                                                                 1140  not in scope FALSE      2019    #> # ℹ 1,261 more rows"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/data_classification.html","id":"sic-classification-dataset","dir":"Articles","previous_headings":"","what":"SIC classification dataset","title":"Classification","text":"dataset serves translation key SIC sector-classification system sector scopes used ‘PACTA’ software. r2dii.data package provides SIC classification dataset r2dii.data::sic_classification.","code":"r2dii.data::sic_classification #> # A tibble: 1,005 × 5 #>    description                                               code  sector       borderline version #>    <chr>                                                     <chr> <chr>        <lgl>      <chr>   #>  1 Wheat                                                     0111  not in scope FALSE      1987    #>  2 Rice                                                      0112  not in scope FALSE      1987    #>  3 Corn                                                      0115  not in scope FALSE      1987    #>  4 Soybeans                                                  0116  not in scope FALSE      1987    #>  5 Cash Grains, Not Elsewhere Classified                     0119  not in scope FALSE      1987    #>  6 Cotton                                                    0131  not in scope FALSE      1987    #>  7 Tobacco                                                   0132  not in scope FALSE      1987    #>  8 Sugarcane and Sugar Beets                                 0133  not in scope FALSE      1987    #>  9 Irish Potatoes                                            0134  not in scope FALSE      1987    #> 10 Field Crops, Except Cash Grains, Not Elsewhere Classified 0139  not in scope FALSE      1987    #> # ℹ 995 more rows"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/data_loanbook.html","id":"loanbook-dataset","dir":"Articles","previous_headings":"","what":"Loanbook dataset","title":"Loanbook","text":"Loanbook dataset, prepared user raw input PACTA Banks software. r2dii.data package provides example loanbook dataset r2dii.data::loanbook_demo.","code":"r2dii.data::loanbook_demo #> # A tibble: 283 × 13 #>    id_loan id_direct_loantaker name_direct_loantaker       id_ultimate_parent name_ultimate_parent                   loan_size_outstanding loan_size_outstanding_currency loan_size_credit_limit loan_size_credit_limit_currency sector_classification_system sector_classification_direct_loantaker lei_direct_loantaker isin_direct_loantaker #>    <chr>   <chr>               <chr>                       <chr>              <chr>                                                  <dbl> <chr>                                           <dbl> <chr>                           <chr>                        <chr>                                  <chr>                <chr>                 #>  1 L1      C294                Vitale Group                UP15               Scholz KGaA                                           225625 EUR                                          18968805 EUR                             NACE                         D35.11                                 NA                   NA                    #>  2 L2      C293                Moen-Moen                   UP84               NA                                                    301721 EUR                                          19727961 EUR                             NACE                         D35.11                                 NA                   NA                    #>  3 L3      C292                Rowe-Rowe                   UP288              Harvey, Harvey and Harvey                             410297 EUR                                          20811147 EUR                             NACE                         D35.11                                 801600ATB1D513IUFZ77 NA                    #>  4 L4      C299                Fadel-Fadel                 UP54               NA                                                    233049 EUR                                          19042869 EUR                             NACE                         D35.11                                 NA                   NA                    #>  5 L5      C305                Ring AG & Co. KGaA          UP104              Conti, Conti e Conti SPA                              406585 EUR                                          20774115 EUR                             NACE                         D35.11                                 NA                   NA                    #>  6 L6      C304                Kassulke-Kassulke           UP83               Farrell, Farrell and Farrell                          185721 EUR                                          18570711 EUR                             NACE                         D35.11                                 108200TUBGG1DR0QR635 NA                    #>  7 L7      C227                Morissette Group            UP134              Weller AG                                             184793 EUR                                          18561453 EUR                             NACE                         D35.11                                 NA                   NA                    #>  8 L8      C303                Barone s.r.l.               UP163              Williamsonn PLC                                       291513 EUR                                          19626123 EUR                             NACE                         D35.11                                 NA                   NA                    #>  9 L9      C301                Werner Werner AG & Co. KGaA UP138              Leone-Leone s.r.l.                                    407513 EUR                                          20783373 EUR                             NACE                         D35.11                                 NA                   NA                    #> 10 L10     C302                De rosa s.r.l.              UP32               Benedetti, Benedetti e Benedetti Group                186649 EUR                                          18579969 EUR                             NACE                         D35.11                                 NA                   NA                    #> # ℹ 273 more rows"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/data_scenario.html","id":"climate-transition-scenario-dataset-technology-pathways-for-target-market-share-calculation","dir":"Articles","previous_headings":"","what":"Climate transition scenario dataset (technology pathways for target market share calculation)","title":"Scenario","text":"Climate transition scenario dataset, prepared PACTA Banks software, e.g. based scenarios International Energy Agency (IEA). Includes relative change time production across industrial sectors technologies. r2dii.data package provides example climate transition scenario dataset r2dii.data::scenario_demo_2020.","code":"r2dii.data::scenario_demo_2020 #> # A tibble: 1,512 × 8 #>    scenario sector     technology region  year  tmsr    smsp scenario_source #>    <chr>    <chr>      <chr>      <chr>  <int> <dbl>   <dbl> <chr>           #>  1 cps      automotive electric   global  2020  1    0       demo_2020       #>  2 cps      automotive hybrid     global  2020  1    0       demo_2020       #>  3 cps      automotive ice        global  2020  1    0       demo_2020       #>  4 cps      automotive electric   global  2021  1.12 0.00108 demo_2020       #>  5 cps      automotive hybrid     global  2021  1.12 0.0165  demo_2020       #>  6 cps      automotive ice        global  2021  1.02 0.0188  demo_2020       #>  7 cps      automotive electric   global  2022  1.24 0.00213 demo_2020       #>  8 cps      automotive hybrid     global  2022  1.24 0.0326  demo_2020       #>  9 cps      automotive ice        global  2022  1.04 0.0378  demo_2020       #> 10 cps      automotive electric   global  2023  1.35 0.00316 demo_2020       #> # ℹ 1,502 more rows"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/articles/data_scenario.html","id":"climate-transition-scenario-dataset-co2-intensity-pathways-for-sectoral-decarbonization-approach","dir":"Articles","previous_headings":"","what":"Climate transition scenario dataset (CO2 intensity pathways for sectoral decarbonization approach)","title":"Scenario","text":"CO2 intensity climate transition scenario dataset, prepared PACTA Banks software, e.g. based scenarios International Energy Agency (IEA). Includes change time production-based emission intensity across industrial sectors. r2dii.data package provides example CO2 intensity climate transition scenario dataset r2dii.data::co2_intensity_scenario_demo.","code":"r2dii.data::co2_intensity_scenario_demo #> # A tibble: 22 × 7 #>    scenario_source scenario sector region  year emission_factor_unit              emission_factor #>    <chr>           <chr>    <chr>  <chr>  <dbl> <chr>                                       <dbl> #>  1 demo_2020       demo     cement global  2020 tonnes of CO2 per tonne of Cement            0.7  #>  2 demo_2020       demo     cement global  2021 tonnes of CO2 per tonne of Cement            0.64 #>  3 demo_2020       demo     cement global  2022 tonnes of CO2 per tonne of Cement            0.58 #>  4 demo_2020       demo     cement global  2023 tonnes of CO2 per tonne of Cement            0.52 #>  5 demo_2020       demo     cement global  2024 tonnes of CO2 per tonne of Cement            0.46 #>  6 demo_2020       demo     cement global  2025 tonnes of CO2 per tonne of Cement            0.4  #>  7 demo_2020       demo     cement global  2030 tonnes of CO2 per tonne of Cement            0.39 #>  8 demo_2020       demo     cement global  2035 tonnes of CO2 per tonne of Cement            0.38 #>  9 demo_2020       demo     cement global  2040 tonnes of CO2 per tonne of Cement            0.25 #> 10 demo_2020       demo     cement global  2045 tonnes of CO2 per tonne of Cement            0.2  #> # ℹ 12 more rows"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Jacob Kastl. Author, maintainer, contractor. Jackson Hoffart. Author, contractor. CJ Yetman. Author, contractor. . Copyright holder, funder.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Kastl J, Hoffart J, Yetman C (2025). pacta.loanbook: Easily Install Load PACTA Banks Packages. R package version 0.0.0.9000, https://github.com/rmi-pacta/pacta.loanbook, https://rmi-pacta.github.io/pacta.loanbook/.","code":"@Manual{,   title = {pacta.loanbook: Easily Install and Load PACTA for Banks Packages},   author = {Jacob Kastl and Jackson Hoffart and CJ Yetman},   year = {2025},   note = {R package version 0.0.0.9000, https://github.com/rmi-pacta/pacta.loanbook},   url = {https://rmi-pacta.github.io/pacta.loanbook/}, }"},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"Easily Install and Load PACTA for Banks Packages","text":"goal pacta.loanbook provide easy way load install packages needed running PACTA Banks. also serves space provide thorough comprehensive documentation running PACTA Banks, form cookbook.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Easily Install and Load PACTA for Banks Packages","text":"can install development version pacta.loanbook GitHub :","code":"# install.packages(\"pak\") pak::pak(\"RMI-PACTA/pacta.loanbook\")"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/index.html","id":"usage-wip","dir":"","previous_headings":"","what":"Usage (WIP!)","title":"Easily Install and Load PACTA for Banks Packages","text":"library(pacta.loanbook) load core pacta.loanbook packages: r2dii.data, input data sets used PACTA Banks (e.g. sector classification systems, regional mappers, data dictionary, demo data). r2dii.match, matching counterparties raw input loan books companies asset-based company data (ABCD). r2dii.analysis, calculating alignment loan books /counterparties climate transition scenarios. r2dii.plot, plotting results alignment analysis standard PACTA plot format.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta.loanbook-package.html","id":null,"dir":"Reference","previous_headings":"","what":"pacta.loanbook: Easily Install and Load PACTA for Banks Packages — pacta.loanbook-package","title":"pacta.loanbook: Easily Install and Load PACTA for Banks Packages — pacta.loanbook-package","text":"PACTA Banks tool allows banks calculate climate alignment corporate lending portfolios. package designed make easy install load multiple PACTA Banks packages single step. also provides thorough documentation - PACTA Banks cookbook - run PACTA Banks analysis. covers prerequisites analysis, separate steps running analysis, interpretation PACTA Banks results, advanced use cases.","code":""},{"path":[]},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta.loanbook-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"pacta.loanbook: Easily Install and Load PACTA for Banks Packages — pacta.loanbook-package","text":"Maintainer: Jacob Kastl jacob.kastl@gmail.com (ORCID) [contractor] Authors: Jackson Hoffart jackson.hoffart@gmail.com (ORCID) [contractor] CJ Yetman cj@cjyetman.com (ORCID) [contractor] contributors: RMI PACTA4banks@rmi.org [copyright holder, funder]","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_conflicts.html","id":null,"dir":"Reference","previous_headings":"","what":"Conflicts between the pacta.loanbook and other packages — pacta_loanbook_conflicts","title":"Conflicts between the pacta.loanbook and other packages — pacta_loanbook_conflicts","text":"function lists conflicts packages pacta.loanbook packages loaded.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_conflicts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Conflicts between the pacta.loanbook and other packages — pacta_loanbook_conflicts","text":"","code":"pacta_loanbook_conflicts(only = NULL)"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_conflicts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Conflicts between the pacta.loanbook and other packages — pacta_loanbook_conflicts","text":"Set character vector restrict conflicts packages.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_conflicts.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Conflicts between the pacta.loanbook and other packages — pacta_loanbook_conflicts","text":"four conflicts deliberately ignored: intersect, union, setequal, setdiff dplyr. functions make base equivalents generic, negatively affect existing code.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_conflicts.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Conflicts between the pacta.loanbook and other packages — pacta_loanbook_conflicts","text":"","code":"pacta_loanbook_conflicts()"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_deps.html","id":null,"dir":"Reference","previous_headings":"","what":"List all pacta.loanbook dependencies — pacta_loanbook_deps","title":"List all pacta.loanbook dependencies — pacta_loanbook_deps","text":"List pacta.loanbook dependencies","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_deps.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List all pacta.loanbook dependencies — pacta_loanbook_deps","text":"","code":"pacta_loanbook_deps(recursive = FALSE, repos = getOption(\"repos\"))"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_deps.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List all pacta.loanbook dependencies — pacta_loanbook_deps","text":"recursive TRUE, also list dependencies pacta.loanbook packages. repos repositories use check updates. Defaults getOption(\"repos\").","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_logo.html","id":null,"dir":"Reference","previous_headings":"","what":"The pacta_loanbook logo, using ASCII or Unicode characters — pacta_loanbook_logo","title":"The pacta_loanbook logo, using ASCII or Unicode characters — pacta_loanbook_logo","text":"Use cli::ansi_strip() get rid colors.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_logo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"The pacta_loanbook logo, using ASCII or Unicode characters — pacta_loanbook_logo","text":"","code":"pacta_loanbook_logo(unicode = cli::is_utf8_output())"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_logo.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"The pacta_loanbook logo, using ASCII or Unicode characters — pacta_loanbook_logo","text":"unicode Whether use Unicode symbols. Default TRUE UTF-8 platforms.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_logo.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"The pacta_loanbook logo, using ASCII or Unicode characters — pacta_loanbook_logo","text":"","code":"pacta_loanbook_logo() #>  ____    ______  ____    ______  ______      #> /\\  _`\\ /\\  _  \\/\\  _`\\ /\\__  _\\/\\  _  \\     #> \\ \\ \\L\\ \\ \\ \\L\\ \\ \\ \\/\\_\\/_/\\ \\/\\ \\ \\L\\ \\    #>  \\ \\ ,__/\\ \\  __ \\ \\ \\/_/_ \\ \\ \\ \\ \\  __ \\   #>   \\ \\ \\/  \\ \\ \\/\\ \\ \\ \\L\\ \\ \\ \\ \\ \\ \\ \\/\\ \\  #>    \\ \\_\\   \\ \\_\\ \\_\\ \\____/  \\ \\_\\ \\ \\_\\ \\_\\ #>     \\/_/    \\/_/\\/_/\\/___/    \\/_/  \\/_/\\/_/ #>"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_packages.html","id":null,"dir":"Reference","previous_headings":"","what":"List all packages in pacta.loanbook — pacta_loanbook_packages","title":"List all packages in pacta.loanbook — pacta_loanbook_packages","text":"List packages pacta.loanbook","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_packages.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List all packages in pacta.loanbook — pacta_loanbook_packages","text":"","code":"pacta_loanbook_packages(include_self = TRUE)"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_packages.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List all packages in pacta.loanbook — pacta_loanbook_packages","text":"include_self Include pacta.loanbook list?","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_packages.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List all packages in pacta.loanbook — pacta_loanbook_packages","text":"","code":"pacta_loanbook_packages() #>  [1] \"cli\"            \"dplyr\"          \"magrittr\"       \"purrr\"          #>  [5] \"r2dii.analysis\" \"r2dii.data\"     \"r2dii.match\"    \"r2dii.plot\"     #>  [9] \"rlang\"          \"rstudioapi\"     \"tibble\"         \"pacta.loanbook\""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_sitrep.html","id":null,"dir":"Reference","previous_headings":"","what":"Get a situation report on pacta.loanbook — pacta_loanbook_sitrep","title":"Get a situation report on pacta.loanbook — pacta_loanbook_sitrep","text":"function gives quick overview versions R RStudio well pacta.loanbook packages. primarily designed help get quick idea going helping someone else debug problem.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_sitrep.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get a situation report on pacta.loanbook — pacta_loanbook_sitrep","text":"","code":"pacta_loanbook_sitrep()"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_update.html","id":null,"dir":"Reference","previous_headings":"","what":"Update pacta.loanbook packages — pacta_loanbook_update","title":"Update pacta.loanbook packages — pacta_loanbook_update","text":"check see pacta.loanbook packages (optionally, dependencies) --date, install interactive confirmation.","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_update.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update pacta.loanbook packages — pacta_loanbook_update","text":"","code":"pacta_loanbook_update(recursive = FALSE, repos = getOption(\"repos\"))"},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_update.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update pacta.loanbook packages — pacta_loanbook_update","text":"recursive TRUE, also list dependencies pacta.loanbook packages. repos repositories use check updates. Defaults getOption(\"repos\").","code":""},{"path":"https://rmi-pacta.github.io/pacta.loanbook/reference/pacta_loanbook_update.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Update pacta.loanbook packages — pacta_loanbook_update","text":"","code":"if (FALSE) { # \\dontrun{ pacta_loanbook_update() } # }"}]
