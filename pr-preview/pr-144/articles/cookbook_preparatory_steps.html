<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Preparatory Steps • pacta.loanbook</title>
<link rel="icon" type="image/png" sizes="16x16" href="/headshot_placeholder.png">
<link rel="icon" type="image/png" sizes="32x32" href="/headshot_placeholder.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/headshot_placeholder.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Overpass-0.4.9/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Preparatory Steps">
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-info" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">pacta.loanbook</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-cookbook" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Cookbook</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-cookbook">
<li><a class="dropdown-item" href="../articles/cookbook_overview.html">Overview</a></li>
    <li><a class="dropdown-item" href="../articles/cookbook_preparatory_steps.html">Preparatory Steps</a></li>
    <li><a class="dropdown-item" href="../articles/cookbook_running_the_analysis.html">Running the Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/cookbook_interpretation.html">Interpretation of Results</a></li>
    <li><a class="dropdown-item" href="../articles/cookbook_advanced_use_cases.html">Advanced Use Cases</a></li>
    <li><a class="dropdown-item" href="../articles/cookbook_metrics.html">Metrics</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-data-dictionaries" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Data Dictionaries</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-data-dictionaries">
<li><a class="dropdown-item" href="../articles/data_loanbook.html">Loanbook</a></li>
    <li><a class="dropdown-item" href="../articles/data_abcd.html">ABCD</a></li>
    <li><a class="dropdown-item" href="../articles/data_scenario.html">Scenario</a></li>
    <li><a class="dropdown-item" href="../articles/data_classification.html">Sector Classification</a></li>
    <li><a class="dropdown-item" href="../articles/data_outputs.html">PACTA Outputs</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><h6 class="dropdown-header" data-toc-skip>r2dii.match</h6></li>
    <li><a class="external-link dropdown-item" href="https://rmi-pacta.github.io/r2dii.match/articles/matching-coverage.html">Calculating Matching Coverage</a></li>
    <li><a class="external-link dropdown-item" href="https://rmi-pacta.github.io/r2dii.match/articles/chunk-your-data.html">Using match_name() with large loanbooks</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>r2dii.analysis</h6></li>
    <li><a class="external-link dropdown-item" href="https://rmi-pacta.github.io/r2dii.analysis/articles/target-sda.html">Sectoral Decarbonization Approach (SDA)</a></li>
    <li><a class="external-link dropdown-item" href="https://rmi-pacta.github.io/r2dii.analysis/articles/target-market-share.html">Market Share Approach</a></li>
    <li><a class="external-link dropdown-item" href="https://rmi-pacta.github.io/r2dii.analysis/articles/production-percent-change.html">Indicator Choices: Weighted Production vs. Weighted Percent Change in Production</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-packages" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Packages</button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-packages">
<li><a class="dropdown-item" href="https://rmi-pacta.github.io/pacta.loanbook/">pacta.loanbook</a></li>
    <li><a class="external-link dropdown-item" href="https://rmi-pacta.github.io/r2dii.data/">r2dii.data</a></li>
    <li><a class="external-link dropdown-item" href="https://rmi-pacta.github.io/r2dii.match/">r2dii.match</a></li>
    <li><a class="external-link dropdown-item" href="https://rmi-pacta.github.io/r2dii.analysis/">r2dii.analysis</a></li>
    <li><a class="external-link dropdown-item" href="https://rmi-pacta.github.io/r2dii.plot/">r2dii.plot</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/pacta_loanbook_sit_rep.html">sit.rep</a></li>
  </ul>
</li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rmi-pacta/pacta.loanbook/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Preparatory Steps</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/rmi-pacta/pacta.loanbook/blob/plot-saving-instructions/vignettes/cookbook_preparatory_steps.Rmd" class="external-link"><code>vignettes/cookbook_preparatory_steps.Rmd</code></a></small>
      <div class="d-none name"><code>cookbook_preparatory_steps.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="preparatory-steps">Preparatory Steps<a class="anchor" aria-label="anchor" href="#preparatory-steps"></a>
</h2>
<p>This section provides an overview of the preparatory steps that need
to be taken before running the PACTA for Banks analysis. It includes
information on the required input data sets and the required
software.</p>
<div class="section level3">
<h3 id="required-input-data-sets">Required Input Data Sets<a class="anchor" aria-label="anchor" href="#required-input-data-sets"></a>
</h3>
<p>The PACTA for Banks analysis requires a number of input data sets to
run. Some of these can be obtained from external sources, while others
need to be prepared by the user. Furthermore, some of the input data
sets are optional.</p>
<p>The main input data sets required for the analysis are the
following:</p>
<div class="section level4">
<h4 id="asset-based-company-data-abcd">Asset-based Company Data (ABCD)<a class="anchor" aria-label="anchor" href="#asset-based-company-data-abcd"></a>
</h4>
<ul>
<li>required input</li>
<li>external source</li>
<li>XLSX file</li>
</ul>
<p>This data set provides information on the production profiles and
emission intensities of companies active in the following real economy
sectors: Automotive (light-duty vehicles) manufacturing, aviation,
cement production, coal mining, upstream oil &amp; gas extraction, power
generation, and steel production. The ABCD is typically obtained from
third party data providers. However, it is possible to prepare the ABCD
yourself or complement an external data set with entries that may not be
covered out of the box.</p>
<p>The ABCD data set must be an XLSX file and contains the following
columns:</p>
<ul>
<li>
<code>company_id</code>: <span class="ansi ansi-color-4">&lt;character&gt;</span>
</li>
<li>
<code>name_company</code>: <span class="ansi ansi-color-4">&lt;character&gt;</span>
</li>
<li>
<code>lei</code>: <span class="ansi ansi-color-4">&lt;character&gt;</span>
</li>
<li>
<code>sector</code>: <span class="ansi ansi-color-4">&lt;character&gt;</span>
</li>
<li>
<code>technology</code>: <span class="ansi ansi-color-4">&lt;character&gt;</span>
</li>
<li>
<code>production_unit</code>: <span class="ansi ansi-color-4">&lt;character&gt;</span>
</li>
<li>
<code>year</code>: <span class="ansi ansi-color-4">&lt;integer&gt;</span>
</li>
<li>
<code>production</code>: <span class="ansi ansi-color-4">&lt;numeric&gt;</span>
</li>
<li>
<code>emission_factor</code>: <span class="ansi ansi-color-4">&lt;numeric&gt;</span>
</li>
<li>
<code>plant_location</code>: <span class="ansi ansi-color-4">&lt;character&gt;</span>
</li>
<li>
<code>is_ultimate_owner</code>: <span class="ansi ansi-color-4">&lt;logical&gt;</span>
</li>
<li>
<code>emission_factor_unit</code>: <span class="ansi ansi-color-4">&lt;character&gt;</span>
</li>
</ul>
<p>For more detail about the necessary structure of this dataset, see
the data dictionary for <a href="data_abcd.html">abcd</a>.</p>
<p>While PACTA is data agnostic and allows using data from any provider
that offers the appropriate format, one option to obtain ABCD for this
analysis is to buy the data from the data provider Asset Impact. Further
information on how to obtain ABCD for PACTA and documentation of the
individual sectors and data points can be found on the <a href="https://asset-impact.gresb.com/" class="external-link">Asset Impact website</a>.</p>
</div>
<div class="section level4">
<h4 id="scenario-data">Scenario Data<a class="anchor" aria-label="anchor" href="#scenario-data"></a>
</h4>
<ul>
<li>required input(s)</li>
<li>external source</li>
<li>CSV file(s)</li>
</ul>
<p>The scenario data set provides information on the trajectories of
technologies/fuel types and of emission intensity pathways for each of
(or a subset of) the sectors covered in PACTA.</p>
<p>For sectors with technology level trajectories, the data set provides
the TMSR and SMSP pathways based on the Market Share Approach, an
allocation rule that implies all companies active in a sector have to
adjust their production in a way that keeps market shares constant and
solves for the aggregate climate transition scenario. For more
information on how to calculate the TMSR and the SMSP, see the <a href="https://rmi-pacta.github.io/r2dii.analysis/articles/target-market-share.html" class="external-link">PACTA
for Banks documentation</a>.</p>
<p>The target market share scenario data set must be a CSV file and
contains the following columns:</p>
<ul>
<li>
<code>scenario</code>: <span class="ansi ansi-color-4">&lt;character&gt;</span>
</li>
<li>
<code>sector</code>: <span class="ansi ansi-color-4">&lt;character&gt;</span>
</li>
<li>
<code>technology</code>: <span class="ansi ansi-color-4">&lt;character&gt;</span>
</li>
<li>
<code>region</code>: <span class="ansi ansi-color-4">&lt;character&gt;</span>
</li>
<li>
<code>year</code>: <span class="ansi ansi-color-4">&lt;integer&gt;</span>
</li>
<li>
<code>tmsr</code>: <span class="ansi ansi-color-4">&lt;numeric&gt;</span>
</li>
<li>
<code>smsp</code>: <span class="ansi ansi-color-4">&lt;numeric&gt;</span>
</li>
<li>
<code>scenario_source</code>: <span class="ansi ansi-color-4">&lt;character&gt;</span>
</li>
</ul>
<p>For more detail about the necessary structure of this dataset, see
the data dictionary for <a href="data_scenario.html#climate-transition-scenario-dataset-technology-pathways-for-target-market-share-calculation">scenario</a>.</p>
<p>For sectors that do not have technology level pathways, PACTA uses
the Sectoral Decarbonization Approach (SDA), an allocation rule that
implies that all companies in a sector have to converge their physical
emission intensity at a future scenario value - e.g. in the year 2050.
This implies that more polluting companies have to reduce their physical
emissions intensity more drastically than companies using cleaner
technology. It does not have any direct implications on the amount of
units produced by any company. For further information on calculating
the SDA in PACTA, please see the <a href="https://rmi-pacta.github.io/r2dii.analysis/articles/target-sda.html" class="external-link">PACTA
for Banks documentation</a>.</p>
<p>The SDA scenario data set must be a CSV file and contains the
following columns:</p>
<ul>
<li>
<code>scenario_source</code>: <span class="ansi ansi-color-4">&lt;character&gt;</span>
</li>
<li>
<code>scenario</code>: <span class="ansi ansi-color-4">&lt;character&gt;</span>
</li>
<li>
<code>sector</code>: <span class="ansi ansi-color-4">&lt;character&gt;</span>
</li>
<li>
<code>region</code>: <span class="ansi ansi-color-4">&lt;character&gt;</span>
</li>
<li>
<code>year</code>: <span class="ansi ansi-color-4">&lt;numeric&gt;</span>
</li>
<li>
<code>emission_factor_unit</code>: <span class="ansi ansi-color-4">&lt;character&gt;</span>
</li>
<li>
<code>emission_factor</code>: <span class="ansi ansi-color-4">&lt;numeric&gt;</span>
</li>
</ul>
<p>For more detail about the necessary structure of this dataset, see
the data dictionary for <a href="data_scenario.html#climate-transition-scenario-dataset-co2-intensity-pathways-for-sectoral-decarbonization-approach">scenario</a>.</p>
<p>While the raw input values of the scenarios are based on models from
external third party organisations - such as the <a href="https://www.iea.org/reports/world-energy-outlook-2024" class="external-link">World
Energy Outlook</a> by the <a href="https://www.iea.org/" class="external-link">International
Energy Agency (IEA)</a>, the <a href="https://joint-research-centre.ec.europa.eu/scientific-activities-z/geco_en" class="external-link">Global
Energy and Climate Outlook by the Joint Research Center of the European
Commission (JRC)</a>, or the <a href="https://www.uts.edu.au/oecm" class="external-link">One
Earth Climate Model by the Institute for Sustainable Futures (ISF)</a> -
the input data set for PACTA must be prepared using additional steps,
which are documented publicly on the following GitHub repositories:</p>
<ul>
<li><a href="https://github.com/RMI-PACTA/pacta.scenario.data.preparation" class="external-link">pacta.scenario.data.preparation</a></li>
<li><a href="https://github.com/RMI-PACTA/workflow.scenario.preparation" class="external-link">workflow.scenario.preparation</a></li>
</ul>
<p>Since RMI has taken over stewardship of PACTA, the prepared scenario
files can also be accessed as CSV downloads in the <a href="https://pacta.rmi.org/pacta-for-banks-2020/methodology-and-supporting-materials/" class="external-link">“Methodology
and Supporting Documents” section of the PACTA website</a>. The files
are usually updated annually based on the latest scenario publications
and as a general rule, the year of the publication defines the initial
year of the scenario data set. This is commonly also used as the start
year of the analysis.</p>
</div>
<div class="section level4">
<h4 id="raw-loan-book">Raw Loan Book<a class="anchor" aria-label="anchor" href="#raw-loan-book"></a>
</h4>
<ul>
<li>required input</li>
<li>self-prepared</li>
<li>CSV file</li>
</ul>
<p>The raw loan book is the financial data set that you would like to
analyze. It contains information on the loans that you have provided to
companies. As a bank, the data required will be available in your
internal systems.</p>
<p>The raw loan book must be prepared as CSV files and contain at a
minimum the following columns:</p>
<ul>
<li>
<code>id_loan</code>: <span class="ansi ansi-color-4">&lt;character&gt;</span>
</li>
<li>
<code>id_direct_loantaker</code>: <span class="ansi ansi-color-4">&lt;character&gt;</span>
</li>
<li>
<code>name_direct_loantaker</code>: <span class="ansi ansi-color-4">&lt;character&gt;</span>
</li>
<li>
<code>id_ultimate_parent</code>: <span class="ansi ansi-color-4">&lt;character&gt;</span>
</li>
<li>
<code>name_ultimate_parent</code>: <span class="ansi ansi-color-4">&lt;character&gt;</span>
</li>
<li>
<code>loan_size_outstanding</code>: <span class="ansi ansi-color-4">&lt;numeric&gt;</span>
</li>
<li>
<code>loan_size_outstanding_currency</code>: <span class="ansi ansi-color-4">&lt;character&gt;</span>
</li>
<li>
<code>loan_size_credit_limit</code>: <span class="ansi ansi-color-4">&lt;numeric&gt;</span>
</li>
<li>
<code>loan_size_credit_limit_currency</code>: <span class="ansi ansi-color-4">&lt;character&gt;</span>
</li>
<li>
<code>sector_classification_system</code>: <span class="ansi ansi-color-4">&lt;character&gt;</span>
</li>
<li>
<code>sector_classification_direct_loantaker</code>: <span class="ansi ansi-color-4">&lt;character&gt;</span>
</li>
<li>
<code>lei_direct_loantaker</code>: <span class="ansi ansi-color-4">&lt;character&gt;</span>
</li>
<li>
<code>isin_direct_loantaker</code>: <span class="ansi ansi-color-4">&lt;character&gt;</span>
</li>
</ul>
<p>For more detail about the necessary structure of this dataset, see
the data dictionary for <a href="data_loanbook.html">loanbook</a>.</p>
<p>For detailed descriptions of how to prepare raw loan books, see the
<a href="https://pacta.rmi.org/pacta-for-banks-2020/training-materials/" class="external-link">“Training
Materials” section of the PACTA for Banks documentation</a>. The <a href="https://pacta.rmi.org/wp-content/uploads/2020/10/User-Guide-2..pdf" class="external-link">“User
Guide 2”</a>, the <a href="https://pacta.rmi.org/wp-content/uploads/2020/09/data_dictionary.xlsx" class="external-link">“Data
Dictionary”</a>, and the <a href="https://pacta.rmi.org/wp-content/uploads/2020/09/loanbook_demo.xlsx" class="external-link">“Loan
Book Template”</a> files can all be helpful in preparing your data.</p>
</div>
<div class="section level4">
<h4 id="misclassified-loans-optional">Misclassified Loans (optional)<a class="anchor" aria-label="anchor" href="#misclassified-loans-optional"></a>
</h4>
<ul>
<li>optional input</li>
<li>self-prepared</li>
<li>CSV file</li>
</ul>
<p>The misclassified loans CSV file should have just one column,
id_loan, and therefore be structured as follows:</p>
<ul>
<li>
<code>id_loan</code>: <span class="ansi ansi-color-4">&lt;character&gt;</span>
</li>
</ul>
<p>The user can provide a list of loans that have been misclassified in
the raw loan book. The aim here is specifically to remove false
positives, that is, loans that are classified in scope of one of the
PACTA sectors, but where manual research shows that the companies do not
actually operate within the PACTA scope. Such a false positive may be
due to erroneous data entry in the raw loan book, for example. Removing
these loans from the falsely indicated sector in the calculation of the
match success rate will give a more accurate picture of what match
success rate can really be reached.</p>
</div>
<div class="section level4">
<h4 id="manual-sector-classification-optional">Manual Sector Classification (optional)<a class="anchor" aria-label="anchor" href="#manual-sector-classification-optional"></a>
</h4>
<ul>
<li>optional input</li>
<li>self-prepared</li>
<li>CSV file</li>
</ul>
<p>The the manual sector classification data set must be prepared as a
CSV file and contain the following columns:</p>
<ul>
<li>
<code>sector</code>: <span class="ansi ansi-color-4">&lt;character&gt;</span>
</li>
<li>
<code>borderline</code>: <span class="ansi ansi-color-4">&lt;logical&gt;</span>
</li>
<li>
<code>code</code>: <span class="ansi ansi-color-4">&lt;character&gt;</span>
</li>
<li>
<code>code_system</code>: <span class="ansi ansi-color-4">&lt;character&gt;</span>
</li>
</ul>
<p>In case the user cannot obtain sector classification codes of any of
the classification systems featured in
<code>sector_classifications</code> (currently the following
classification systems are featured: GICS, ISIC, NACE, NAICS, PSIC,
SIC), the user can provide a manually created sector classification file
for matching the loan book to the ABCD instead. Generally, any such
manually prepared sector classification file must follow the format of
<code>sector_classifications</code>. It is recommended to use the built
in sector classifications if possible, as mapping your own sector
classification to the PACTA sectors can be complex and time
consuming.</p>
</div>
</div>
<div class="section level3">
<h3 id="required-software">Required Software<a class="anchor" aria-label="anchor" href="#required-software"></a>
</h3>
<p>Using the <a href="https://rmi-pacta.github.io/pacta.loanbook/">pacta.loanbook</a> package for the PACTA for
Banks analysis requires the following software to be installed on your
system:</p>
<div class="section level4">
<h4 id="r-version-4-1-0-or-higher">R (version 4.1.0 or higher)<a class="anchor" aria-label="anchor" href="#r-version-4-1-0-or-higher"></a>
</h4>
<p>R is the programming language that the <a href="https://rmi-pacta.github.io/pacta.loanbook/">pacta.loanbook</a>
package is written in. You can download R from the <a href="https://cran.r-project.org/" class="external-link">Comprehensive R Archive Network
(CRAN)</a>.</p>
</div>
<div class="section level4">
<h4 id="rstudio-optional">RStudio (optional)<a class="anchor" aria-label="anchor" href="#rstudio-optional"></a>
</h4>
<p>RStudio is an integrated development environment (IDE) for R
developed by Posit. It is not strictly required to run the analysis, but
it can be helpful for managing your project and running the analysis.
Generally, RStudio is very widely used among the R community and
probably the easiest way to interact with most R tools, such as the
<a href="https://rmi-pacta.github.io/pacta.loanbook/">pacta.loanbook</a> suite of packages. RStudio Desktop is an
open source tool and free of charge. You can download RStudio from the
<a href="https://posit.co/downloads/" class="external-link">Posit RStudio website</a>.</p>
</div>
<div class="section level4">
<h4 id="pacta-loanbook-package">
<code>{pacta.loanbook}</code> package<a class="anchor" aria-label="anchor" href="#pacta-loanbook-package"></a>
</h4>
<p>The <a href="https://rmi-pacta.github.io/pacta.loanbook/">pacta.loanbook</a> R package is the main software tool
that you will use to run the PACTA for Banks analysis.</p>
<p>You can install the <a href="https://rmi-pacta.github.io/pacta.loanbook/">pacta.loanbook</a> R package from any
CRAN mirror by running the following command in R:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"pacta.loanbook"</span><span class="op">)</span></span></code></pre></div>
<p>You can install the development versions of the
<a href="https://rmi-pacta.github.io/pacta.loanbook/">pacta.loanbook</a> R package from GitHub with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("pak")</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"RMI-PACTA/pacta.loanbook"</span><span class="op">)</span></span></code></pre></div>
<p>We use the <a href="https://pak.r-lib.org/index.html" class="external-link"><code>pak</code> package</a> as
a simple <a href="https://pak.r-lib.org/reference/pak.html" class="external-link">tool to
install packages from GitHub</a>.</p>
<div class="section level5">
<h5 id="connecting-to-github-from-rstudio">Connecting to GitHub from RStudio<a class="anchor" aria-label="anchor" href="#connecting-to-github-from-rstudio"></a>
</h5>
<p>Note that if you choose to install the <a href="https://rmi-pacta.github.io/pacta.loanbook/">pacta.loanbook</a>
R package from GitHub, you will need to have:</p>
<ol style="list-style-type: decimal">
<li>registered a <a href="https://github.com/" class="external-link">GitHub</a> account,</li>
<li>
<code>git</code> installed locally,</li>
<li>set up credentials so that RStudio can communicate with GitHub.</li>
</ol>
<p>You can find more information on how to do this using the following
resources:</p>
<ul>
<li>
<a href="https://happygitwithr.com/" class="external-link">Happy Git and GitHub for the
useR</a> is a great and comprehensive resource that takes you through
the process of setting up git and GitHub with RStudio, including
registering a GitHub account, installing git, and connecting RStudio to
GitHub.</li>
<li>Additional information on managing your GitHub connection from
within RStudio can be found in the usethis package documentation, for
example on <a href="https://usethis.r-lib.org/articles/git-credentials.html" class="external-link">managing
git credentials</a>.</li>
</ul>
<p>If you only plan to use GitHub to install this package or other
packages as shown above, you will not have to have a deep understanding
of all the git commands, so there is no need to be overwhelmed by the
complexity of git.</p>
</div>
</div>
<div class="section level4">
<h4 id="required-r-packages">Required R packages<a class="anchor" aria-label="anchor" href="#required-r-packages"></a>
</h4>
<p>The <a href="https://rmi-pacta.github.io/pacta.loanbook/">pacta.loanbook</a> R package depends on a number of
other R packages. These dependencies will be installed automatically
when you install the <a href="https://rmi-pacta.github.io/pacta.loanbook/">pacta.loanbook</a> R package. The
required packages are:</p>
<p><a href="https://cli.r-lib.org" class="external-link">cli</a>, <a href="https://r-datatable.com" class="external-link">data.table</a>, <a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a>,
<a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a>, <a href="https://ggrepel.slowkow.com/" class="external-link">ggrepel</a>, <a href="https://glue.tidyverse.org/" class="external-link">glue</a>,
<a href="https://lifecycle.r-lib.org/" class="external-link">lifecycle</a>, <a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a>, <a href="https://purrr.tidyverse.org/" class="external-link">purrr</a>,
<a href="https://rmi-pacta.github.io/r2dii.analysis/" class="external-link">r2dii.analysis</a>, <a href="https://rmi-pacta.github.io/r2dii.data/" class="external-link">r2dii.data</a>,
<a href="https://rmi-pacta.github.io/r2dii.match/" class="external-link">r2dii.match</a>, <a href="https://rmi-pacta.github.io/r2dii.plot/" class="external-link">r2dii.plot</a>,
<a href="https://rlang.r-lib.org" class="external-link">rlang</a>, <a href="https://rstudio.github.io/rstudioapi/" class="external-link">rstudioapi</a>, <a href="https://scales.r-lib.org" class="external-link">scales</a>,
<a href="https://github.com/markvanderloo/stringdist" class="external-link">stringdist</a>, <a href="https://stringi.gagolewski.com/" class="external-link">stringi</a>,
<a href="https://stringr.tidyverse.org" class="external-link">stringr</a>, <a href="https://tibble.tidyverse.org/" class="external-link">tibble</a>, <a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a>,
<a href="https://tidyselect.r-lib.org" class="external-link">tidyselect</a>, <a href="https://zoo.R-Forge.R-project.org/" class="external-link">zoo</a></p>
</div>
<div class="section level4">
<h4 id="faq">FAQ<a class="anchor" aria-label="anchor" href="#faq"></a>
</h4>
<div class="section level5">
<h5 id="how-do-i-install-the-pacta-loanbook-r-package">How do I install the <code>{pacta.loanbook}</code> R package?<a class="anchor" aria-label="anchor" href="#how-do-i-install-the-pacta-loanbook-r-package"></a>
</h5>
<p>The most common ways to install R packages are via CRAN or <a href="#connecting-to-github-from-rstudio">GitHub</a>. Public
institutions often have restrictions on the installation of packages
from GitHub, so you may need to install the package from CRAN. In some
cases, your institution may mirror CRAN in their internal application
registry, so you may need to install the package from there. Should you
have any issues with the installation from the internal application
registry, it is best to reach out to your IT department. If you cannot
obtain the package in any of these ways, please reach out to the package
maintainers directly for exploring other options.</p>
</div>
<div class="section level5">
<h5 id="how-do-i-install-the-required-r-packages">How do I install the required R packages?<a class="anchor" aria-label="anchor" href="#how-do-i-install-the-required-r-packages"></a>
</h5>
<p>In principle, all dependencies required to run the
<a href="https://rmi-pacta.github.io/pacta.loanbook/">pacta.loanbook</a> R package will be installed automatically
when you install the package. However, if you encounter any issues with
the installation of the required packages, you can install them manually
by running the following command in R, where <code>...</code> should be
replaced with the package names from the list above, separated by
commas:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">...</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="checklist-of-preparatory-steps">Checklist of Preparatory Steps<a class="anchor" aria-label="anchor" href="#checklist-of-preparatory-steps"></a>
</h3>
<p>Before running the PACTA for Banks analysis, you should make sure
that you have completed the following preparatory steps:</p>
<ul class="task-list">
<li>
<label><input type="checkbox">Obtained the required external input
data sets:</label>
<ul class="task-list">
<li><label><input type="checkbox">Asset-based Company Data
(ABCD)</label></li>
<li><label><input type="checkbox">Scenario Data</label></li>
</ul>
</li>
<li>
<label><input type="checkbox">Prepared the required input data
sets:</label>
<ul class="task-list">
<li><label><input type="checkbox">Raw Loan Book</label></li>
</ul>
</li>
<li>
<label><input type="checkbox">OPTIONAL - Prepared the optional
input data sets:</label>
<ul class="task-list">
<li><label><input type="checkbox">Misclassified Loans</label></li>
<li><label><input type="checkbox">Manual Sector
Classification</label></li>
</ul>
</li>
<li>
<label><input type="checkbox">Installed the required
software:</label>
<ul class="task-list">
<li><label><input type="checkbox">R (version 4.1.0 or
higher)</label></li>
<li><label><input type="checkbox">RStudio (optional)</label></li>
<li><label><input type="checkbox"><a href="https://rmi-pacta.github.io/pacta.loanbook/">pacta.loanbook</a> R
package</label></li>
<li><label><input type="checkbox"><a href="#connecting-to-github-from-rstudio">set up git and GitHub</a>
(optional)</label></li>
</ul>
</li>
</ul>
<p><strong>PREVIOUS CHAPTER:</strong> <a href="cookbook_overview.html">Overview</a></p>
<p><strong>NEXT CHAPTER:</strong> <a href="cookbook_running_the_analysis.html">Running the Analysis</a></p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="../rmi_logo_stacked_tag_white.svg" alt="RMI logo">
</div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://pacta.rmi.org/" target="_blank" class="external-link"><div class="icon fa fa-link"></div></a>
                        <a href="https://github.com/RMI-PACTA" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://twitter.com/RockyMtnInst" target="_blank" class="external-link"><div class="icon fab fa-twitter"></div></a>
                        <a href="https://www.linkedin.com/showcase/rmi-pacta/" target="_blank" class="external-link"><div class="icon fab fa-linkedin-in"></div></a>
                    </div>
                </div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>© RMI</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</footer>
</div>
<!-- / end footer -->

    
   





  </body>
</html>
